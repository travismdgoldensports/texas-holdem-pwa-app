<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Heads Up Hold Em</title>

<!-- iOS PWA support -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon-180.png">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.webmanifest">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="icons/favicon.svg?v=1">
  <!-- Optional PNG fallbacks if you add them later
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32.png?v=1">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16.png?v=1"> -->
  
<style>
  :root {
    --bg:#0b1320; --felt:#4a1a76; --felt2:#7a2fb6; --edge:#2a0d45;
    --panel:#111a2b; --accent:#35c48d; --text:#e9f0ff; --muted:#a9b6d3;
    --win:#3ddc97; --lose:#ff6b6b; --push:#8db6ff;
    /* Bar colors for bankroll chart */
    --bar-win:#2aa66e;        /* Win (followed) */
    --bar-loss:#c94a4a;       /* Loss (followed) */
    --bar-dev-win:#87A89A;    /* Win (deviated) */
    --bar-dev-loss:#B08F8F;   /* Loss (deviated) */
    /* Card dimensions */
    --card-h:114px;
    --card-w:84px;
    --mini-chart-max-width: 820px;
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  header{padding:14px 16px;background:linear-gradient(90deg,#0b1320,#0f1c2f);
    border-bottom:1px solid #1d2b47;position:sticky;top:0;z-index:10}
  header h1{margin:0;font-size:18px;letter-spacing:.3px}
  /* Hide top header per request */
  header{ display:none; }
  main{
    display:grid;
    grid-template-columns: 200px 1fr;
    gap:20px;
    padding:10px;
    padding-bottom:env(safe-area-inset-bottom);
    align-items:start;
  }
  @media(max-width:1000px){
    /* On narrow screens give table full width */
    main{ grid-template-columns: 1fr; }
  }
  .left{width:100%; min-width:0}
  .panel{background:var(--panel);border:1px solid #203355;border-radius:12px;padding:8px}
  h2{font-size:14px;margin:0 0 6px 0;color:#d9e6ff}
  label{display:block;font-size:12px;color:var(--muted);margin:4px 0 2px}
  input[type=number]{width:100%;padding:8px;background:#0c172a;border:1px solid #2a3f66;border-radius:10px;color:var(--text);font-size:14px}
  input[disabled]{ opacity:.55; cursor:not-allowed; }
  /* Keep sidebar label and input on one line */
  #sidebar .row label{ flex: 1 1 auto; margin-right:6px; }
  #sidebar .row input[type=number]{ flex: 0 0 65px; max-width:96px; }
  button{padding:8px 10px;border-radius:12px;border:1px solid #284c3f;background:#193a30;color:#d8ffee;cursor:pointer;font-weight:700;font-size:13px}
  button[disabled]{opacity:.5;cursor:not-allowed}
  .row{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
  .money{font-variant-numeric:tabular-nums}
  .log{overflow:auto;background:#0e1930;border:1px solid #24365d;border-radius:10px;padding:8px;font-size:11px;line-height:1.3;max-height:13em}
  .sidebar-message{margin-top:6px;font-size:11px;color:#e9f0ff;background:rgba(53,196,141,0.12);border:1px solid rgba(53,196,141,0.35);border-radius:8px;padding:6px 8px;display:none;}
  .pulse-soft{animation:pulseSoft 2s ease-in-out infinite;}
  @keyframes pulseSoft{0%,100%{opacity:0.65;}50%{opacity:1;}}
  /* Compact inline-spaced blocks in sidebar */
  #sidebar > div[style*="margin-top:12px"]{ margin-top:6px !important; }
  #sidebar > div[style*="margin-top:8px"]{ margin-top:6px !important; }
  #sidebar > div[style*="margin-top:6px"]{ margin-top:4px !important; }
  .pill{padding:6px 10px;border-radius:999px;border:1px solid #334b77;color:#b6c6ea;font-size:12px}
  .muted{color:var(--muted)}
  .win{color:var(--win)} .loss{color:var(--lose)} .push{color:var(--push)}

  #tableWrap{width:100%; min-width:0; max-width:920px; justify-self:start}
  #table{
    position:relative; z-index:0; height:462px; min-height:418px; border-radius:32px; border:2px solid var(--edge);
    background:
      radial-gradient(1000px 420px at 50% 18%, rgba(255,255,255,0.06), transparent 60%),
      radial-gradient(800px 360px at 50% 82%, rgba(255,255,255,0.05), transparent 60%),
      radial-gradient(1200px 900px at 50% 50%, var(--felt2), var(--felt));
    box-shadow:inset 0 0 90px rgba(0,0,0,.35), 0 16px 32px rgba(0,0,0,.35);
    overflow:hidden;padding:10px
  }
  #table:before{content:""; position:absolute; inset:10px; border-radius:26px; border:3px solid rgba(255,255,255,0.06); box-shadow:inset 0 0 28px rgba(0,0,0,.2); z-index:0; pointer-events:none;}

  /* Felt arc title under dealer cards */
  .felt-arc{ position:absolute; left:50%; top:30%; transform:translate(-50%, -50%); width:50%; height:100px; opacity:.65; pointer-events:none; z-index:2; }
  .felt-print{ position:absolute; top:16px; left:16px; right:16px; font-size:7px; color:#eddcff; opacity:.85; pointer-events:none; }
  .felt-left{ position:absolute; left:18px; top:auto; bottom:24px; width:170px; font-size:9px; color:#eddcff; opacity:.85; pointer-events:none;}
  .felt-right{ display:none; }
  .felt-head{ font-weight:800; letter-spacing:.4px; margin-bottom:4px; }
  .felt-block{ border:none; border-radius:10px; padding:8px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); box-shadow: inset 0 0 14px rgba(0,0,0,.18); margin-bottom:8px; }
  /* Hide legacy single-block left paytable; we render a stacked version */
  .felt-left.felt-block{ display:none; }
  /* Hide original inline ODDS block within left stack; we use new table version */
  #feltStack .felt-block:nth-child(3){ display:none; }
  /* Hide original inline ODDS block inside feltStack; replaced with table version */
  
  
  /* Expand felt paytables width and keep bottom aligned */
  .felt-left{ width: calc(114px + 170px + 12px); bottom:24px; }


  /* Lay out left paytables and place ODDS to their right */
  #feltStack{ display:grid; grid-template-columns: 114px 170px; grid-auto-rows:auto; column-gap:12px; align-items:end; }
  #feltStack .felt-block:nth-child(1), #feltStack .felt-block:nth-child(2){ grid-column:1; width:auto; }
  /* Make TRIPS PLUS and POCKET BONUS ~30% narrower than the column */
  #feltStack .felt-block:nth-child(1),
  #feltStack .felt-block:nth-child(2){ width:100%; }
  /* Keep the original inline ODDS (3rd) hidden; show the compact ODDS (4th) to the right spanning both rows */
  #feltStack .felt-block:nth-child(4){ grid-column:2; grid-row:1 / span 2; width:auto; }

  /* Compact felt table for ODDS payouts */
  .felt-table{ width:100%; border-collapse:collapse; }
  .felt-table th,
  .felt-table td{ padding:1px 1px;}
  .felt-table th{ font-weight:800; font-size:9px; text-transform:uppercase; letter-spacing:.2px; opacity:.95; }
  .felt-table td{ font-size:10px; }
  .felt-table td.payout{ text-align:right; white-space:nowrap;}
  .felt-table tr + tr td{ border-top:1px solid rgba(255,255,255,.08); }
  /* Smaller table text inside print overlay */
  .felt-print .felt-table th{ font-size:8px; }
  .felt-print .felt-table td{ font-size:8px; }

  .grid{
    position:absolute; top:24pt; left:12px; right:12px; bottom:12px; display:grid; z-index:10;
    /* Keep rows sized to content so the stack stays anchored to the top */
    grid-template-rows:minmax(var(--card-h,114px), auto) minmax(var(--card-h,114px), auto) minmax(var(--card-h,114px), auto);
    grid-template-columns:1fr;
    row-gap:12pt; column-gap:0;
    align-items:start; justify-items:center; align-content:start;
  }
  .lane{display:flex;gap:6px;align-items:center;justify-content:center;flex-wrap:nowrap; position:relative;}
  .lane .label{position:absolute; top:-14px; font-size:13px; padding:2px 8px; border-radius:999px; border:1px solid #24365d; background:#0e1930cc;}
  .lane.player .label{top:auto; bottom:-14px;}
  
  
  .lane .label{ z-index:3; }

.cards{display:flex;gap:6px}

  .card{
    position:relative;
    width:var(--card-w,84px); height:var(--card-h,114px); border-radius:var(--card-br,10px);
    border:1px solid rgba(0,0,0,.25);
    background:#fff;
    color:#000;
    box-shadow:0 6px 14px rgba(0,0,0,.25);
    overflow:hidden;
  }
  .card::before{
    content:""; position:absolute; inset:0;
    background-image:
      linear-gradient(45deg, rgba(0,0,0,.04) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.04) 75%),
      linear-gradient(45deg, rgba(0,0,0,.04) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.04) 75%);
    background-size:6px 6px; background-position:0 0, 3px 3px; opacity:.35; pointer-events:none;
  }
  .index{ position:absolute; font-weight:400; font-family: "Segoe UI", Arial, sans-serif; font-size:24px; }
  .index.wide{ font-size:18px; }
  .index.tl{ left:1px; top:1px; }
  .index.br{ right:1px; bottom:1px; transform: rotate(180deg); }
  .red{ color:#c62828; }
  .back{ background:repeating-linear-gradient(45deg, #1b2a4a, #1b2a4a 6px, #0f1c34 6px, #0f1c34 12px); }
  .back::before{ display:none; }

  /* Corner index: stack suit below rank */
  .index{ display:flex; flex-direction:column; align-items:center; line-height:1; }
  .index .rank{ line-height:1; }
  .index .suit{ line-height:1; margin-top:1px; font-size:24px; }
  .index.wide .rank{ font-size:24px; }
  .index.wide .suit{ font-size:24px; }

  .pips{ position:absolute; left:30%; top:20%; transform:translate(0%,0%); width:40%; height:60%; display:grid; grid-template-rows: repeat(5, 1fr); grid-template-columns: repeat(3, 1fr); }
  .pips.p4{ grid-template-columns: repeat(4, 1fr); }
  .pip{ display:flex; align-items:center; justify-content:center;
    z-index:0;
    overflow:hidden;
    font-size:9px; }
  .pip.red{ color:#c62828; }
  .pips.rank-9 .pip{ font-size:9px; }
  .pips.rank-10 .pip{ font-size:9px; }

  .face-svg{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:40%; height:auto; opacity:.9; }
  .face-svg.red path{ fill:#c62828; }
  .face-svg.black path{ fill:#111; }

  .flip{ animation:flip .35s ease forwards }
  @keyframes flip{ from{ transform:rotateY(90deg); } to{ transform:rotateY(0); } }

  .chip{
    position:absolute;
    width:40px; height:40px;
    border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    z-index:0;
    overflow:hidden;
    font-size:14px; font-weight:800; letter-spacing:.4px;
    color:var(--chip-text,#121821);
    text-shadow:
      0 1px 1px rgba(255,255,255,.55),
      0 2px 4px rgba(0,0,0,.75);
    --chip-light:#f5f5f7;
    --chip-dark:#b0b6c4;
    --chip-core:#e0e4ef;
    background:
      radial-gradient(circle at 28% 24%, rgba(255,255,255,.75) 0%, rgba(255,255,255,0) 45%),
      radial-gradient(circle at 52% 118%, rgba(0,0,0,.35) 0%, rgba(0,0,0,0) 60%),
      radial-gradient(circle, var(--chip-light) 0%, var(--chip-dark) 70%);
    box-shadow:
      inset 0 1px 3px rgba(255,255,255,.25),
      inset 0 -3px 8px rgba(0,0,0,.45),
      0 5px 12px rgba(0,0,0,.45);
    filter: drop-shadow(0 1px 2px rgba(0,0,0,.25));
  }
   .chip::before{
    z-index:-1;
    pointer-events:none;
    content:"";
    position:absolute;
    inset:0;
    border-radius:50%;
    background:
      repeating-conic-gradient(from -8deg,
        rgba(255,255,255,.92) 0deg 12deg,
        rgba(255,255,255,0) 12deg 24deg);
    mask: radial-gradient(circle, transparent 0 58%, rgba(0,0,0,1) 60%);
    -webkit-mask: radial-gradient(circle, transparent 0 58%, #000 60%);
    opacity:.28;
  }
   .chip::after{
    z-index:-1;
    pointer-events:none;
    content:"";
    position:absolute;
    inset:9px;
    border-radius:50%;
    background:
      radial-gradient(circle at 30% 28%, rgba(255,255,255,.5) 0%, rgba(255,255,255,0) 48%),
      radial-gradient(circle, var(--chip-core) 0%, rgba(0,0,0,.22) 110%);
    box-shadow:
      inset 0 1px 2px rgba(255,255,255,.45),
      inset 0 -2px 3px rgba(0,0,0,.3);
  }
  .denom-1  { --chip-light:#ffffff; --chip-dark:#d8dce6; --chip-text:#515355; --chip-core:#f8fbff; }
  .denom-5  { --chip-light:#ffb0b0; --chip-dark:#ae1f1f; --chip-text:#924040; --chip-core:#ffd9d9; }
  .denom-25 { --chip-light:#baf2d5; --chip-dark:#118855; --chip-text:#256d52; --chip-core:#d5fbe7; }
  .denom-100{ --chip-light:#ededed; --chip-dark:#2c2e3c; --chip-text:#454b5d; --chip-core:#d9dde8; }
  .denom-500{ --chip-light:#ecd8ff; --chip-dark:#5125b1; --chip-text:#611aa0; --chip-core:#dfc9ff; }
  
  .pot{ position:absolute; left:50%; top:50%; transform: translate(-50%, -20%); width:120px; height:40px; pointer-events:none; }
  .seat-pot-player{ position:absolute; left:50%; bottom:12%; transform: translateX(-50%); width:120px; height:40px; }
  .seat-pot-dealer{ position:absolute; left:50%; top:12%; transform: translateX(-50%); width:120px; height:40px; }

  /* Betting circles to the right of player cards */
  .bet-circles{ position:absolute; right:18px; bottom:24px; transform:none; display:grid; grid-template-columns:repeat(2, auto); gap:12px 16px; align-items:center; z-index:5; }
  .bet-circle{ width:56px; height:56px; border-radius:50%; border:3px solid rgba(255,255,255,.35); background:rgba(255,255,255,.06); box-shadow: inset 0 0 10px rgba(0,0,0,.35); position:relative; }
  .bet-circle::after{ content:""; position:absolute; inset:8px; border-radius:50%; border:2px dashed rgba(255,255,255,.35); opacity:.7; }
  /* Make Trips and Pocket bet areas square instead of circular */
  #circleTrips, #circlePocket { border-radius:0; }
  #circleTrips::after, #circlePocket::after { border-radius:0; }
  .bet-wrap{ display:flex; flex-direction:column; align-items:center; gap:4px; color:#eddcff; font-size:12px; text-shadow:0 1px 1px rgba(0,0,0,.5); }
  .bet-label{ opacity:.9; }
  /* Small helper text under a bet circle */
  .bet-note{ font-size:10px; line-height:1.2; opacity:.8; text-align:center; }

  .sticky-actions{position:fixed;left:50%;transform:translateX(-50%);bottom:env(safe-area-inset-bottom);z-index:1200;background:#0a1528cc;border:1px solid #203355;border-radius:14px;padding:8px;box-sizing:border-box;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);width:min(920px, calc(100vw - 32px));max-width:920px;}
  .actions{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px}
  .actions button{width:100%}
  .bar-row{ display:flex; align-items:stretch; gap:10px; }
  .sticky-actions .actions{ flex:1 1 auto; }
  .bar-meta{ display:flex; flex-direction:column; gap:4px; align-items:flex-end; justify-content:center; text-align:right; min-width:120px; font-size:20px; }

  /* Keep table and actions compact on narrow screens */
  @media(max-width:1000px){
    #tableWrap{ max-width:100%; justify-self:stretch }
  }

  /* Between 725px and 501px: move stats below buttons, keep buttons in one row */
  @media (max-width:725px) and (min-width:501px){
    .sticky-actions .bar-row{ flex-direction:column; align-items:stretch; gap:8px; }
    .sticky-actions .bar-meta{ flex-direction:row; align-items:center; justify-content:space-between; text-align:left; min-width:0; order:-1; }
    .sticky-actions .bar-meta > div{ white-space:nowrap; }
    .sticky-actions .actions{ order:0; grid-template-columns: repeat(4, minmax(0,1fr)); gap:8px; }
    .sticky-actions .actions .action{ width:100%; }
  }

  @media(max-width:500px){
    .sticky-actions .bar-row{ flex-direction:column; align-items:stretch; gap:8px; }
    .sticky-actions .bar-meta{ flex-direction:row; align-items:center; justify-content:space-between; text-align:left; min-width:0; order:-1; }
    .sticky-actions .bar-meta > div{ white-space:nowrap; }
    .sticky-actions .actions{ order:0; grid-template-columns: repeat(2, minmax(0,1fr)); gap:8px; }
    .sticky-actions .actions .action{ width:100%; }
  }
  /* Advice highlight glow for recommended action */
  .adv-glow{ position:relative; z-index:2; border-color: rgba(255,255,255,.75) !important; }
  .adv-glow{ box-shadow: 0 0 0 2px var(--glow,#35c48d), 0 0 14px var(--glow,#35c48d); animation: advPulse 1.2s ease-in-out infinite alternate; }
  .glow-raise{ --glow: var(--accent); }
  .glow-call{ --glow: #8db6ff; }
  .glow-check{ --glow: #b6c6ea; }
  .glow-fold{ --glow: var(--lose); }
  @keyframes advPulse{ from{ box-shadow:0 0 0 2px var(--glow), 0 0 10px var(--glow); } to{ box-shadow:0 0 0 2px var(--glow), 0 0 20px var(--glow); } }

  /* Big result popup */
  .result-popup{ position:fixed; right:25%; top:40%; transform:translate(-10%,-10%); z-index:2000; 
    background:rgba(10,21,40,.92); border:1px solid #24365d; border-radius:14px; padding:14px 18px; 
    font-size:28px; font-weight:900; letter-spacing:.3px; text-align:center; box-shadow:0 12px 30px rgba(0,0,0,.45); }
  .result-popup .sub{ display:block; font-size:12px; font-weight:600; opacity:.8; margin-top:4px; }

  /* Mini bankroll chart */
  .mini-chart{ border:1px solid #24365d; border-radius:10px; padding:6px; background:#0c172a; cursor:pointer; overflow-x:auto; overflow-y:hidden; transition:width .3s ease; margin:2px auto 0; }
  .mini-chart canvas{ display:block; width:100%; height:162px; }
  #bankrollBelowTable{ position:relative; margin-top:4px; }
  #bankrollBelowTable .mini-area-controls{ position:absolute; top:-20px; left:0; display:none; z-index:5; }
  #miniSwapToggle{ display:none; align-items:center; justify-content:center; background:#22314f; border:1px solid #2e4470; color:#d9e6ff; border-radius:50%; width:32px; height:32px; cursor:pointer; font-size:14px; box-shadow:0 2px 6px rgba(0,0,0,0.35); }
  #miniSwapToggle:hover{ background:#2b3f63; }
  #miniSwapToggle:focus{ outline:2px solid #35c48d; outline-offset:2px; }
  .mini-panels{ display:flex; gap:12px; align-items:stretch; overflow-y:auto; overscroll-behavior:contain; }
  .mini-panel{ flex:1 1 0; display:flex; flex-direction:column; gap:8px; }
  #miniStatPanel{ border:1px solid #24365d; border-radius:10px; background:#111a2b; padding: 4px; min-width:0; }
  .mini-stat-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(110px,1fr)); gap:6px; }
  .mini-stat-item{ position:relative; padding:6px; border:1px solid transparent; border-radius:8px; background:rgba(255,255,255,0.02); cursor:grab; user-select:none; transition:border-color .15s ease, background .15s ease; }
  .mini-stat-item:focus{ outline:2px solid rgba(53,196,141,0.6); outline-offset:2px; }
  .mini-stat-item.dragging{ opacity:.7; cursor:grabbing; border-color:rgba(53,196,141,0.5); background:rgba(53,196,141,0.12); }
  .mini-stat-item{ background:rgba(36,52,93,0.55); border:1px solid rgba(52,92,155,0.55); border-radius:8px; padding:4px; }
  .mini-stat-label{ font-size:8px; color:#a9b6d3; text-transform:uppercase; letter-spacing:.4px; margin-bottom:4px; }
  .mini-stat-value{ font-size:12px; font-weight:500; color:#e9f0ff; }
  .chart-panel{ border:1px solid #24365d; border-radius:10px; background:#0e1930; padding:10px; }
  .chart-panel > .mini-chart{ margin:0; border:1px solid #24365d; }
  .chart-panel > #chartLegendMini{ margin-top:8px; }
  @media(min-width:1100px){
    #bankrollBelowTable{ display:flex; flex-direction:column; gap:10px; }
    #bankrollBelowTable .mini-panels{ display:grid; grid-template-columns:260px 1fr; gap:12px; align-items:stretch; }
    #bankrollBelowTable .mini-area-controls{ display:none !important; }
    #miniStatPanel, .chart-panel{ display:flex; }
  }
  @media(max-width:1099px){
    #bankrollBelowTable .mini-area-controls{ display:block; }
    #miniSwapToggle{ display:inline-flex; }
    #bankrollBelowTable .mini-panels{ flex-direction:column; }
    #bankrollBelowTable .mini-panel{ display:none; }
    #bankrollBelowTable.show-stats #miniStatPanel{ display:flex; }
    #bankrollBelowTable.show-chart .chart-panel{ display:flex; }
  }
  /* Chart modal */
  #chartModal{ display:none; position:fixed; inset:0; background:rgba(6,12,24,.92); z-index:1400; }
  /* Limit modal content height to viewport width (minus insets) */
  #chartModal .inner{
    position:absolute;
    inset:24px;
    /* Override bottom so max-height/height can clamp properly */
    bottom:auto;
    /* Cap overall modal height to screen width while respecting viewport height */
    max-height: min(calc(100vh - 48px), 100vw);
    height: min(calc(100vh - 48px), 100vw);
    overflow:auto;
    border:1px solid #24365d; border-radius:14px; background:#0c172a; padding:14px; display:flex; flex-direction:column; gap:10px;
  }
  #chartModal .head{ display:flex; justify-content:space-between; align-items:center; }
  #chartModal .title{ font-size:18px; font-weight:800; color:#d9e6ff; }
  #chartLarge{ width:100%; height:540px; display:block; }

  /* Chart layout + legend */
  .chart-row{ display:flex; gap:12px; align-items:flex-start; justify-content:center; flex-wrap:wrap; }
  .chart-legend{ display:flex; gap:8px; flex-wrap:nowrap; align-items:flex-start; justify-content:flex-start; font-size:11px; color:var(--muted); margin-top:0; }
  .chart-legend.right{ flex-direction:column; }
  .chart-legend .item{ display:flex; align-items:center; gap:6px; }
  .chart-legend .swatch{ width:10px; height:10px; border-radius:2px; display:inline-block; border:1px solid rgba(255,255,255,0.18); }
  .chart-legend .swatch.win{ background: var(--bar-win, #2aa66e); }
  .chart-legend .swatch.lose{ background: var(--bar-loss, #c94a4a); }
  .chart-legend .swatch.dev-win{ background: var(--bar-dev-win, #87A89A); }
  .chart-legend .swatch.dev-lose{ background: var(--bar-dev-loss, #B08F8F); }
  .chart-legend .swatch.line-actual{ background: var(--accent, #35c48d); }
  .chart-legend .swatch.line-hypo{ background: var(--push, #8db6ff); }
  .chart-title{ font-size:12px; color:var(--muted); text-align:center; margin:2px 0 4px; }
  .chart-canvas-wrap{ flex:1 1 auto; min-width:0; }

  /* Sidebar toggle (hamburger) */
  .menu-toggle{
    position:fixed; top:12px; left:12px; z-index:1200;
    background:#0e1930; color:#d9e6ff; border:1px solid #24365d; border-radius:10px;
    padding:8px 10px; font-weight:800; letter-spacing:.2px; cursor:pointer; display:none;
  }
  .menu-toggle .icon{ font-size:18px; margin-right:6px; vertical-align:-2px; }
  @media(max-width:1000px){ .menu-toggle{ display:inline-flex; align-items:center; gap:6px; } }

  /* Off-canvas sidebar for narrow screens */
  @media(max-width:1000px){
    /* Sidebar slides in from the left */
    #sidebar{
      position:fixed; left:0; top:0; bottom:0; width:260px; max-width:85vw; overflow:auto; z-index:1301;
      transform: translateX(-105%); transition: transform .28s ease; pointer-events:none; will-change:transform;
    }
    body.sidebar-open #sidebar{ transform: translateX(0); pointer-events:auto; }
    /* Dim background with fade */
    .sidebar-overlay{ position:fixed; inset:0; background:rgba(6,12,24,.65); z-index:1300; opacity:0; pointer-events:none; transition: opacity .25s ease; }
    body.sidebar-open .sidebar-overlay{ opacity:1; pointer-events:auto; }
    body.sidebar-open{ overflow:hidden; }
  }

  /* Sidebar header + close button (shown only on small screens) */
  #sidebar .sidebar-top{ display:none; }
  #sidebar .sidebar-close{ display:none; }
  @media(max-width:1000px){
    #sidebar .sidebar-top{ display:flex; justify-content:flex-end; position:sticky; top:0; z-index:2; background:var(--panel); padding:6px 0 8px; margin-bottom:6px; border-bottom:1px solid #203355; }
    #sidebar .sidebar-close{
      display:inline-flex; align-items:center; gap:6px; font-weight:800; color:#d9e6ff;
      background:#22314f; border:1px solid #2e4470; border-radius:10px; padding:8px 10px; cursor:pointer;
    }
  }

  /* Responsive tweaks for very narrow screens */
  @media(max-width:875px){
    /* Make table ~50% taller for more vertical room */
    #table{ height: calc(462px * 0.8); min-height: calc(418px * 0.8); }
    /* Shrink cards ~25% via variables so layout adapts */
    #table{ --card-w: calc(84px * .75); --card-h: calc(114px * .75); --card-br: calc(10px * .75);}
    .grid{row-gap: calc(12px * .75);}
    /* Shrink indices and suits ~25% */
    .card .index{ font-size: calc(24px * .9); }
    .card .index.wide{ font-size: calc(24px * .9); }
    .card .index .suit{ font-size: calc(24x * .9); }
    .card .index.wide .suit{ font-size: calc(24px * .9); }
    .card .index.wide .rank{ font-size: calc(24px * .9); }
    /* Ensure pip symbols also scale down */
    .card .pip{ font-size: calc(9px * .75); }
    .card .pips.rank-9 .pip{ font-size:calc(9px * .75); }
    .card .pips.rank-10 .pip{ font-size:calc(9px * .75); }
    /* Scale down paytables and bet circles ~25% while keeping them anchored to bottom */
    .felt-left{ transform-origin: left bottom; transform: scale(.75); }
    .bet-circles{ transform-origin: right bottom; transform: scale(.75); }
  }

    /* Responsive tweaks for very very narrow screens */
  @media(max-width:640px){
    main{ padding: 8px;}
    /* Make table ~50% taller for more vertical room */
    #table{ height: calc(462px * 0.78); min-height: calc(418px * 0.78); }
    /* Shrink cards ~50% via variables so layout adapts */
    #table{ --card-w: calc(84px * .65); --card-h: calc(114px * .65);  --card-br: calc(10px * .65);}
    .grid{top: 6px; row-gap: calc(12px * .65);}
    /* Shrink indices and suits ~25% */
    .card .index{ font-size: calc(24px * .8); }
    .card .index.wide{ font-size: calc(24px * .8); }
    .card .index .suit{ font-size: calc(24px * .8); }
    .card .index.wide .suit{ font-size: calc(24px * .8); }
    .card .index.wide .rank{ font-size: calc(24px * .8); }
    /* Ensure pip symbols also scale down */
    .card .pip{ font-size: calc(9px * .75); }
    .card .pips.rank-9 .pip{ font-size:calc(9px * .75); }
    .card .pips.rank-10 .pip{ font-size:calc(9px * .75); }
    /* Scale down paytables and bet circles ~25% while keeping them anchored to bottom */
    .felt-left{ transform-origin: left bottom; transform: scale(.65); }
    .bet-circles{ transform-origin: right bottom; transform: scale(.65); }
  }

  /* Splash Screen + WoO Modal */
  .splash-overlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding:24px; background:linear-gradient(180deg, #4f1f89, #2a0d45); z-index:2200; }
  .splash-card{ width:min(680px,92vw); background:rgba(20,15,35,.92); border:1px solid #3f2d66; border-radius:16px; padding:18px; text-align:center; box-shadow:0 12px 30px rgba(0,0,0,.45); }
  .splash-felt{ width:100%; max-width:520px; height:auto; display:block; margin:6px auto 8px; }
  .splash-title{ font-weight:800; font-size:20px; letter-spacing:.4px; }
  .splash-version{ font-size:11px; color:#bfa8e8; margin-top:4px; }
  .splash-actions{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:12px 0 10px; }
  .splash-actions button{ background:#22314f; border:1px solid #2e4470; }
  .splash-install{ font-size:12px; color:#cfc1ea; opacity:.95; }
  .splash-install b{ color:#fff; }
  body.splash-open{ overflow:hidden; }
  .modal-woo{ display:none; position:fixed; inset:0; padding:24px; background:rgba(6,12,24,.92); z-index:2800; }
  .modal-woo .woo-box{ background:var(--panel); border:1px solid #203355; border-radius:14px; max-width:800px; margin:0 auto; padding:14px; color:var(--text); }
  .modal-woo h3{ margin:0 0 10px; font-size:16px; }
  .modal-woo .close-row{ display:flex; justify-content:flex-end; }
  .modal-woo .close-row button{ background:#22314f; border:1px solid #2e4470; }
  .modal-woo .woo-content{ font-size:13px; line-height:1.5; max-height:min(70vh,520px); overflow:auto; }
  .modal-woo ul{ margin:8px 0 12px 18px; }
</style>
</head>
<body>
<header><h1>Heads Up Hold Em</h1></header>
<div id="splashOverlay" class="splash-overlay" role="dialog" aria-modal="true" aria-labelledby="splashTitle" style="display:flex;">
  <div class="splash-card">
    <svg class="splash-felt" viewBox="0 0 600 240" aria-hidden="true">
  <defs>
    <linearGradient id="feltGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#7a2fb6"/>
      <stop offset="100%" stop-color="#4a1a76"/>
    </linearGradient>
    <clipPath id="feltClip">
      <rect x="22" y="22" width="556" height="196" rx="98"/>
    </clipPath>
  </defs>
  <rect x="10" y="10" width="580" height="220" rx="110" fill="url(#feltGrad)" stroke="#2a0d45" stroke-width="16"/>
  <g clip-path="url(#feltClip)">
    <!-- Suits row -->
    <g fill="#ffffff" fill-opacity="0.10" text-anchor="middle" dominant-baseline="middle" font-family="Segoe UI Symbol, Symbola, Arial Unicode MS, serif">
      <text x="120" y="135" font-size="140">&#9824;</text>
      <text x="240" y="135" font-size="140">&#9829;</text>
      <text x="360" y="135" font-size="140">&#9830;</text>
      <text x="480" y="135" font-size="140">&#9827;</text>
    </g>
    <!-- Arced title (scaled to fit) -->
    <svg x="105" y="80" width="390" height="80" viewBox="0 0 1227 193" preserveAspectRatio="xMidYMid meet">
      <path d="M 323.457 52 C 323.457 74.825, 323.588 84.163, 323.749 72.750 C 323.909 61.338, 323.909 42.663, 323.749 31.250 C 323.588 19.838, 323.457 29.175, 323.457 52 M 652 15.500 L 652 20 653.961 20 L 655.922 20 657.961 22.189 L 660 24.377 660 57.117 L 660 89.857 658.430 91.427 C 657.567 92.291, 655.767 93.271, 654.430 93.607 L 652 94.217 652 98.608 L 652 103 668 103 L 684 103 684 98.661 L 684 94.321 681.480 93.173 L 678.960 92.025 677.980 89.447 L 677 86.870 677 75.135 L 677 63.400 678.200 62.200 L 679.400 61 692.118 61 C 699.113 61, 705.548 61.273, 706.418 61.607 L 708 62.214 708 76.452 L 708 90.690 706.171 92.345 C 705.165 93.255, 703.815 94, 703.171 94 L 702 94 702 98.345 L 702 102.689 717.150 103.311 C 734.313 104.015, 734 104.087, 734 99.454 L 734 96.027 730.580 94.598 L 727.161 93.169 726.080 91.150 L 725 89.131 725 57.701 L 725 26.270 727.020 23.702 L 729.040 21.134 731.270 20.817 L 733.500 20.500 733.500 16.500 L 733.500 12.500 717.750 12.225 L 702 11.949 702 16.475 L 702 21 703 21 C 703.550 21, 704.900 21.900, 706 23 L 708 25 708 35.465 L 708 45.930 705.873 47.068 L 703.747 48.206 691.623 47.492 L 679.500 46.779 678.250 45.767 L 677 44.755 677 36.527 L 677 28.298 678.123 25.078 L 679.245 21.857 681.623 20.953 L 684 20.050 684 16.156 L 684 12.262 680.250 11.642 C 678.188 11.301, 670.987 11.017, 664.250 11.011 L 652 11 652 15.500 M 491.250 12.723 L 488 13.127 488 16.984 L 488 20.841 491.093 21.520 L 494.185 22.200 495.690 25.800 L 497.194 29.401 496.847 54.451 L 496.500 79.500 494 84.483 L 491.500 89.466 488.133 91.394 L 484.766 93.321 479.133 93.361 L 473.500 93.402 470.352 91.728 L 467.205 90.055 464.852 85.277 L 462.500 80.500 462.161 56.436 L 461.823 32.372 462.970 28.110 L 464.118 23.849 467.559 22.411 L 471 20.973 471 16.835 L 471 12.696 460.344 13.348 C 454.484 13.707, 446.834 14, 443.344 14 L 437 14 437 18.500 L 437 23 439.477 23 L 441.954 23 443.727 25.703 L 445.500 28.406 446.051 57.953 L 446.601 87.500 448.669 92 C 451.308 97.744, 455.315 101.755, 461 104.341 L 465.500 106.388 475 106.798 L 484.500 107.207 490.138 105.565 L 495.777 103.923 499.329 101.211 L 502.882 98.500 505.333 94 C 506.680 91.525, 508.282 87.115, 508.892 84.201 L 510 78.902 510.006 54.201 L 510.011 29.500 511.034 25.818 L 512.056 22.137 515.528 20.991 L 519 19.845 519 15.922 L 519 12 506.750 12.160 C 500.012 12.248, 493.038 12.502, 491.250 12.723 M 835.500 13.958 L 824.500 14.500 824.500 17.986 L 824.500 21.473 826.500 21.840 C 827.600 22.041, 829.288 22.905, 830.250 23.758 L 832 25.310 832 60.500 L 832 95.690 830.250 97.193 C 829.288 98.020, 827.712 98.975, 826.750 99.317 L 825 99.937 825 103 L 825 106.063 826.250 106.450 C 826.938 106.664, 833.913 107.119, 841.750 107.463 L 856 108.088 856 104.519 L 856 100.950 853.709 100.079 C 852.449 99.600, 850.879 98.559, 850.220 97.765 L 849.022 96.322 848.761 54.994 L 848.500 13.666 847.500 13.541 C 846.950 13.472, 841.550 13.660, 835.500 13.958 M 935.458 54.500 C 935.458 77.600, 935.589 86.907, 935.749 75.183 C 935.909 63.458, 935.909 44.558, 935.749 33.183 C 935.588 21.807, 935.457 31.400, 935.458 54.500 M 306.500 18.543 C 302.100 19.278, 297.038 20.152, 295.250 20.485 L 292 21.091 292 24.545 L 292 28 293.545 28 C 294.395 28, 296.195 29.105, 297.545 30.455 L 300 32.909 300 41.755 L 300 50.600 298.800 51.800 C 296.988 53.612, 294.258 53.250, 290.873 50.750 L 287.826 48.500 281.964 48.534 L 276.102 48.568 271.801 51.647 L 267.500 54.726 263.730 62.113 L 259.960 69.500 258.841 77.632 L 257.722 85.764 258.887 93.600 L 260.053 101.435 262.432 106.633 L 264.812 111.831 267.463 113.568 L 270.114 115.305 274.907 115.765 L 279.701 116.226 284.351 114.169 L 289.001 112.112 291.115 108.530 C 292.277 106.560, 294.044 104.512, 295.042 103.978 L 296.855 103.007 298.433 103.613 L 300.011 104.218 300.633 108.109 L 301.256 112 303.878 111.925 C 305.320 111.884, 310.100 111.320, 314.500 110.672 L 322.500 109.494 322.803 105.869 L 323.106 102.243 320.518 101.594 L 317.929 100.944 316.965 98.407 L 316 95.870 316 56.435 L 316 17 315.250 17.103 C 314.837 17.159, 310.900 17.807, 306.500 18.543 M 904.250 18.662 L 903 19.167 903 22.070 L 903 24.973 906.431 26.407 L 909.862 27.840 910.925 31.670 C 911.510 33.777, 911.991 38.263, 911.994 41.639 L 912 47.778 910.129 50.089 L 908.258 52.399 905.504 50.450 C 899.024 45.863, 897.331 45.022, 893.388 44.431 L 889.225 43.807 884.682 45.817 L 880.138 47.826 877.126 51.985 C 875.469 54.273, 873.300 58.474, 872.306 61.322 L 870.500 66.500 870.500 78 L 870.500 89.500 872.431 95.826 L 874.362 102.151 877.931 106.106 L 881.500 110.062 887.037 111.193 L 892.574 112.324 895.537 111.582 L 898.500 110.841 902.692 106.343 L 906.885 101.846 909.191 102.173 L 911.498 102.500 912.391 106.750 L 913.284 111 924.142 111 L 935 111 935 107.500 L 935 104 933.573 104 C 932.787 104, 931.212 102.814, 930.073 101.365 L 928 98.730 928 58.365 L 928 18 916.750 18.079 C 910.563 18.122, 904.938 18.385, 904.250 18.662 M 1002.856 30.279 C 997.609 34.281, 993.670 39.898, 991.576 46.365 L 990 51.230 990.022 55.865 L 990.044 60.500 991.914 64.617 L 993.784 68.735 996.114 70.367 L 998.445 72 1001.223 72 L 1004 72 1005.975 70.025 C 1007.061 68.939, 1008.239 66.895, 1008.594 65.482 L 1009.239 62.914 1007.835 59.207 L 1006.431 55.500 1002.715 53.082 L 999 50.665 999.022 47.582 C 999.034 45.887, 999.870 42.681, 1000.880 40.459 L 1002.715 36.417 1005.858 33.773 L 1009 31.129 1009 29.065 L 1009 27 1008.078 27 C 1007.570 27, 1005.221 28.476, 1002.856 30.279 M 1032 33.931 L 1032 38.050 1034.669 39.064 C 1036.136 39.622, 1037.922 40.848, 1038.637 41.789 L 1039.936 43.500 1039.968 75.816 L 1040 108.131 1039.008 109.984 L 1038.017 111.837 1035.008 112.498 L 1032 113.159 1032 117.034 L 1032 120.909 1035.250 121.442 C 1037.037 121.735, 1044.800 122.689, 1052.500 123.563 C 1060.200 124.436, 1072.487 126.017, 1079.805 127.076 C 1087.123 128.134, 1093.310 129, 1093.555 129 C 1093.800 129, 1094 123.884, 1094 117.631 L 1094 106.262 1090.250 105.642 C 1088.188 105.301, 1085.938 105.017, 1085.250 105.011 L 1084 105 1083.985 107.750 C 1083.966 111.094, 1083.204 112.330, 1080.175 113.925 L 1077.851 115.150 1068.675 113.970 C 1063.629 113.321, 1058.938 112.332, 1058.250 111.772 L 1057 110.755 1057 98.500 L 1057 86.245 1058.540 84.967 L 1060.079 83.689 1069.481 84.845 C 1074.652 85.480, 1079.809 86, 1080.942 86 L 1083 86 1083 80.176 L 1083 74.352 1070.864 72.765 L 1058.728 71.178 1057.879 69.839 L 1057.031 68.500 1057.015 57.872 L 1057 47.245 1058.477 46.019 L 1059.955 44.792 1067.227 45.498 L 1074.500 46.204 1077.611 47.650 L 1080.723 49.096 1081.861 51.595 C 1082.488 52.970, 1083 54.914, 1083 55.916 L 1083 57.738 1086.750 58.358 C 1088.813 58.699, 1091.078 58.983, 1091.784 58.989 L 1093.068 59 1092.784 48.261 L 1092.500 37.521 1087.500 36.801 C 1084.750 36.405, 1073.275 34.937, 1062 33.540 C 1050.725 32.142, 1039.362 30.732, 1036.750 30.406 L 1032 29.812 1032 33.931 M 573 38.180 C 568.654 39.422, 567.350 40.486, 564.351 45.235 L 561.975 49 560.110 49 C 557.660 49, 556.255 47.191, 555.838 43.500 L 555.500 40.500 548 40.724 C 543.875 40.847, 538.587 41.212, 536.250 41.535 L 532 42.123 532 45.561 L 532 49 533.845 49 L 535.690 49 537.595 51.104 L 539.500 53.207 539.811 84.854 L 540.123 116.500 539.057 120.130 L 537.991 123.761 534.943 125.024 L 531.895 126.286 532.197 129.393 L 532.500 132.500 540 132.823 C 544.125 133.001, 551.212 132.848, 555.750 132.483 L 564 131.820 564 128.410 L 564 125 562.073 125 L 560.145 125 558.073 122.365 L 556 119.730 556 109.988 L 556 100.245 557.530 98.975 L 559.059 97.706 561.280 98.874 C 562.501 99.516, 565.057 101.029, 566.960 102.235 L 570.420 104.430 575.616 104.354 L 580.812 104.279 584.267 102.144 C 591.110 97.915, 595.214 89.317, 596.984 75.500 L 597.882 68.500 596.964 61.239 L 596.046 53.979 593.951 49.107 C 592.798 46.427, 590.650 43.083, 589.177 41.676 L 586.500 39.116 582 38.083 C 576.829 36.895, 577.527 36.887, 573 38.180 M 773 39.902 C 768.021 40.955, 764.062 43.244, 759.765 47.556 L 756.030 51.303 753.882 56.902 L 751.734 62.500 751.232 70.359 L 750.730 78.218 751.984 83.859 C 754.159 93.651, 759.157 100.852, 766.500 104.774 L 769.500 106.377 778.638 106.803 L 787.777 107.229 791.638 105.991 C 793.762 105.310, 796.969 103.655, 798.765 102.314 L 802.029 99.876 804.522 94.957 C 815.178 73.928, 809.839 49.458, 793 42.149 L 788.500 40.196 782.500 39.679 L 776.500 39.162 773 39.902 M 353.667 44.434 C 351.010 45.148, 347.635 46.607, 346.167 47.675 L 343.500 49.617 341.185 54.059 L 338.870 58.500 339.249 64.251 L 339.628 70.002 342.564 73.140 L 345.500 76.279 355.500 81.014 L 365.500 85.749 367.386 87.854 L 369.273 89.959 369.273 94.163 L 369.273 98.367 366.121 101.184 L 362.968 104 359.289 104 L 355.609 104 352.805 101.313 L 350 98.626 350 96.813 L 350 95 344.500 95 L 339 95 339 101.929 L 339 108.858 344.739 110.050 L 350.478 111.241 360.563 110.792 L 370.648 110.344 375.035 107.922 L 379.423 105.500 381.639 102.209 C 382.858 100.400, 384.280 96.927, 384.799 94.492 L 385.743 90.066 384.996 85.980 L 384.249 81.894 381.875 79.347 C 379.370 76.660, 372.251 72.822, 362.855 69.093 L 357.211 66.853 354.878 64.370 L 352.545 61.887 352.545 57.837 L 352.545 53.788 355.328 51.394 L 358.112 49 362.367 49 L 366.623 49 368.799 51.028 C 369.996 52.143, 371.255 54.168, 371.596 55.528 L 372.217 58 377.108 58 L 382 58 382 51.638 L 382 45.276 376.333 44.138 C 369.027 42.671, 359.778 42.792, 353.667 44.434 M 83 47.471 C 77.225 48.736, 70.588 50.289, 68.250 50.924 L 64 52.077 64 56.539 L 64 61 65.345 61 C 66.085 61, 67.435 61.823, 68.345 62.829 L 70 64.657 70 75.207 L 70 85.757 67.250 86.785 C 65.737 87.350, 59.680 89.274, 53.789 91.061 L 43.079 94.310 41.539 93.033 L 40 91.755 40 81.301 L 40 70.846 43 67.846 L 46 64.846 46 61.423 C 46 59.540, 45.710 58, 45.355 58 C 43.539 58, 29.999 65.307, 26.671 68.083 L 22.842 71.276 23.514 77.888 C 23.884 81.525, 24.238 99.575, 24.301 118 L 24.415 151.500 23.575 155.757 L 22.735 160.014 28.524 156.528 C 31.707 154.611, 36.942 152.023, 40.156 150.776 L 46 148.510 46 144.255 L 46 140 44.523 140 L 43.046 140 41.493 137.630 L 39.940 135.260 40.220 121.880 L 40.500 108.500 51.500 104.803 C 57.550 102.769, 63.947 101.082, 65.715 101.053 L 68.930 101 69.965 102.934 L 71 104.869 70.976 114.184 C 70.963 119.308, 70.536 125.300, 70.027 127.500 L 69.102 131.500 66.551 133.538 L 64 135.575 64 139.355 L 64 143.135 65.750 142.587 C 66.713 142.285, 72.675 140.899, 79 139.507 C 85.325 138.114, 91.513 136.747, 92.750 136.469 L 95 135.962 95 132 L 95 128.038 92.477 127.405 L 89.953 126.771 88.477 124.663 L 87 122.555 87.015 91.527 L 87.029 60.500 88.294 58 L 89.559 55.500 92.279 54.195 L 95 52.891 95 48.945 L 95 45 94.250 45.086 C 93.838 45.133, 88.775 46.206, 83 47.471 M 1032.442 76 C 1032.442 92.225, 1032.580 98.862, 1032.748 90.750 C 1032.916 82.637, 1032.916 69.362, 1032.748 61.250 C 1032.580 53.137, 1032.442 59.775, 1032.442 76 M 778 49.631 C 777.175 49.915, 775.447 50.661, 774.159 51.291 L 771.819 52.435 769.659 56.467 L 767.500 60.500 767.500 73 L 767.500 85.500 769.420 89.368 L 771.340 93.236 774.420 95.114 L 777.500 96.993 781.173 96.996 L 784.847 97 787.904 94.427 L 790.962 91.854 792.172 87.677 L 793.381 83.500 793.429 72.500 L 793.478 61.500 791.489 57.565 C 788.556 51.760, 782.379 48.128, 778 49.631 M 561.093 53.575 L 558.033 56.150 556.516 61.257 L 555 66.363 555.006 72.932 C 555.009 76.544, 555.505 81.279, 556.109 83.453 L 557.206 87.406 560.503 90.703 L 563.800 94 567.365 94 L 570.930 94 574.346 91.001 L 577.762 88.002 578.881 83.558 L 580 79.114 579.994 71.807 L 579.989 64.500 578.900 60.579 L 577.811 56.658 574.983 53.829 L 572.154 51 568.154 51 L 564.153 51 561.093 53.575 M 211 54.630 C 209.625 54.893, 205.719 56.010, 202.319 57.113 L 196.139 59.117 192.069 62.065 L 188 65.013 188 70.006 L 188 75 191.250 74.986 C 193.037 74.979, 195.512 74.701, 196.750 74.370 L 199 73.767 199 71.783 L 199 69.800 202.400 66.400 L 205.800 63 210.311 63 L 214.822 63 217.351 66.005 L 219.879 69.010 220.539 73.415 L 221.200 77.820 220.222 79.568 L 219.244 81.315 210.313 84.544 C 205.401 86.320, 199.118 88.920, 196.351 90.322 L 191.320 92.872 188.202 96.423 L 185.084 99.974 183.955 104.166 L 182.827 108.358 183.467 112.631 L 184.108 116.904 186.955 119.952 L 189.802 123 195.035 123 C 197.913 123, 202.034 122.471, 204.193 121.824 L 208.118 120.648 212.463 116.824 L 216.807 113 218.880 113 L 220.954 113 222.704 115.750 C 225.915 120.795, 229.481 121.288, 238.462 117.928 L 244 115.856 244 111.428 L 244 107 242.023 107 L 240.046 107 238.273 104.297 L 236.500 101.594 236 83.047 L 235.500 64.500 233.733 61.267 L 231.966 58.034 228.955 56.477 L 225.944 54.919 219.722 54.536 C 216.300 54.325, 212.375 54.367, 211 54.630 M 895.030 57.230 C 893.672 57.945, 891.568 60.001, 890.356 61.800 L 888.152 65.071 887.461 71.524 L 886.769 77.977 887.438 82.739 C 887.806 85.357, 888.563 88.948, 889.121 90.717 L 890.134 93.935 893.143 96.467 L 896.153 99 899.030 99 C 900.612 99, 903.063 98.473, 904.478 97.828 L 907.049 96.657 909.238 93.115 L 911.426 89.574 911.834 80.254 L 912.241 70.934 911.015 66.553 L 909.788 62.171 907.050 59.548 L 904.312 56.925 900.906 56.428 L 897.500 55.931 895.030 57.230 M 281.559 62.082 L 278.049 65.165 277.030 68.832 L 276.011 72.500 276.011 81 L 276.011 89.500 277.035 93.186 L 278.059 96.871 281.230 99.540 L 284.402 102.209 288.299 101.687 L 292.197 101.164 294.573 98.931 L 296.950 96.699 298.716 92.099 L 300.483 87.500 300.449 79.500 L 300.415 71.500 299.141 67.783 L 297.866 64.065 294.857 61.533 L 291.847 59 288.458 59 L 285.070 59 281.559 62.082 M 141.427 63.034 C 135.417 63.869, 130.724 65.954, 125.890 69.939 L 122.359 72.850 119.204 78.768 L 116.050 84.686 114.540 91.093 C 113.709 94.617, 113.023 99.993, 113.015 103.040 L 113 108.580 114.542 114.501 L 116.085 120.422 118.658 123.796 C 120.074 125.652, 122.642 128.062, 124.366 129.152 L 127.500 131.133 137 130.693 L 146.500 130.254 152 128.048 C 155.025 126.835, 158.963 124.941, 160.750 123.840 L 164 121.837 164 116.918 C 164 114.213, 163.829 112, 163.621 112 C 163.412 112, 160.681 113.172, 157.551 114.605 L 151.860 117.211 145.976 117.266 L 140.093 117.322 136.642 114.957 C 132.762 112.299, 130.549 108.989, 129.563 104.374 L 128.895 101.247 130.383 99.760 L 131.870 98.272 149.034 95.966 L 166.197 93.660 165.501 87.166 C 163.431 67.837, 156.544 60.933, 141.427 63.034 M 1111 74.047 L 1111 78 1112.427 78 C 1113.213 78, 1114.788 79.186, 1115.927 80.635 L 1118 83.270 1118 100.570 L 1118 117.870 1117.035 120.407 L 1116.071 122.944 1113.535 123.580 L 1111 124.217 1111 127.931 L 1111 131.645 1123.750 133.847 C 1130.763 135.058, 1137.513 136.316, 1138.750 136.641 L 1141 137.233 1141 133.832 L 1141 130.431 1138.006 128.662 L 1135.011 126.894 1134.432 124.583 C 1134.113 123.313, 1133.998 115.493, 1134.176 107.206 L 1134.500 92.139 1136.602 89.319 L 1138.704 86.500 1141.343 85.560 L 1143.981 84.621 1147.445 86.273 L 1150.910 87.925 1152.695 91.212 L 1154.480 94.500 1154.990 117.338 L 1155.500 140.175 1166.500 143.046 C 1179.965 146.560, 1179 146.536, 1179 143.356 L 1179 140.712 1175.250 137.472 L 1171.500 134.233 1171.157 122.940 C 1170.968 116.729, 1171.114 109.247, 1171.480 106.313 L 1172.146 100.979 1174.662 97.990 L 1177.178 95 1180.185 95 L 1183.191 95 1186.066 96.698 L 1188.942 98.397 1190.471 102.219 L 1192 106.040 1192 128.503 L 1192 150.966 1197.250 153.611 C 1200.138 155.066, 1203.695 157.099, 1205.156 158.129 L 1207.812 160.002 1207.418 148.251 C 1207.201 141.788, 1206.821 129.525, 1206.573 121 L 1206.122 105.500 1204.533 100.944 C 1203.659 98.438, 1201.607 94.766, 1199.973 92.784 L 1197.002 89.180 1192.468 86.985 L 1187.934 84.790 1184.653 85.405 L 1181.372 86.021 1177.990 89.510 L 1174.608 93 1172.826 93 L 1171.044 93 1168.257 87.348 L 1165.469 81.696 1161.809 78.733 L 1158.149 75.771 1153.591 75.257 L 1149.033 74.744 1146.065 75.973 L 1143.097 77.202 1141.486 79.662 L 1139.875 82.121 1137.230 81.810 L 1134.584 81.500 1133.495 77 L 1132.405 72.500 1126.952 71.868 C 1123.954 71.521, 1119.138 70.979, 1116.250 70.665 L 1111 70.094 1111 74.047 M 134.503 74.297 L 131.206 77.594 130.109 81.547 C 129.505 83.721, 129.009 86.722, 129.006 88.215 L 129 90.930 130.841 91.915 L 132.681 92.900 141.364 91.494 C 146.140 90.721, 150.487 89.817, 151.024 89.485 L 152 88.882 152 84.391 L 152 79.901 150.346 76.700 C 149.437 74.940, 147.974 72.952, 147.096 72.282 L 145.500 71.064 141.650 71.032 L 137.800 71 134.503 74.297 M 210.500 88.157 C 197.835 94.706, 194.020 106.466, 202.367 113.228 L 204.500 114.956 208.173 114.978 L 211.847 115 214.907 112.425 L 217.967 109.850 219.484 104.743 L 221 99.637 221 94.018 L 221 88.400 219.800 87.200 C 218.078 85.478, 215.085 85.786, 210.500 88.157" stroke="none" fill="#ffc000" fill-rule="evenodd"/><path d="M 498.068 4.749 L 483.636 5.057 482.318 6.151 L 481 7.245 481 17.087 L 481 26.930 482.934 27.965 C 483.998 28.534, 485.798 29, 486.934 29 L 489 29 489 53.032 L 489 77.064 487.585 80.452 L 486.169 83.839 484.150 84.920 C 481.634 86.266, 476.463 86.318, 474.039 85.021 L 472.210 84.042 471.105 80.872 L 470 77.702 470 53.351 L 470 29 472.750 28.985 C 474.262 28.976, 476.175 28.543, 477 28.022 L 478.500 27.074 478.841 18.260 L 479.182 9.447 477.341 7.307 L 475.500 5.167 453.716 5.918 L 431.932 6.668 430.929 7.671 L 429.926 8.674 430.213 19.087 L 430.500 29.500 434.250 29.810 L 438 30.121 438 55.511 L 438 80.902 439.115 86.201 C 439.728 89.115, 441.316 93.823, 442.645 96.661 L 445.061 101.823 449.158 105.524 C 454.362 110.225, 459.827 112.634, 468.768 114.167 L 475.859 115.383 484.634 114.209 L 493.409 113.035 498.615 110.488 L 503.821 107.940 507.367 104.015 C 509.318 101.856, 511.885 98.186, 513.073 95.858 L 515.232 91.625 516.581 84.063 L 517.930 76.500 517.965 52.250 L 518 28 520.800 28 L 523.600 28 524.800 26.800 L 526 25.600 526 16 L 526 6.400 524.800 5.200 L 523.600 4 518.050 4.220 C 514.998 4.341, 506.006 4.579, 498.068 4.749 M 645.200 5.200 L 644 6.400 644 15.009 L 644 23.618 645.250 25.247 L 646.500 26.876 649.500 27.188 L 652.500 27.500 652.500 57 L 652.500 86.500 649.500 86.838 C 647.850 87.025, 645.938 87.642, 645.250 88.211 L 644 89.245 644 97.931 L 644 106.618 645.250 108.288 L 646.500 109.958 667.809 110.053 L 689.118 110.147 690.559 108.951 L 692 107.755 692 99.312 L 692 90.869 690.965 88.934 L 689.930 87 687.465 87 L 685 87 685 77.364 L 685 67.728 689.640 68.364 C 692.191 68.714, 695.791 69, 697.640 69 L 701 69 701 78 L 701 87 698.700 87 C 697.435 87, 695.860 87.540, 695.200 88.200 L 694 89.400 694 98.629 L 694 107.857 695.591 109.448 L 697.181 111.038 718.841 110.769 L 740.500 110.500 740.787 100.648 L 741.075 90.795 739.915 89.398 L 738.755 88 735.878 88 L 733 88 733 58.060 L 733 28.121 736.750 27.810 L 740.500 27.500 740.787 17.648 L 741.075 7.795 740.011 6.513 L 738.947 5.231 717.966 4.499 L 696.986 3.767 695.493 5.006 L 694 6.245 694.015 15.372 C 694.032 25.502, 694.344 26.420, 698.270 27.913 L 701 28.950 701 34.475 L 701 40 693 40 L 685 40 685.022 34.250 L 685.043 28.500 688.272 27 L 691.500 25.500 691.789 16.757 L 692.078 8.014 691.004 6.007 L 689.930 4 668.165 4 L 646.400 4 645.200 5.200 M 823 6.900 L 817.500 7.500 817.211 16.851 L 816.922 26.201 818.084 27.601 L 819.245 29 822.137 29 L 825.028 29 824.764 60.240 L 824.500 91.481 821.500 91.998 L 818.500 92.516 818.216 102.680 L 817.932 112.844 819.716 113.399 C 820.697 113.705, 830.241 114.405, 840.925 114.954 L 860.351 115.954 861.710 114.826 L 863.069 113.698 862.784 104.099 L 862.500 94.500 859.260 93.546 L 856.021 92.592 855.760 49.546 L 855.500 6.500 842 6.400 C 834.575 6.345, 826.025 6.570, 823 6.900 M 301.555 11.616 L 286.611 14.078 285.305 15.162 L 284 16.245 284 24.922 L 284 33.600 285.200 34.800 L 286.400 36 289.200 36 L 292 36 292 38.850 L 292 41.700 284.637 41.227 L 277.274 40.755 273.671 41.943 L 270.069 43.132 264.975 47.712 L 259.881 52.292 256.931 58.136 C 255.309 61.350, 253.317 66.797, 252.506 70.240 L 251.030 76.500 251.015 85.303 L 251 94.105 252.554 100.937 L 254.108 107.769 257.304 113.086 L 260.500 118.402 265.475 120.951 L 270.449 123.500 277 123.447 L 283.552 123.393 289.026 120.435 L 294.500 117.478 296.101 119.090 L 297.702 120.702 313.523 118.419 L 329.344 116.136 330.218 114.575 L 331.092 113.014 333.417 114.538 L 335.743 116.061 344.121 117.652 L 352.500 119.243 361 118.658 C 371.634 117.926, 375.592 116.790, 381.677 112.723 L 386.500 109.500 389.374 104.136 L 392.249 98.773 392.736 92.636 L 393.223 86.500 392.085 82.295 L 390.947 78.091 388.335 74.987 C 386.899 73.279, 383.508 70.617, 380.801 69.071 L 375.879 66.260 377.521 65.630 C 378.425 65.284, 381.062 65, 383.382 65 L 387.600 65 388.800 63.800 L 390 62.600 390 51.744 L 390 40.888 385.750 39.017 L 381.500 37.147 373.157 36.013 L 364.815 34.879 359.157 35.564 C 352.070 36.421, 345.258 38.939, 340.779 42.355 L 337.323 44.991 334.618 49.960 L 331.914 54.928 331.321 59.941 L 330.727 64.953 331.964 69.370 L 333.200 73.787 336.206 77.434 L 339.212 81.081 344.177 83.916 L 349.142 86.752 341.321 87.476 L 333.500 88.200 332.250 89.222 L 331 90.245 331 93.245 L 331 96.245 329.750 95.218 C 329.063 94.654, 327.375 94.036, 326 93.846 L 323.500 93.500 323 51.500 L 322.500 9.500 319.500 9.327 C 317.850 9.231, 309.775 10.261, 301.555 11.616 M 910.061 10.748 L 898.622 11.069 897.311 12.157 L 896 13.245 896 21.922 L 896 30.600 897.200 31.800 L 898.400 33 901.200 33 L 904 33 904 36.449 L 904 39.898 900.290 38.348 L 896.581 36.798 889.921 37.174 L 883.261 37.551 878.471 40.525 L 873.680 43.500 870.352 48.342 L 867.023 53.184 865.009 59.707 L 862.994 66.230 862.365 74.411 L 861.736 82.592 863.442 91.010 L 865.147 99.427 867.700 104.639 L 870.252 109.852 873.376 112.778 C 875.094 114.388, 878.517 116.484, 880.983 117.437 L 885.466 119.170 891.700 119.123 L 897.933 119.075 901.775 117.115 L 905.616 115.155 906.816 117.078 L 908.017 119 923.937 119 L 939.857 119 941.429 117.429 L 943 115.857 942.985 107.679 C 942.966 97.457, 942.522 96.745, 935.750 96.074 L 935 96 935 54.200 L 935 12.400 933.800 11.200 L 932.600 10 927.050 10.214 C 923.998 10.331, 916.352 10.572, 910.061 10.748 M 652 15.500 L 652 20 653.961 20 L 655.922 20 657.961 22.189 L 660 24.377 660 57.117 L 660 89.857 658.430 91.427 C 657.567 92.291, 655.767 93.271, 654.430 93.607 L 652 94.217 652 98.608 L 652 103 668 103 L 684 103 684 98.661 L 684 94.321 681.480 93.173 L 678.960 92.025 677.980 89.447 L 677 86.870 677 75.135 L 677 63.400 678.200 62.200 L 679.400 61 692.118 61 C 699.113 61, 705.548 61.273, 706.418 61.607 L 708 62.214 708 76.452 L 708 90.690 706.171 92.345 C 705.165 93.255, 703.815 94, 703.171 94 L 702 94 702 98.345 L 702 102.689 717.150 103.311 C 734.313 104.015, 734 104.087, 734 99.454 L 734 96.027 730.580 94.598 L 727.161 93.169 726.080 91.150 L 725 89.131 725 57.701 L 725 26.270 727.020 23.702 L 729.040 21.134 731.270 20.817 L 733.500 20.500 733.500 16.500 L 733.500 12.500 717.750 12.225 L 702 11.949 702 16.475 L 702 21 703 21 C 703.550 21, 704.900 21.900, 706 23 L 708 25 708 35.465 L 708 45.930 705.873 47.068 L 703.747 48.206 691.623 47.492 L 679.500 46.779 678.250 45.767 L 677 44.755 677 36.527 L 677 28.298 678.123 25.078 L 679.245 21.857 681.623 20.953 L 684 20.050 684 16.156 L 684 12.262 680.250 11.642 C 678.188 11.301, 670.987 11.017, 664.250 11.011 L 652 11 652 15.500 M 491.250 12.723 L 488 13.127 488 16.984 L 488 20.841 491.093 21.520 L 494.185 22.200 495.690 25.800 L 497.194 29.401 496.847 54.451 L 496.500 79.500 494 84.483 L 491.500 89.466 488.133 91.394 L 484.766 93.321 479.133 93.361 L 473.500 93.402 470.352 91.728 L 467.205 90.055 464.852 85.277 L 462.500 80.500 462.161 56.436 L 461.823 32.372 462.970 28.110 L 464.118 23.849 467.559 22.411 L 471 20.973 471 16.835 L 471 12.696 460.344 13.348 C 454.484 13.707, 446.834 14, 443.344 14 L 437 14 437 18.500 L 437 23 439.477 23 L 441.954 23 443.727 25.703 L 445.500 28.406 446.051 57.953 L 446.601 87.500 448.669 92 C 451.308 97.744, 455.315 101.755, 461 104.341 L 465.500 106.388 475 106.798 L 484.500 107.207 490.138 105.565 L 495.777 103.923 499.329 101.211 L 502.882 98.500 505.333 94 C 506.680 91.525, 508.282 87.115, 508.892 84.201 L 510 78.902 510.006 54.201 L 510.011 29.500 511.034 25.818 L 512.056 22.137 515.528 20.991 L 519 19.845 519 15.922 L 519 12 506.750 12.160 C 500.012 12.248, 493.038 12.502, 491.250 12.723 M 835.500 13.958 L 824.500 14.500 824.500 17.986 L 824.500 21.473 826.500 21.840 C 827.600 22.041, 829.288 22.905, 830.250 23.758 L 832 25.310 832 60.500 L 832 95.690 830.250 97.193 C 829.288 98.020, 827.712 98.975, 826.750 99.317 L 825 99.937 825 103 L 825 106.063 826.250 106.450 C 826.938 106.664, 833.913 107.119, 841.750 107.463 L 856 108.088 856 104.519 L 856 100.950 853.709 100.079 C 852.449 99.600, 850.879 98.559, 850.220 97.765 L 849.022 96.322 848.761 54.994 L 848.500 13.666 847.500 13.541 C 846.950 13.472, 841.550 13.660, 835.500 13.958 M 306.500 18.543 C 302.100 19.278, 297.038 20.152, 295.250 20.485 L 292 21.091 292 24.545 L 292 28 293.545 28 C 294.395 28, 296.195 29.105, 297.545 30.455 L 300 32.909 300 41.755 L 300 50.600 298.800 51.800 C 296.988 53.612, 294.258 53.250, 290.873 50.750 L 287.826 48.500 281.964 48.534 L 276.102 48.568 271.801 51.647 L 267.500 54.726 263.730 62.113 L 259.960 69.500 258.841 77.632 L 257.722 85.764 258.887 93.600 L 260.053 101.435 262.432 106.633 L 264.812 111.831 267.463 113.568 L 270.114 115.305 274.907 115.765 L 279.701 116.226 284.351 114.169 L 289.001 112.112 291.115 108.530 C 292.277 106.560, 294.044 104.512, 295.042 103.978 L 296.855 103.007 298.433 103.613 L 300.011 104.218 300.633 108.109 L 301.256 112 303.878 111.925 C 305.320 111.884, 310.100 111.320, 314.500 110.672 L 322.500 109.494 322.803 105.869 L 323.106 102.243 320.518 101.594 L 317.929 100.944 316.965 98.407 L 316 95.870 316 56.435 L 316 17 315.250 17.103 C 314.837 17.159, 310.900 17.807, 306.500 18.543 M 1005.241 19.988 L 998.983 22.885 994.071 27.927 L 989.160 32.969 986.628 38.321 L 984.096 43.672 983.070 50.046 L 982.044 56.420 982.664 60.460 C 984.912 75.110, 996.527 83.312, 1007.500 78 L 1011.632 76 1013.816 72.114 L 1016 68.228 1016 63.074 L 1016 57.920 1014.028 54.055 C 1012.943 51.929, 1010.882 49.266, 1009.447 48.137 L 1006.838 46.085 1007.481 44.058 C 1007.835 42.944, 1010.122 40.395, 1012.562 38.395 L 1017 34.759 1017 27.080 L 1017 19.400 1015.800 18.200 C 1014.048 16.448, 1012.221 16.758, 1005.241 19.988 M 904.250 18.662 L 903 19.167 903 22.070 L 903 24.973 906.431 26.407 L 909.862 27.840 910.925 31.670 C 911.510 33.777, 911.991 38.263, 911.994 41.639 L 912 47.778 910.129 50.089 L 908.258 52.399 905.504 50.450 C 899.024 45.863, 897.331 45.022, 893.388 44.431 L 889.225 43.807 884.682 45.817 L 880.138 47.826 877.126 51.985 C 875.469 54.273, 873.300 58.474, 872.306 61.322 L 870.500 66.500 870.500 78 L 870.500 89.500 872.431 95.826 L 874.362 102.151 877.931 106.106 L 881.500 110.062 887.037 111.193 L 892.574 112.324 895.537 111.582 L 898.500 110.841 902.692 106.343 L 906.885 101.846 909.191 102.173 L 911.498 102.500 912.391 106.750 L 913.284 111 924.142 111 L 935 111 935 107.500 L 935 104 933.573 104 C 932.787 104, 931.212 102.814, 930.073 101.365 L 928 98.730 928 58.365 L 928 18 916.750 18.079 C 910.563 18.122, 904.938 18.385, 904.250 18.662 M 1024.996 24.007 L 1023.922 26.014 1024.211 34.651 L 1024.500 43.289 1026 44.145 C 1026.825 44.616, 1028.737 45.440, 1030.250 45.976 L 1033 46.950 1033 75.975 L 1033 105 1029.535 105 L 1026.070 105 1025.035 106.934 L 1024 108.869 1024 117.312 L 1024 125.755 1025.499 126.999 L 1026.998 128.243 1046.249 130.498 C 1056.837 131.739, 1073.018 133.780, 1082.207 135.035 L 1098.915 137.316 1100.457 136.035 L 1102 134.755 1102 118 L 1102 101.245 1100.750 100.219 C 1100.063 99.654, 1095.170 98.629, 1089.878 97.940 L 1080.256 96.688 1078.628 97.313 L 1077 97.937 1077 102.469 L 1077 107 1074.750 106.989 C 1073.513 106.983, 1070.813 106.699, 1068.750 106.358 L 1065 105.738 1065 98.869 L 1065 92 1065.750 92.018 C 1066.162 92.028, 1071.181 92.702, 1076.902 93.515 L 1087.303 94.993 1088.652 93.874 L 1090 92.755 1090 80.937 L 1090 69.118 1088.750 68.309 C 1088.063 67.864, 1082.550 66.816, 1076.500 65.980 L 1065.500 64.460 1065.196 58.594 L 1064.892 52.728 1068.071 53.364 C 1069.819 53.714, 1072.094 54, 1073.125 54 L 1075 54 1075 58.378 L 1075 62.755 1076.255 63.796 L 1077.509 64.837 1087.864 66.130 L 1098.218 67.422 1099.609 65.520 L 1101 63.618 1101 49 L 1101 34.382 1099.639 32.521 L 1098.278 30.660 1085.389 28.855 C 1068.551 26.497, 1031.076 22, 1028.267 22 L 1026.070 22 1024.996 24.007 M 1002.856 30.279 C 997.609 34.281, 993.670 39.898, 991.576 46.365 L 990 51.230 990.022 55.865 L 990.044 60.500 991.914 64.617 L 993.784 68.735 996.114 70.367 L 998.445 72 1001.223 72 L 1004 72 1005.975 70.025 C 1007.061 68.939, 1008.239 66.895, 1008.594 65.482 L 1009.239 62.914 1007.835 59.207 L 1006.431 55.500 1002.715 53.082 L 999 50.665 999.022 47.582 C 999.034 45.887, 999.870 42.681, 1000.880 40.459 L 1002.715 36.417 1005.858 33.773 L 1009 31.129 1009 29.065 L 1009 27 1008.078 27 C 1007.570 27, 1005.221 28.476, 1002.856 30.279 M 567 32.456 L 562.500 34.821 560.824 33.322 L 559.148 31.824 543.824 33.050 C 535.396 33.724, 527.696 34.688, 526.714 35.192 L 524.929 36.108 525.214 45.804 L 525.500 55.500 528.750 55.813 L 532 56.127 532 86.857 L 532 117.586 528.750 118.543 L 525.500 119.500 525.500 129.500 L 525.500 139.500 547.374 139.770 L 569.247 140.040 570.624 138.897 L 572 137.755 572 129.078 L 572 120.400 570.800 119.200 L 569.600 118 566.907 118 L 564.214 118 563.607 116.418 C 563.273 115.548, 563 113.696, 563 112.302 L 563 109.767 565.250 110.475 C 566.487 110.864, 569.980 111.413, 573.011 111.694 L 578.522 112.206 582.852 111.040 L 587.181 109.874 591.661 105.745 C 594.125 103.473, 597.234 99.750, 598.570 97.471 L 600.998 93.328 602.999 85.504 L 605 77.680 605 69.477 C 605 64.965, 604.548 58.849, 603.995 55.886 L 602.989 50.500 599.960 44.306 L 596.930 38.113 593.215 35.212 C 591.172 33.617, 587.970 31.792, 586.101 31.156 L 582.702 30 577.101 30.045 L 571.500 30.090 567 32.456 M 1032 33.931 L 1032 38.050 1034.669 39.064 C 1036.136 39.622, 1037.922 40.848, 1038.637 41.789 L 1039.936 43.500 1039.968 75.816 L 1040 108.131 1039.008 109.984 L 1038.017 111.837 1035.008 112.498 L 1032 113.159 1032 117.034 L 1032 120.909 1035.250 121.442 C 1037.037 121.735, 1044.800 122.689, 1052.500 123.563 C 1060.200 124.436, 1072.487 126.017, 1079.805 127.076 C 1087.123 128.134, 1093.310 129, 1093.555 129 C 1093.800 129, 1094 123.884, 1094 117.631 L 1094 106.262 1090.250 105.642 C 1088.188 105.301, 1085.938 105.017, 1085.250 105.011 L 1084 105 1083.985 107.750 C 1083.966 111.094, 1083.204 112.330, 1080.175 113.925 L 1077.851 115.150 1068.675 113.970 C 1063.629 113.321, 1058.938 112.332, 1058.250 111.772 L 1057 110.755 1057 98.500 L 1057 86.245 1058.540 84.967 L 1060.079 83.689 1069.481 84.845 C 1074.652 85.480, 1079.809 86, 1080.942 86 L 1083 86 1083 80.176 L 1083 74.352 1070.864 72.765 L 1058.728 71.178 1057.879 69.839 L 1057.031 68.500 1057.015 57.872 L 1057 47.245 1058.477 46.019 L 1059.955 44.792 1067.227 45.498 L 1074.500 46.204 1077.611 47.650 L 1080.723 49.096 1081.861 51.595 C 1082.488 52.970, 1083 54.914, 1083 55.916 L 1083 57.738 1086.750 58.358 C 1088.813 58.699, 1091.078 58.983, 1091.784 58.989 L 1093.068 59 1092.784 48.261 L 1092.500 37.521 1087.500 36.801 C 1084.750 36.405, 1073.275 34.937, 1062 33.540 C 1050.725 32.142, 1039.362 30.732, 1036.750 30.406 L 1032 29.812 1032 33.931 M 769 32.880 C 767.625 33.330, 764.649 34.644, 762.387 35.799 L 758.275 37.900 753.691 42.999 L 749.108 48.097 747.126 53.393 C 746.036 56.306, 744.619 61.572, 743.977 65.095 L 742.810 71.500 743.468 77.500 C 744.386 85.861, 745.917 91.737, 748.559 97.040 L 750.821 101.580 755.485 105.879 L 760.149 110.178 764.742 112.210 L 769.336 114.242 777.418 114.745 L 785.500 115.248 791.125 114.079 L 796.750 112.910 801.389 109.968 L 806.027 107.027 809.017 102.312 C 810.661 99.719, 812.912 95.179, 814.017 92.224 L 816.028 86.850 816.828 79.382 L 817.628 71.914 816.770 64.707 L 815.912 57.500 813.545 52.325 L 811.179 47.150 807.087 42.710 L 802.995 38.271 796.747 35.436 L 790.500 32.602 781 32.332 L 771.500 32.062 769 32.880 M 92.500 37.593 C 67.550 43.296, 59.336 45.370, 58.250 46.242 L 57 47.245 57 56.922 L 57 66.600 58.200 67.800 C 58.860 68.460, 60.232 69, 61.250 69 L 63.100 69 62.800 74.674 L 62.500 80.349 55 82.656 C 50.875 83.924, 47.388 84.971, 47.250 84.981 C 47.112 84.991, 47 82.945, 47 80.434 C 47 75.300, 48.369 72, 50.500 72 C 51.286 72, 52.395 71.130, 52.965 70.066 L 54 68.131 54 59.637 L 54 51.143 52.518 49.660 L 51.035 48.178 48.768 48.750 C 38.227 51.412, 22.284 60.456, 17.950 66.234 L 15.500 69.500 15.152 79.383 L 14.804 89.266 15.946 91.399 L 17.087 93.532 16.555 123.016 C 16.262 139.232, 15.905 157.400, 15.761 163.388 L 15.500 174.276 17.250 175.383 L 19 176.490 20.750 175.393 L 22.500 174.296 22.813 172.196 L 23.127 170.096 26.607 167.041 C 30.413 163.698, 38.683 159.311, 46.500 156.486 C 49.250 155.493, 52.063 153.991, 52.750 153.149 L 54 151.618 54 142.880 L 54 134.143 52.518 132.660 L 51.035 131.178 49.018 131.706 L 47 132.233 47 123.198 L 47 114.163 53.750 112.003 C 57.462 110.815, 61.063 109.668, 61.750 109.453 L 63 109.063 63 117.977 L 63 126.891 60.250 128.207 L 57.500 129.522 57.217 139.611 L 56.933 149.700 58.367 150.890 L 59.801 152.080 71.651 149.123 C 78.168 147.497, 87.325 145.406, 92 144.478 C 96.675 143.550, 101.063 142.333, 101.750 141.773 L 103 140.755 103 130.913 L 103 121.070 101.162 120.087 L 99.323 119.103 97.162 119.668 L 95 120.233 95 90.636 L 95 61.038 97.750 60.381 C 99.263 60.020, 101.063 59.281, 101.750 58.740 L 103 57.755 103 47.913 L 103 38.070 101.066 37.035 C 100.002 36.466, 98.989 36.050, 98.816 36.111 C 98.642 36.172, 95.800 36.839, 92.500 37.593 M 573 38.180 C 568.654 39.422, 567.350 40.486, 564.351 45.235 L 561.975 49 560.110 49 C 557.660 49, 556.255 47.191, 555.838 43.500 L 555.500 40.500 548 40.724 C 543.875 40.847, 538.587 41.212, 536.250 41.535 L 532 42.123 532 45.561 L 532 49 533.845 49 L 535.690 49 537.595 51.104 L 539.500 53.207 539.811 84.854 L 540.123 116.500 539.057 120.130 L 537.991 123.761 534.943 125.024 L 531.895 126.286 532.197 129.393 L 532.500 132.500 540 132.823 C 544.125 133.001, 551.212 132.848, 555.750 132.483 L 564 131.820 564 128.410 L 564 125 562.073 125 L 560.145 125 558.073 122.365 L 556 119.730 556 109.988 L 556 100.245 557.530 98.975 L 559.059 97.706 561.280 98.874 C 562.501 99.516, 565.057 101.029, 566.960 102.235 L 570.420 104.430 575.616 104.354 L 580.812 104.279 584.267 102.144 C 591.110 97.915, 595.214 89.317, 596.984 75.500 L 597.882 68.500 596.964 61.239 L 596.046 53.979 593.951 49.107 C 592.798 46.427, 590.650 43.083, 589.177 41.676 L 586.500 39.116 582 38.083 C 576.829 36.895, 577.527 36.887, 573 38.180 M 773 39.902 C 768.021 40.955, 764.062 43.244, 759.765 47.556 L 756.030 51.303 753.882 56.902 L 751.734 62.500 751.232 70.359 L 750.730 78.218 751.984 83.859 C 754.159 93.651, 759.157 100.852, 766.500 104.774 L 769.500 106.377 778.638 106.803 L 787.777 107.229 791.638 105.991 C 793.762 105.310, 796.969 103.655, 798.765 102.314 L 802.029 99.876 804.522 94.957 C 815.178 73.928, 809.839 49.458, 793 42.149 L 788.500 40.196 782.500 39.679 L 776.500 39.162 773 39.902 M 353.667 44.434 C 351.010 45.148, 347.635 46.607, 346.167 47.675 L 343.500 49.617 341.185 54.059 L 338.870 58.500 339.249 64.251 L 339.628 70.002 342.564 73.140 L 345.500 76.279 355.500 81.014 L 365.500 85.749 367.386 87.854 L 369.273 89.959 369.273 94.163 L 369.273 98.367 366.121 101.184 L 362.968 104 359.289 104 L 355.609 104 352.805 101.313 L 350 98.626 350 96.813 L 350 95 344.500 95 L 339 95 339 101.929 L 339 108.858 344.739 110.050 L 350.478 111.241 360.563 110.792 L 370.648 110.344 375.035 107.922 L 379.423 105.500 381.639 102.209 C 382.858 100.400, 384.280 96.927, 384.799 94.492 L 385.743 90.066 384.996 85.980 L 384.249 81.894 381.875 79.347 C 379.370 76.660, 372.251 72.822, 362.855 69.093 L 357.211 66.853 354.878 64.370 L 352.545 61.887 352.545 57.837 L 352.545 53.788 355.328 51.394 L 358.112 49 362.367 49 L 366.623 49 368.799 51.028 C 369.996 52.143, 371.255 54.168, 371.596 55.528 L 372.217 58 377.108 58 L 382 58 382 51.638 L 382 45.276 376.333 44.138 C 369.027 42.671, 359.778 42.792, 353.667 44.434 M 83 47.471 C 77.225 48.736, 70.588 50.289, 68.250 50.924 L 64 52.077 64 56.539 L 64 61 65.345 61 C 66.085 61, 67.435 61.823, 68.345 62.829 L 70 64.657 70 75.207 L 70 85.757 67.250 86.785 C 65.737 87.350, 59.680 89.274, 53.789 91.061 L 43.079 94.310 41.539 93.033 L 40 91.755 40 81.301 L 40 70.846 43 67.846 L 46 64.846 46 61.423 C 46 59.540, 45.710 58, 45.355 58 C 43.539 58, 29.999 65.307, 26.671 68.083 L 22.842 71.276 23.514 77.888 C 23.884 81.525, 24.238 99.575, 24.301 118 L 24.415 151.500 23.575 155.757 L 22.735 160.014 28.524 156.528 C 31.707 154.611, 36.942 152.023, 40.156 150.776 L 46 148.510 46 144.255 L 46 140 44.523 140 L 43.046 140 41.493 137.630 L 39.940 135.260 40.220 121.880 L 40.500 108.500 51.500 104.803 C 57.550 102.769, 63.947 101.082, 65.715 101.053 L 68.930 101 69.965 102.934 L 71 104.869 70.976 114.184 C 70.963 119.308, 70.536 125.300, 70.027 127.500 L 69.102 131.500 66.551 133.538 L 64 135.575 64 139.355 L 64 143.135 65.750 142.587 C 66.713 142.285, 72.675 140.899, 79 139.507 C 85.325 138.114, 91.513 136.747, 92.750 136.469 L 95 135.962 95 132 L 95 128.038 92.477 127.405 L 89.953 126.771 88.477 124.663 L 87 122.555 87.015 91.527 L 87.029 60.500 88.294 58 L 89.559 55.500 92.279 54.195 L 95 52.891 95 48.945 L 95 45 94.250 45.086 C 93.838 45.133, 88.775 46.206, 83 47.471 M 204.294 48.534 C 196.727 50.573, 192.177 52.638, 186.219 56.740 L 180.938 60.375 181.219 71.438 L 181.500 82.500 187.833 82.500 L 194.167 82.500 192.439 83.500 C 191.489 84.050, 188.873 85.866, 186.627 87.535 L 182.543 90.569 179.521 95.456 L 176.500 100.343 176.146 108.140 L 175.791 115.937 178.017 120.534 L 180.242 125.132 184.302 127.816 L 188.362 130.500 195.931 130.500 L 203.500 130.500 207 129.058 C 208.925 128.265, 212.169 126.530, 214.208 125.203 L 217.917 122.789 220.560 124.868 C 222.014 126.012, 224.678 127.224, 226.481 127.562 L 229.759 128.177 235.878 126.610 C 250.221 122.935, 251.965 121.131, 251.985 109.950 L 252 101.400 250.800 100.200 L 249.600 99 246.881 99 L 244.162 99 243.827 81.250 L 243.491 63.500 241.304 59.405 C 240.102 57.153, 237.529 53.915, 235.586 52.210 L 232.055 49.109 228.277 48.060 L 224.500 47.011 217 47.071 L 209.500 47.132 204.294 48.534 M 778 49.631 C 777.175 49.915, 775.447 50.661, 774.159 51.291 L 771.819 52.435 769.659 56.467 L 767.500 60.500 767.500 73 L 767.500 85.500 769.420 89.368 L 771.340 93.236 774.420 95.114 L 777.500 96.993 781.173 96.996 L 784.847 97 787.904 94.427 L 790.962 91.854 792.172 87.677 L 793.381 83.500 793.429 72.500 L 793.478 61.500 791.489 57.565 C 788.556 51.760, 782.379 48.128, 778 49.631 M 561.093 53.575 L 558.033 56.150 556.516 61.257 L 555 66.363 555.006 72.932 C 555.009 76.544, 555.505 81.279, 556.109 83.453 L 557.206 87.406 560.503 90.703 L 563.800 94 567.365 94 L 570.930 94 574.346 91.001 L 577.762 88.002 578.881 83.558 L 580 79.114 579.994 71.807 L 579.989 64.500 578.900 60.579 L 577.811 56.658 574.983 53.829 L 572.154 51 568.154 51 L 564.153 51 561.093 53.575 M 211 54.630 C 209.625 54.893, 205.719 56.010, 202.319 57.113 L 196.139 59.117 192.069 62.065 L 188 65.013 188 70.006 L 188 75 191.250 74.986 C 193.037 74.979, 195.512 74.701, 196.750 74.370 L 199 73.767 199 71.783 L 199 69.800 202.400 66.400 L 205.800 63 210.311 63 L 214.822 63 217.351 66.005 L 219.879 69.010 220.539 73.415 L 221.200 77.820 220.222 79.568 L 219.244 81.315 210.313 84.544 C 205.401 86.320, 199.118 88.920, 196.351 90.322 L 191.320 92.872 188.202 96.423 L 185.084 99.974 183.955 104.166 L 182.827 108.358 183.467 112.631 L 184.108 116.904 186.955 119.952 L 189.802 123 195.035 123 C 197.913 123, 202.034 122.471, 204.193 121.824 L 208.118 120.648 212.463 116.824 L 216.807 113 218.880 113 L 220.954 113 222.704 115.750 C 225.915 120.795, 229.481 121.288, 238.462 117.928 L 244 115.856 244 111.428 L 244 107 242.023 107 L 240.046 107 238.273 104.297 L 236.500 101.594 236 83.047 L 235.500 64.500 233.733 61.267 L 231.966 58.034 228.955 56.477 L 225.944 54.919 219.722 54.536 C 216.300 54.325, 212.375 54.367, 211 54.630 M 136.383 55.949 C 134.668 56.358, 131.205 57.690, 128.688 58.909 L 124.110 61.125 119.915 65.313 C 114.632 70.586, 111.909 74.902, 109.073 82.500 L 106.832 88.500 106.068 95.500 L 105.303 102.500 106.147 110.157 L 106.991 117.814 108.897 122.260 C 111.367 128.021, 116.324 133.615, 121.138 136.070 L 124.964 138.023 132.232 138.614 L 139.500 139.206 146.500 137.563 L 153.500 135.919 160.621 132.404 C 164.537 130.471, 168.700 127.997, 169.871 126.906 L 172 124.922 172 114.161 L 172 103.400 170.833 102.233 L 169.666 101.066 171.333 100.426 L 173 99.786 173 91.103 L 173 82.420 171.489 76.620 C 170.658 73.429, 168.847 68.888, 167.463 66.528 L 164.948 62.236 161.137 59.595 C 154.810 55.210, 145.328 53.814, 136.383 55.949 M 895.030 57.230 C 893.672 57.945, 891.568 60.001, 890.356 61.800 L 888.152 65.071 887.461 71.524 L 886.769 77.977 887.438 82.739 C 887.806 85.357, 888.563 88.948, 889.121 90.717 L 890.134 93.935 893.143 96.467 L 896.153 99 899.030 99 C 900.612 99, 903.063 98.473, 904.478 97.828 L 907.049 96.657 909.238 93.115 L 911.426 89.574 911.834 80.254 L 912.241 70.934 911.015 66.553 L 909.788 62.171 907.050 59.548 L 904.312 56.925 900.906 56.428 L 897.500 55.931 895.030 57.230 M 776.357 60.250 L 774.662 63.500 774.597 73 L 774.531 82.500 776.229 85.629 C 778.075 89.031, 780.149 90.264, 782.509 89.358 L 784.017 88.779 784.759 86.140 C 785.166 84.688, 785.500 78.484, 785.500 72.354 L 785.500 61.208 783.595 59.104 L 781.690 57 779.871 57 L 778.051 57 776.357 60.250 M 565.829 59.726 C 563.416 62.533, 562.913 64.858, 562.894 73.279 L 562.877 81.163 564.462 83.582 L 566.046 86 567.902 86 L 569.757 86 571.104 82.750 L 572.450 79.500 572.469 72 L 572.488 64.500 570.994 61.574 C 569.134 57.931, 567.786 57.448, 565.829 59.726 M 281.559 62.082 L 278.049 65.165 277.030 68.832 L 276.011 72.500 276.011 81 L 276.011 89.500 277.035 93.186 L 278.059 96.871 281.230 99.540 L 284.402 102.209 288.299 101.687 L 292.197 101.164 294.573 98.931 L 296.950 96.699 298.716 92.099 L 300.483 87.500 300.449 79.500 L 300.415 71.500 299.141 67.783 L 297.866 64.065 294.857 61.533 L 291.847 59 288.458 59 L 285.070 59 281.559 62.082 M 141.427 63.034 C 135.417 63.869, 130.724 65.954, 125.890 69.939 L 122.359 72.850 119.204 78.768 L 116.050 84.686 114.540 91.093 C 113.709 94.617, 113.023 99.993, 113.015 103.040 L 113 108.580 114.542 114.501 L 116.085 120.422 118.658 123.796 C 120.074 125.652, 122.642 128.062, 124.366 129.152 L 127.500 131.133 137 130.693 L 146.500 130.254 152 128.048 C 155.025 126.835, 158.963 124.941, 160.750 123.840 L 164 121.837 164 116.918 C 164 114.213, 163.829 112, 163.621 112 C 163.412 112, 160.681 113.172, 157.551 114.605 L 151.860 117.211 145.976 117.266 L 140.093 117.322 136.642 114.957 C 132.762 112.299, 130.549 108.989, 129.563 104.374 L 128.895 101.247 130.383 99.760 L 131.870 98.272 149.034 95.966 L 166.197 93.660 165.501 87.166 C 163.431 67.837, 156.544 60.933, 141.427 63.034 M 1104.154 63.315 L 1102.922 64.799 1103.211 74.114 L 1103.500 83.430 1106.750 84.360 L 1110 85.289 1110 101.113 L 1110 116.937 1108.578 116.392 L 1107.156 115.846 1105.078 116.958 L 1103 118.070 1103 127.557 L 1103 137.043 1105.250 137.941 C 1107.754 138.939, 1134.966 143.921, 1142 144.668 C 1144.475 144.931, 1147.400 145.541, 1148.500 146.024 C 1150.948 147.099, 1177.342 154.090, 1181.500 154.764 C 1183.150 155.032, 1185.042 155.683, 1185.704 156.210 C 1186.366 156.737, 1190 158.650, 1193.779 160.462 C 1197.559 162.273, 1202.276 165.181, 1204.262 166.925 L 1207.873 170.096 1208.187 172.196 L 1208.500 174.296 1210.250 175.393 L 1212 176.490 1213.750 175.383 L 1215.500 174.276 1215.298 164.388 C 1215.186 158.950, 1214.708 142.800, 1214.236 128.500 L 1213.376 102.500 1211.786 98.195 C 1210.912 95.828, 1208.939 92.076, 1207.402 89.858 L 1204.607 85.826 1200.175 82.776 C 1197.737 81.099, 1193.856 79.159, 1191.550 78.465 L 1187.357 77.203 1183.414 77.924 C 1181.245 78.321, 1178.332 79.392, 1176.940 80.304 L 1174.409 81.962 1172.691 79.055 C 1167.233 69.815, 1153.742 64.860, 1143.750 68.426 L 1140 69.764 1140 68.417 C 1140 66.175, 1137.026 65.317, 1125 64.087 C 1118.675 63.440, 1111.674 62.667, 1109.443 62.371 L 1105.385 61.831 1104.154 63.315 M 896.404 66.506 L 894.762 69.012 895.173 78.403 L 895.583 87.793 896.914 89.397 C 897.646 90.278, 899.074 91, 900.087 91 L 901.930 91 903.162 88.750 L 904.395 86.500 904.447 78.500 L 904.500 70.500 903.129 67.250 L 901.757 64 899.902 64 L 898.046 64 896.404 66.506 M 284.943 69.606 L 283.500 72.300 283.500 80.400 C 283.500 84.855, 283.853 89.767, 284.285 91.315 L 285.071 94.130 287.285 93.815 L 289.500 93.500 291.248 90 L 292.997 86.500 292.984 79.500 L 292.971 72.500 291.710 70 L 290.450 67.500 288.418 67.206 L 286.385 66.911 284.943 69.606 M 1111 74.047 L 1111 78 1112.427 78 C 1113.213 78, 1114.788 79.186, 1115.927 80.635 L 1118 83.270 1118 100.570 L 1118 117.870 1117.035 120.407 L 1116.071 122.944 1113.535 123.580 L 1111 124.217 1111 127.931 L 1111 131.645 1123.750 133.847 C 1130.763 135.058, 1137.513 136.316, 1138.750 136.641 L 1141 137.233 1141 133.832 L 1141 130.431 1138.006 128.662 L 1135.011 126.894 1134.432 124.583 C 1134.113 123.313, 1133.998 115.493, 1134.176 107.206 L 1134.500 92.139 1136.602 89.319 L 1138.704 86.500 1141.343 85.560 L 1143.981 84.621 1147.445 86.273 L 1150.910 87.925 1152.695 91.212 L 1154.480 94.500 1154.990 117.338 L 1155.500 140.175 1166.500 143.046 C 1179.965 146.560, 1179 146.536, 1179 143.356 L 1179 140.712 1175.250 137.472 L 1171.500 134.233 1171.157 122.940 C 1170.968 116.729, 1171.114 109.247, 1171.480 106.313 L 1172.146 100.979 1174.662 97.990 L 1177.178 95 1180.185 95 L 1183.191 95 1186.066 96.698 L 1188.942 98.397 1190.471 102.219 L 1192 106.040 1192 128.503 L 1192 150.966 1197.250 153.611 C 1200.138 155.066, 1203.695 157.099, 1205.156 158.129 L 1207.812 160.002 1207.418 148.251 C 1207.201 141.788, 1206.821 129.525, 1206.573 121 L 1206.122 105.500 1204.533 100.944 C 1203.659 98.438, 1201.607 94.766, 1199.973 92.784 L 1197.002 89.180 1192.468 86.985 L 1187.934 84.790 1184.653 85.405 L 1181.372 86.021 1177.990 89.510 L 1174.608 93 1172.826 93 L 1171.044 93 1168.257 87.348 L 1165.469 81.696 1161.809 78.733 L 1158.149 75.771 1153.591 75.257 L 1149.033 74.744 1146.065 75.973 L 1143.097 77.202 1141.486 79.662 L 1139.875 82.121 1137.230 81.810 L 1134.584 81.500 1133.495 77 L 1132.405 72.500 1126.952 71.868 C 1123.954 71.521, 1119.138 70.979, 1116.250 70.665 L 1111 70.094 1111 74.047 M 134.503 74.297 L 131.206 77.594 130.109 81.547 C 129.505 83.721, 129.009 86.722, 129.006 88.215 L 129 90.930 130.841 91.915 L 132.681 92.900 141.364 91.494 C 146.140 90.721, 150.487 89.817, 151.024 89.485 L 152 88.882 152 84.391 L 152 79.901 150.346 76.700 C 149.437 74.940, 147.974 72.952, 147.096 72.282 L 145.500 71.064 141.650 71.032 L 137.800 71 134.503 74.297 M 210.500 88.157 C 197.835 94.706, 194.020 106.466, 202.367 113.228 L 204.500 114.956 208.173 114.978 L 211.847 115 214.907 112.425 L 217.967 109.850 219.484 104.743 L 221 99.637 221 94.018 L 221 88.400 219.800 87.200 C 218.078 85.478, 215.085 85.786, 210.500 88.157 M 1142.219 94.750 C 1141.823 95.713, 1141.500 102.316, 1141.500 109.425 L 1141.500 122.349 1144.250 123.088 L 1147 123.827 1147 110.348 L 1147 96.869 1145.965 94.934 C 1144.678 92.529, 1143.161 92.455, 1142.219 94.750 M 210.500 97.186 C 207.483 98.789, 206 101.078, 206 104.132 L 206 106.882 207.063 107.539 L 208.126 108.196 210.043 106.461 L 211.961 104.725 212.582 101.416 C 212.923 99.596, 213.044 97.661, 212.851 97.116 L 212.500 96.124 210.500 97.186 M 148.536 103.656 C 136.997 105.323, 136.668 105.498, 139.997 108.196 L 142.493 110.220 147.162 109.667 L 151.831 109.114 157.915 106.043 C 167.076 101.418, 165.972 101.137, 148.536 103.656 M 1179.667 103.667 C 1179.300 104.033, 1179 110.278, 1179 117.544 L 1179 130.755 1180.250 131.722 C 1180.938 132.254, 1182.345 132.992, 1183.379 133.363 L 1185.258 134.036 1184.760 120.268 C 1184.178 104.168, 1183.001 100.332, 1179.667 103.667" stroke="none" fill="#0a0907" fill-rule="evenodd" fill="#eddcff" fill-opacity="0.85"/>
    </svg>
  </g>
  <rect x="22" y="22" width="556" height="196" rx="98" fill="none" stroke="rgba(255,255,255,0.08)" stroke-width="6"/>
</svg>
    <div id="splashTitle" class="splash-title">Heads Up Hold Em</div>
    <div class="splash-version">Version 2.4.2</div>
    <div class="splash-actions">
      <button id="splashClose">Start Playing</button>
      <button id="splashShowRules">How to Play / Rules</button>
      <button id="splashShowWoo">Wizard of Odds Strategy</button>
      <button id="splashShowVersion" style="font-size:11px; padding:6px 8px; opacity:.9;">Version Info</button>
    </div>
    <div class="splash-install">iOS: tap the Share button, then <b>Add to Home Screen</b> to install.<br/>(This will enable offline use.)</div>
  </div>
</div>
<div id="wooModal" class="modal-woo" role="dialog" aria-modal="true" aria-labelledby="wooTitle">
  <div class="woo-box">
    <div class="close-row"><button id="wooClose">Close</button></div>
    <h3 id="wooTitle">Wizard of Odds Strategy (Simplified)</h3>
    <div class="woo-content">
      <p><b>Preflop  Raise 3x</b></p>
      <ul>
        <li>Any pair except pocket deuces</li>
        <li>Any Ace</li>
        <li>King with suited 5+; offsuit 7+</li>
        <li>Queen with suited 8+; offsuit 10+</li>
        <li>Jack with suited 10+ only</li>
      </ul>
      <p><b>Flop  Raise 2x</b></p>
      <ul>
        <li>Two pair or better</li>
        <li>Hidden pair (excluding pocket deuces)</li>
        <li>Four to a flush with a 10+ in hand</li>
      </ul>
      <p><b>River  Call 1x</b></p>
      <ul>
        <li>Hidden pair or better, or</li>
        <li>Dealer outs to beat you &lt; 21</li>
      </ul>
      <p class="muted">This guide mirrors the in-app Wizard of Odds advice.</p>
    </div>
  </div>
</div>

<!-- Rules Modal -->
<div id="rulesModal" class="modal-woo" role="dialog" aria-modal="true" aria-labelledby="rulesTitle" style="display:none;">
  <div class="woo-box">
    <div class="close-row"><button id="rulesClose">Close</button></div>
    <h3 id="rulesTitle">Heads Up Hold 'Em  How to Play</h3>
    <div class="woo-content">
      <p><b>Objective</b>: Make the best 5-card poker hand and beat the dealer.</p>
      <p><b>Initial Bets</b>: Place <b>Ante</b> and <b>Odds</b> (Blind). Optional side bets: <b>Trips Plus</b> and <b>Pocket Bonus</b>.</p>
      <p><b>Play Decisions</b> (three chances):</p>
      <ul>
        <li><b>Preflop</b>: After receiving 2 cards, either <b>Raise 3x</b> your Ante or <b>Check</b>.</li>
        <li><b>Flop</b>: After 3 community cards, either <b>Raise 2x</b> your Ante or <b>Check</b>.</li>
        <li><b>River</b>: After all 5 community cards, either <b>Call 1x</b> your Ante or <b>Fold</b>.</li>
      </ul>
      <p><b>Showdown & Dealer Qualifying</b>:</p>
      <ul>
        <li>The dealer <b>qualifies</b> with a pair or better. If the dealer does not qualify and you win, your <b>Ante pushes</b> (returns) and <b>Play</b> pays even money.</li>
        <li>If you win and the dealer qualifies: <b>Ante</b> and <b>Play</b> pay 1:1, and <b>Odds</b> pays per the felt paytable.</li>
        <li>If you lose, the <b>Odds</b> bet may earn a <b>Bad Beat</b> payout for strong hands (see felt paytable).</li>
        <li>If you <b>fold</b> on the river, you forfeit Ante, Odds, and any side bets.</li>
      </ul>
      <p><b>Side Bets</b>:</p>
      <ul>
        <li><b>Trips Plus</b>: Pays on your final 5-card hand, regardless of dealer outcome.</li>
        <li><b>Pocket Bonus</b>: Pays based on your 2 starting cards (e.g., AA, A+Face suited/off, other pairs).</li>
      </ul>
      <p class="muted">Tip: The in-app  Wizard of Odds Strategy provides recommended raises/calls.</p>
    </div>
  </div>
  </div>

<!-- Hamburger toggle for sidebar on small screens -->
<button id="menuToggle" class="menu-toggle" aria-label="Open menu" aria-controls="sidebar" aria-expanded="false">
  <span class="icon"></span> Menu
  </button>

<main>
  <section class="panel left" id="sidebar" tabindex="-1">
    <div class="sidebar-top">
      <button id="sidebarClose" class="sidebar-close" aria-label="Close menu">Close </button>
    </div>
    <h2>Table Settings & Bets</h2>
    <div id="newHandPrompt" class="sidebar-message pulse-soft" aria-hidden="true">Click on New Hand to begin play.</div>
    <div class="row"><label>Starting Bankroll</label><input id="bankroll" type="number" value="500" min="0" step="1"></div>
    <div class="row"><label>Ante / Odds (each)</label><input id="ante" type="number" value="10" min="1" step="1"></div>
    <div class="row"><label>Trips Plus (opt)</label><input id="trips" type="number" value="0" min="0" step="1"></div>
    <div class="row"><label>Pocket Bonus (opt)</label><input id="pocket" type="number" value="0" min="0" step="1"></div>
    <h2>Game Controls</h2> 
    <button id="newHand"> New Hand</button>
    <div class="row" style="margin-top:6px;"><button id="startNewGame">Start New Session</button></div>
    <div class="row" style="margin-top:6px; margin-bottom:6px;"><button id="endGameExit">End Session and Exit</button></div>
    <h2>View Stats</h2>
    <div class="row" style="margin-top:6px;"><button id="viewSessionStats">Session</button></div>
    <div class="row" style="margin-top:6px; margin-bottom: 6px;"><button id="viewStats">Player</button></div>
    <div class="row" style="margin-top:12px; margin-bottom: 12px; justify-content:space-between; display:none;"></div>
    <div style="margin-top:12px;"><h2>Status</h2><div class="row"><span class="pill">Stage: <span id="stage">Waiting</span></span><span class="pill">Outcome: <span id="outcome"></span></span></div></div>
      <h2>Strategy</h2>
      <div class="row">
        <label style="display:flex; align-items:center; gap:8px; cursor:pointer;">
          <input id="togglePlayerHand" type="checkbox"> Show Hand Ranking During Play
        </label>
      </div>
      <div class="row">
        <label style="display:flex; align-items:center; gap:8px; cursor:pointer;">
          <input id="toggleAdvice" type="checkbox"> Show Play Advice (live)
        </label>
      </div>
      <div class="row">
        <label style="display:flex; align-items:center; gap:8px; cursor:pointer;">
          <input id="toggleCorrectMistakes" type="checkbox"> Correct Strategy Mistakes
        </label>
      </div>
      <div id="adviceWrap" style="display:none; margin-top:6px;">
        <div id="adviceLine" class="pill" style="display:inline-block; font-size:12px;">Advice</div>
        <div id="adviceWhy" class="muted" style="font-size:12px; margin-top:4px;"></div>
      </div>
      <div style="margin-top:12px;"></div>
      
      <div style="margin-top:12px;"><h2>Log</h2><div id="log" class="log"></div></div>
    </div>
  </section>

  <section id="tableWrap">
    <div id="table">
      <!-- Stacked paytables on the left -->
      <div class="felt-left" id="feltStack">
        <div class="felt-block">
          <div class="felt-head">TRIPS PLUS</div>
          <table class="felt-table">
            <tbody>
                <tr><td>Royal Flush</td><td class="payout">100x</td></tr>
                <tr><td>Straight Flush</td><td class="payout">40x</td></tr>
                <tr><td>Four of a Kind</td><td class="payout">30x</td></tr>
                <tr><td>Full House</td><td class="payout">8x</td></tr>
                <tr><td>Flush</td><td class="payout">7x</td></tr>
                <tr><td>Straight</td><td class="payout">4x</td></tr>
                <tr><td>Trips</td><td class="payout">3x</td></tr>
            </tbody>
          </table>
        </div>
        <div class="felt-block">
          <div class="felt-head">POCKET BONUS</div>
          <table class="felt-table">
            <tbody>
                <tr><td>AA</td><td class="payout">25x</td></tr>
                <tr><td>A + Face Suited</td><td class="payout">20x</td></tr>
                <tr><td>A + Face Offsuit</td><td class="payout">10x</td></tr>
                <tr><td>Other Pair</td><td class="payout">4x</td></tr>
            </tbody>
          </table>
        </div>
        <div class="felt-block">
          <div class="felt-head">ODDS</div>
          <table class="felt-table">
            <thead>
              <tr>
                <th>Hand</th>
                <th style="text-align:right;">Win</th>
                <th style="text-align:right;">Bad Beat</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Royal Flush</td><td class="payout">500x</td><td class="payout">&mdash;</td></tr>
              <tr><td>Straight Flush</td><td class="payout">50x</td><td class="payout">500x</td></tr>
              <tr><td>Four of a Kind</td><td class="payout">10x</td><td class="payout">25x</td></tr>
              <tr><td>Full House</td><td class="payout">3x</td><td class="payout">6x</td></tr>
              <tr><td>Flush</td><td class="payout">1.5x</td><td class="payout">5x</td></tr>
              <tr><td>Straight</td><td class="payout">1x</td><td class="payout">4x</td></tr>
              <tr><td>Other wins</td><td class="payout">Push</td><td class="payout">&mdash;</td></tr>
            </tbody>
          </table>
          Win: Royal Flush 500x  Straight Flush 50x  Four of a Kind 10x  Full House 3x  Flush 1.5x  Straight 1x  All others push
          <div style="margin-top:6px; opacity:.9;">
            <span class="muted">Bad Beat (losing):</span><br/>
            Straight Flush 500x  Four of a Kind 25x  Full House 6x  Flush 5x  Straight 4x
          </div>
        </div>
        
        <div class="felt-block">
          <div class="felt-head">ODDS</div>
          <table class="felt-table">
            <thead>
              <tr>
                <th>Hand</th>
                <th style="text-align:right;">Win</th>
                <th style="text-align:right;">Bad Beat</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Royal Flush</td><td class="payout">500x</td><td class="payout">&mdash;</td></tr>
              <tr><td>Straight Flush</td><td class="payout">50x</td><td class="payout">500x</td></tr>
              <tr><td>Four of a Kind</td><td class="payout">10x</td><td class="payout">25x</td></tr>
              <tr><td>Full House</td><td class="payout">3x</td><td class="payout">6x</td></tr>
              <tr><td>Flush</td><td class="payout">1.5x</td><td class="payout">5x</td></tr>
              <tr><td>Straight</td><td class="payout">1x</td><td class="payout">4x</td></tr>
              <tr><td>Other wins</td><td class="payout">Push</td><td class="payout">&mdash;</td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="felt-print">
        <div class="felt-left felt-block">
          <div class="felt-head">TRIPS PLUS</div>
          <table class="felt-table">
            <thead>
              <tr>
                <th>Hand</th>
                <th style="text-align:right;">Payout</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Royal Flush</td><td class="payout">100x</td></tr>
              <tr><td>Straight Flush</td><td class="payout">40x</td></tr>
              <tr><td>Four of a Kind</td><td class="payout">30x</td></tr>
              <tr><td>Full House</td><td class="payout">8x</td></tr>
              <tr><td>Flush</td><td class="payout">7x</td></tr>
              <tr><td>Straight</td><td class="payout">4x</td></tr>
              <tr><td>Trips</td><td class="payout">3x</td></tr>
            </tbody>
          </table>
        </div>
        <div class="felt-right felt-block">
          <div class="felt-head">POCKET BONUS</div>
          <table class="felt-table">
            <thead>
              <tr>
                <th>Hand</th>
                <th style="text-align:right;">Payout</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>AA</td><td class="payout">25x</td></tr>
              <tr><td>A + Face (Suited)</td><td class="payout">20x</td></tr>
              <tr><td>A + Face (Off)</td><td class="payout">10x</td></tr>
              <tr><td>Other Pair</td><td class="payout">4x</td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="grid">
        <div class="lane dealer"><div id="dealerLabel" class="label muted">Dealer</div><div id="dealerCards" class="cards"></div></div>
        <div class="lane board"><div id="boardCards" class="cards"></div></div>
        <div class="lane player"><div id="playerCards" class="cards"></div><div id="playerLabel" class="label muted">You</div></div>
      </div>
      <!-- Arced game title on felt -->
        <svg class="felt-arc" xmlns="http://www.w3.org/2000/svg" width="1227" height="193" viewBox="0 0 1227 193" version="1.1"><path d="M 323.457 52 C 323.457 74.825, 323.588 84.163, 323.749 72.750 C 323.909 61.338, 323.909 42.663, 323.749 31.250 C 323.588 19.838, 323.457 29.175, 323.457 52 M 652 15.500 L 652 20 653.961 20 L 655.922 20 657.961 22.189 L 660 24.377 660 57.117 L 660 89.857 658.430 91.427 C 657.567 92.291, 655.767 93.271, 654.430 93.607 L 652 94.217 652 98.608 L 652 103 668 103 L 684 103 684 98.661 L 684 94.321 681.480 93.173 L 678.960 92.025 677.980 89.447 L 677 86.870 677 75.135 L 677 63.400 678.200 62.200 L 679.400 61 692.118 61 C 699.113 61, 705.548 61.273, 706.418 61.607 L 708 62.214 708 76.452 L 708 90.690 706.171 92.345 C 705.165 93.255, 703.815 94, 703.171 94 L 702 94 702 98.345 L 702 102.689 717.150 103.311 C 734.313 104.015, 734 104.087, 734 99.454 L 734 96.027 730.580 94.598 L 727.161 93.169 726.080 91.150 L 725 89.131 725 57.701 L 725 26.270 727.020 23.702 L 729.040 21.134 731.270 20.817 L 733.500 20.500 733.500 16.500 L 733.500 12.500 717.750 12.225 L 702 11.949 702 16.475 L 702 21 703 21 C 703.550 21, 704.900 21.900, 706 23 L 708 25 708 35.465 L 708 45.930 705.873 47.068 L 703.747 48.206 691.623 47.492 L 679.500 46.779 678.250 45.767 L 677 44.755 677 36.527 L 677 28.298 678.123 25.078 L 679.245 21.857 681.623 20.953 L 684 20.050 684 16.156 L 684 12.262 680.250 11.642 C 678.188 11.301, 670.987 11.017, 664.250 11.011 L 652 11 652 15.500 M 491.250 12.723 L 488 13.127 488 16.984 L 488 20.841 491.093 21.520 L 494.185 22.200 495.690 25.800 L 497.194 29.401 496.847 54.451 L 496.500 79.500 494 84.483 L 491.500 89.466 488.133 91.394 L 484.766 93.321 479.133 93.361 L 473.500 93.402 470.352 91.728 L 467.205 90.055 464.852 85.277 L 462.500 80.500 462.161 56.436 L 461.823 32.372 462.970 28.110 L 464.118 23.849 467.559 22.411 L 471 20.973 471 16.835 L 471 12.696 460.344 13.348 C 454.484 13.707, 446.834 14, 443.344 14 L 437 14 437 18.500 L 437 23 439.477 23 L 441.954 23 443.727 25.703 L 445.500 28.406 446.051 57.953 L 446.601 87.500 448.669 92 C 451.308 97.744, 455.315 101.755, 461 104.341 L 465.500 106.388 475 106.798 L 484.500 107.207 490.138 105.565 L 495.777 103.923 499.329 101.211 L 502.882 98.500 505.333 94 C 506.680 91.525, 508.282 87.115, 508.892 84.201 L 510 78.902 510.006 54.201 L 510.011 29.500 511.034 25.818 L 512.056 22.137 515.528 20.991 L 519 19.845 519 15.922 L 519 12 506.750 12.160 C 500.012 12.248, 493.038 12.502, 491.250 12.723 M 835.500 13.958 L 824.500 14.500 824.500 17.986 L 824.500 21.473 826.500 21.840 C 827.600 22.041, 829.288 22.905, 830.250 23.758 L 832 25.310 832 60.500 L 832 95.690 830.250 97.193 C 829.288 98.020, 827.712 98.975, 826.750 99.317 L 825 99.937 825 103 L 825 106.063 826.250 106.450 C 826.938 106.664, 833.913 107.119, 841.750 107.463 L 856 108.088 856 104.519 L 856 100.950 853.709 100.079 C 852.449 99.600, 850.879 98.559, 850.220 97.765 L 849.022 96.322 848.761 54.994 L 848.500 13.666 847.500 13.541 C 846.950 13.472, 841.550 13.660, 835.500 13.958 M 935.458 54.500 C 935.458 77.600, 935.589 86.907, 935.749 75.183 C 935.909 63.458, 935.909 44.558, 935.749 33.183 C 935.588 21.807, 935.457 31.400, 935.458 54.500 M 306.500 18.543 C 302.100 19.278, 297.038 20.152, 295.250 20.485 L 292 21.091 292 24.545 L 292 28 293.545 28 C 294.395 28, 296.195 29.105, 297.545 30.455 L 300 32.909 300 41.755 L 300 50.600 298.800 51.800 C 296.988 53.612, 294.258 53.250, 290.873 50.750 L 287.826 48.500 281.964 48.534 L 276.102 48.568 271.801 51.647 L 267.500 54.726 263.730 62.113 L 259.960 69.500 258.841 77.632 L 257.722 85.764 258.887 93.600 L 260.053 101.435 262.432 106.633 L 264.812 111.831 267.463 113.568 L 270.114 115.305 274.907 115.765 L 279.701 116.226 284.351 114.169 L 289.001 112.112 291.115 108.530 C 292.277 106.560, 294.044 104.512, 295.042 103.978 L 296.855 103.007 298.433 103.613 L 300.011 104.218 300.633 108.109 L 301.256 112 303.878 111.925 C 305.320 111.884, 310.100 111.320, 314.500 110.672 L 322.500 109.494 322.803 105.869 L 323.106 102.243 320.518 101.594 L 317.929 100.944 316.965 98.407 L 316 95.870 316 56.435 L 316 17 315.250 17.103 C 314.837 17.159, 310.900 17.807, 306.500 18.543 M 904.250 18.662 L 903 19.167 903 22.070 L 903 24.973 906.431 26.407 L 909.862 27.840 910.925 31.670 C 911.510 33.777, 911.991 38.263, 911.994 41.639 L 912 47.778 910.129 50.089 L 908.258 52.399 905.504 50.450 C 899.024 45.863, 897.331 45.022, 893.388 44.431 L 889.225 43.807 884.682 45.817 L 880.138 47.826 877.126 51.985 C 875.469 54.273, 873.300 58.474, 872.306 61.322 L 870.500 66.500 870.500 78 L 870.500 89.500 872.431 95.826 L 874.362 102.151 877.931 106.106 L 881.500 110.062 887.037 111.193 L 892.574 112.324 895.537 111.582 L 898.500 110.841 902.692 106.343 L 906.885 101.846 909.191 102.173 L 911.498 102.500 912.391 106.750 L 913.284 111 924.142 111 L 935 111 935 107.500 L 935 104 933.573 104 C 932.787 104, 931.212 102.814, 930.073 101.365 L 928 98.730 928 58.365 L 928 18 916.750 18.079 C 910.563 18.122, 904.938 18.385, 904.250 18.662 M 1002.856 30.279 C 997.609 34.281, 993.670 39.898, 991.576 46.365 L 990 51.230 990.022 55.865 L 990.044 60.500 991.914 64.617 L 993.784 68.735 996.114 70.367 L 998.445 72 1001.223 72 L 1004 72 1005.975 70.025 C 1007.061 68.939, 1008.239 66.895, 1008.594 65.482 L 1009.239 62.914 1007.835 59.207 L 1006.431 55.500 1002.715 53.082 L 999 50.665 999.022 47.582 C 999.034 45.887, 999.870 42.681, 1000.880 40.459 L 1002.715 36.417 1005.858 33.773 L 1009 31.129 1009 29.065 L 1009 27 1008.078 27 C 1007.570 27, 1005.221 28.476, 1002.856 30.279 M 1032 33.931 L 1032 38.050 1034.669 39.064 C 1036.136 39.622, 1037.922 40.848, 1038.637 41.789 L 1039.936 43.500 1039.968 75.816 L 1040 108.131 1039.008 109.984 L 1038.017 111.837 1035.008 112.498 L 1032 113.159 1032 117.034 L 1032 120.909 1035.250 121.442 C 1037.037 121.735, 1044.800 122.689, 1052.500 123.563 C 1060.200 124.436, 1072.487 126.017, 1079.805 127.076 C 1087.123 128.134, 1093.310 129, 1093.555 129 C 1093.800 129, 1094 123.884, 1094 117.631 L 1094 106.262 1090.250 105.642 C 1088.188 105.301, 1085.938 105.017, 1085.250 105.011 L 1084 105 1083.985 107.750 C 1083.966 111.094, 1083.204 112.330, 1080.175 113.925 L 1077.851 115.150 1068.675 113.970 C 1063.629 113.321, 1058.938 112.332, 1058.250 111.772 L 1057 110.755 1057 98.500 L 1057 86.245 1058.540 84.967 L 1060.079 83.689 1069.481 84.845 C 1074.652 85.480, 1079.809 86, 1080.942 86 L 1083 86 1083 80.176 L 1083 74.352 1070.864 72.765 L 1058.728 71.178 1057.879 69.839 L 1057.031 68.500 1057.015 57.872 L 1057 47.245 1058.477 46.019 L 1059.955 44.792 1067.227 45.498 L 1074.500 46.204 1077.611 47.650 L 1080.723 49.096 1081.861 51.595 C 1082.488 52.970, 1083 54.914, 1083 55.916 L 1083 57.738 1086.750 58.358 C 1088.813 58.699, 1091.078 58.983, 1091.784 58.989 L 1093.068 59 1092.784 48.261 L 1092.500 37.521 1087.500 36.801 C 1084.750 36.405, 1073.275 34.937, 1062 33.540 C 1050.725 32.142, 1039.362 30.732, 1036.750 30.406 L 1032 29.812 1032 33.931 M 573 38.180 C 568.654 39.422, 567.350 40.486, 564.351 45.235 L 561.975 49 560.110 49 C 557.660 49, 556.255 47.191, 555.838 43.500 L 555.500 40.500 548 40.724 C 543.875 40.847, 538.587 41.212, 536.250 41.535 L 532 42.123 532 45.561 L 532 49 533.845 49 L 535.690 49 537.595 51.104 L 539.500 53.207 539.811 84.854 L 540.123 116.500 539.057 120.130 L 537.991 123.761 534.943 125.024 L 531.895 126.286 532.197 129.393 L 532.500 132.500 540 132.823 C 544.125 133.001, 551.212 132.848, 555.750 132.483 L 564 131.820 564 128.410 L 564 125 562.073 125 L 560.145 125 558.073 122.365 L 556 119.730 556 109.988 L 556 100.245 557.530 98.975 L 559.059 97.706 561.280 98.874 C 562.501 99.516, 565.057 101.029, 566.960 102.235 L 570.420 104.430 575.616 104.354 L 580.812 104.279 584.267 102.144 C 591.110 97.915, 595.214 89.317, 596.984 75.500 L 597.882 68.500 596.964 61.239 L 596.046 53.979 593.951 49.107 C 592.798 46.427, 590.650 43.083, 589.177 41.676 L 586.500 39.116 582 38.083 C 576.829 36.895, 577.527 36.887, 573 38.180 M 773 39.902 C 768.021 40.955, 764.062 43.244, 759.765 47.556 L 756.030 51.303 753.882 56.902 L 751.734 62.500 751.232 70.359 L 750.730 78.218 751.984 83.859 C 754.159 93.651, 759.157 100.852, 766.500 104.774 L 769.500 106.377 778.638 106.803 L 787.777 107.229 791.638 105.991 C 793.762 105.310, 796.969 103.655, 798.765 102.314 L 802.029 99.876 804.522 94.957 C 815.178 73.928, 809.839 49.458, 793 42.149 L 788.500 40.196 782.500 39.679 L 776.500 39.162 773 39.902 M 353.667 44.434 C 351.010 45.148, 347.635 46.607, 346.167 47.675 L 343.500 49.617 341.185 54.059 L 338.870 58.500 339.249 64.251 L 339.628 70.002 342.564 73.140 L 345.500 76.279 355.500 81.014 L 365.500 85.749 367.386 87.854 L 369.273 89.959 369.273 94.163 L 369.273 98.367 366.121 101.184 L 362.968 104 359.289 104 L 355.609 104 352.805 101.313 L 350 98.626 350 96.813 L 350 95 344.500 95 L 339 95 339 101.929 L 339 108.858 344.739 110.050 L 350.478 111.241 360.563 110.792 L 370.648 110.344 375.035 107.922 L 379.423 105.500 381.639 102.209 C 382.858 100.400, 384.280 96.927, 384.799 94.492 L 385.743 90.066 384.996 85.980 L 384.249 81.894 381.875 79.347 C 379.370 76.660, 372.251 72.822, 362.855 69.093 L 357.211 66.853 354.878 64.370 L 352.545 61.887 352.545 57.837 L 352.545 53.788 355.328 51.394 L 358.112 49 362.367 49 L 366.623 49 368.799 51.028 C 369.996 52.143, 371.255 54.168, 371.596 55.528 L 372.217 58 377.108 58 L 382 58 382 51.638 L 382 45.276 376.333 44.138 C 369.027 42.671, 359.778 42.792, 353.667 44.434 M 83 47.471 C 77.225 48.736, 70.588 50.289, 68.250 50.924 L 64 52.077 64 56.539 L 64 61 65.345 61 C 66.085 61, 67.435 61.823, 68.345 62.829 L 70 64.657 70 75.207 L 70 85.757 67.250 86.785 C 65.737 87.350, 59.680 89.274, 53.789 91.061 L 43.079 94.310 41.539 93.033 L 40 91.755 40 81.301 L 40 70.846 43 67.846 L 46 64.846 46 61.423 C 46 59.540, 45.710 58, 45.355 58 C 43.539 58, 29.999 65.307, 26.671 68.083 L 22.842 71.276 23.514 77.888 C 23.884 81.525, 24.238 99.575, 24.301 118 L 24.415 151.500 23.575 155.757 L 22.735 160.014 28.524 156.528 C 31.707 154.611, 36.942 152.023, 40.156 150.776 L 46 148.510 46 144.255 L 46 140 44.523 140 L 43.046 140 41.493 137.630 L 39.940 135.260 40.220 121.880 L 40.500 108.500 51.500 104.803 C 57.550 102.769, 63.947 101.082, 65.715 101.053 L 68.930 101 69.965 102.934 L 71 104.869 70.976 114.184 C 70.963 119.308, 70.536 125.300, 70.027 127.500 L 69.102 131.500 66.551 133.538 L 64 135.575 64 139.355 L 64 143.135 65.750 142.587 C 66.713 142.285, 72.675 140.899, 79 139.507 C 85.325 138.114, 91.513 136.747, 92.750 136.469 L 95 135.962 95 132 L 95 128.038 92.477 127.405 L 89.953 126.771 88.477 124.663 L 87 122.555 87.015 91.527 L 87.029 60.500 88.294 58 L 89.559 55.500 92.279 54.195 L 95 52.891 95 48.945 L 95 45 94.250 45.086 C 93.838 45.133, 88.775 46.206, 83 47.471 M 1032.442 76 C 1032.442 92.225, 1032.580 98.862, 1032.748 90.750 C 1032.916 82.637, 1032.916 69.362, 1032.748 61.250 C 1032.580 53.137, 1032.442 59.775, 1032.442 76 M 778 49.631 C 777.175 49.915, 775.447 50.661, 774.159 51.291 L 771.819 52.435 769.659 56.467 L 767.500 60.500 767.500 73 L 767.500 85.500 769.420 89.368 L 771.340 93.236 774.420 95.114 L 777.500 96.993 781.173 96.996 L 784.847 97 787.904 94.427 L 790.962 91.854 792.172 87.677 L 793.381 83.500 793.429 72.500 L 793.478 61.500 791.489 57.565 C 788.556 51.760, 782.379 48.128, 778 49.631 M 561.093 53.575 L 558.033 56.150 556.516 61.257 L 555 66.363 555.006 72.932 C 555.009 76.544, 555.505 81.279, 556.109 83.453 L 557.206 87.406 560.503 90.703 L 563.800 94 567.365 94 L 570.930 94 574.346 91.001 L 577.762 88.002 578.881 83.558 L 580 79.114 579.994 71.807 L 579.989 64.500 578.900 60.579 L 577.811 56.658 574.983 53.829 L 572.154 51 568.154 51 L 564.153 51 561.093 53.575 M 211 54.630 C 209.625 54.893, 205.719 56.010, 202.319 57.113 L 196.139 59.117 192.069 62.065 L 188 65.013 188 70.006 L 188 75 191.250 74.986 C 193.037 74.979, 195.512 74.701, 196.750 74.370 L 199 73.767 199 71.783 L 199 69.800 202.400 66.400 L 205.800 63 210.311 63 L 214.822 63 217.351 66.005 L 219.879 69.010 220.539 73.415 L 221.200 77.820 220.222 79.568 L 219.244 81.315 210.313 84.544 C 205.401 86.320, 199.118 88.920, 196.351 90.322 L 191.320 92.872 188.202 96.423 L 185.084 99.974 183.955 104.166 L 182.827 108.358 183.467 112.631 L 184.108 116.904 186.955 119.952 L 189.802 123 195.035 123 C 197.913 123, 202.034 122.471, 204.193 121.824 L 208.118 120.648 212.463 116.824 L 216.807 113 218.880 113 L 220.954 113 222.704 115.750 C 225.915 120.795, 229.481 121.288, 238.462 117.928 L 244 115.856 244 111.428 L 244 107 242.023 107 L 240.046 107 238.273 104.297 L 236.500 101.594 236 83.047 L 235.500 64.500 233.733 61.267 L 231.966 58.034 228.955 56.477 L 225.944 54.919 219.722 54.536 C 216.300 54.325, 212.375 54.367, 211 54.630 M 895.030 57.230 C 893.672 57.945, 891.568 60.001, 890.356 61.800 L 888.152 65.071 887.461 71.524 L 886.769 77.977 887.438 82.739 C 887.806 85.357, 888.563 88.948, 889.121 90.717 L 890.134 93.935 893.143 96.467 L 896.153 99 899.030 99 C 900.612 99, 903.063 98.473, 904.478 97.828 L 907.049 96.657 909.238 93.115 L 911.426 89.574 911.834 80.254 L 912.241 70.934 911.015 66.553 L 909.788 62.171 907.050 59.548 L 904.312 56.925 900.906 56.428 L 897.500 55.931 895.030 57.230 M 281.559 62.082 L 278.049 65.165 277.030 68.832 L 276.011 72.500 276.011 81 L 276.011 89.500 277.035 93.186 L 278.059 96.871 281.230 99.540 L 284.402 102.209 288.299 101.687 L 292.197 101.164 294.573 98.931 L 296.950 96.699 298.716 92.099 L 300.483 87.500 300.449 79.500 L 300.415 71.500 299.141 67.783 L 297.866 64.065 294.857 61.533 L 291.847 59 288.458 59 L 285.070 59 281.559 62.082 M 141.427 63.034 C 135.417 63.869, 130.724 65.954, 125.890 69.939 L 122.359 72.850 119.204 78.768 L 116.050 84.686 114.540 91.093 C 113.709 94.617, 113.023 99.993, 113.015 103.040 L 113 108.580 114.542 114.501 L 116.085 120.422 118.658 123.796 C 120.074 125.652, 122.642 128.062, 124.366 129.152 L 127.500 131.133 137 130.693 L 146.500 130.254 152 128.048 C 155.025 126.835, 158.963 124.941, 160.750 123.840 L 164 121.837 164 116.918 C 164 114.213, 163.829 112, 163.621 112 C 163.412 112, 160.681 113.172, 157.551 114.605 L 151.860 117.211 145.976 117.266 L 140.093 117.322 136.642 114.957 C 132.762 112.299, 130.549 108.989, 129.563 104.374 L 128.895 101.247 130.383 99.760 L 131.870 98.272 149.034 95.966 L 166.197 93.660 165.501 87.166 C 163.431 67.837, 156.544 60.933, 141.427 63.034 M 1111 74.047 L 1111 78 1112.427 78 C 1113.213 78, 1114.788 79.186, 1115.927 80.635 L 1118 83.270 1118 100.570 L 1118 117.870 1117.035 120.407 L 1116.071 122.944 1113.535 123.580 L 1111 124.217 1111 127.931 L 1111 131.645 1123.750 133.847 C 1130.763 135.058, 1137.513 136.316, 1138.750 136.641 L 1141 137.233 1141 133.832 L 1141 130.431 1138.006 128.662 L 1135.011 126.894 1134.432 124.583 C 1134.113 123.313, 1133.998 115.493, 1134.176 107.206 L 1134.500 92.139 1136.602 89.319 L 1138.704 86.500 1141.343 85.560 L 1143.981 84.621 1147.445 86.273 L 1150.910 87.925 1152.695 91.212 L 1154.480 94.500 1154.990 117.338 L 1155.500 140.175 1166.500 143.046 C 1179.965 146.560, 1179 146.536, 1179 143.356 L 1179 140.712 1175.250 137.472 L 1171.500 134.233 1171.157 122.940 C 1170.968 116.729, 1171.114 109.247, 1171.480 106.313 L 1172.146 100.979 1174.662 97.990 L 1177.178 95 1180.185 95 L 1183.191 95 1186.066 96.698 L 1188.942 98.397 1190.471 102.219 L 1192 106.040 1192 128.503 L 1192 150.966 1197.250 153.611 C 1200.138 155.066, 1203.695 157.099, 1205.156 158.129 L 1207.812 160.002 1207.418 148.251 C 1207.201 141.788, 1206.821 129.525, 1206.573 121 L 1206.122 105.500 1204.533 100.944 C 1203.659 98.438, 1201.607 94.766, 1199.973 92.784 L 1197.002 89.180 1192.468 86.985 L 1187.934 84.790 1184.653 85.405 L 1181.372 86.021 1177.990 89.510 L 1174.608 93 1172.826 93 L 1171.044 93 1168.257 87.348 L 1165.469 81.696 1161.809 78.733 L 1158.149 75.771 1153.591 75.257 L 1149.033 74.744 1146.065 75.973 L 1143.097 77.202 1141.486 79.662 L 1139.875 82.121 1137.230 81.810 L 1134.584 81.500 1133.495 77 L 1132.405 72.500 1126.952 71.868 C 1123.954 71.521, 1119.138 70.979, 1116.250 70.665 L 1111 70.094 1111 74.047 M 134.503 74.297 L 131.206 77.594 130.109 81.547 C 129.505 83.721, 129.009 86.722, 129.006 88.215 L 129 90.930 130.841 91.915 L 132.681 92.900 141.364 91.494 C 146.140 90.721, 150.487 89.817, 151.024 89.485 L 152 88.882 152 84.391 L 152 79.901 150.346 76.700 C 149.437 74.940, 147.974 72.952, 147.096 72.282 L 145.500 71.064 141.650 71.032 L 137.800 71 134.503 74.297 M 210.500 88.157 C 197.835 94.706, 194.020 106.466, 202.367 113.228 L 204.500 114.956 208.173 114.978 L 211.847 115 214.907 112.425 L 217.967 109.850 219.484 104.743 L 221 99.637 221 94.018 L 221 88.400 219.800 87.200 C 218.078 85.478, 215.085 85.786, 210.500 88.157" stroke="none" fill="#ffc000" fill-rule="evenodd"/><path d="M 498.068 4.749 L 483.636 5.057 482.318 6.151 L 481 7.245 481 17.087 L 481 26.930 482.934 27.965 C 483.998 28.534, 485.798 29, 486.934 29 L 489 29 489 53.032 L 489 77.064 487.585 80.452 L 486.169 83.839 484.150 84.920 C 481.634 86.266, 476.463 86.318, 474.039 85.021 L 472.210 84.042 471.105 80.872 L 470 77.702 470 53.351 L 470 29 472.750 28.985 C 474.262 28.976, 476.175 28.543, 477 28.022 L 478.500 27.074 478.841 18.260 L 479.182 9.447 477.341 7.307 L 475.500 5.167 453.716 5.918 L 431.932 6.668 430.929 7.671 L 429.926 8.674 430.213 19.087 L 430.500 29.500 434.250 29.810 L 438 30.121 438 55.511 L 438 80.902 439.115 86.201 C 439.728 89.115, 441.316 93.823, 442.645 96.661 L 445.061 101.823 449.158 105.524 C 454.362 110.225, 459.827 112.634, 468.768 114.167 L 475.859 115.383 484.634 114.209 L 493.409 113.035 498.615 110.488 L 503.821 107.940 507.367 104.015 C 509.318 101.856, 511.885 98.186, 513.073 95.858 L 515.232 91.625 516.581 84.063 L 517.930 76.500 517.965 52.250 L 518 28 520.800 28 L 523.600 28 524.800 26.800 L 526 25.600 526 16 L 526 6.400 524.800 5.200 L 523.600 4 518.050 4.220 C 514.998 4.341, 506.006 4.579, 498.068 4.749 M 645.200 5.200 L 644 6.400 644 15.009 L 644 23.618 645.250 25.247 L 646.500 26.876 649.500 27.188 L 652.500 27.500 652.500 57 L 652.500 86.500 649.500 86.838 C 647.850 87.025, 645.938 87.642, 645.250 88.211 L 644 89.245 644 97.931 L 644 106.618 645.250 108.288 L 646.500 109.958 667.809 110.053 L 689.118 110.147 690.559 108.951 L 692 107.755 692 99.312 L 692 90.869 690.965 88.934 L 689.930 87 687.465 87 L 685 87 685 77.364 L 685 67.728 689.640 68.364 C 692.191 68.714, 695.791 69, 697.640 69 L 701 69 701 78 L 701 87 698.700 87 C 697.435 87, 695.860 87.540, 695.200 88.200 L 694 89.400 694 98.629 L 694 107.857 695.591 109.448 L 697.181 111.038 718.841 110.769 L 740.500 110.500 740.787 100.648 L 741.075 90.795 739.915 89.398 L 738.755 88 735.878 88 L 733 88 733 58.060 L 733 28.121 736.750 27.810 L 740.500 27.500 740.787 17.648 L 741.075 7.795 740.011 6.513 L 738.947 5.231 717.966 4.499 L 696.986 3.767 695.493 5.006 L 694 6.245 694.015 15.372 C 694.032 25.502, 694.344 26.420, 698.270 27.913 L 701 28.950 701 34.475 L 701 40 693 40 L 685 40 685.022 34.250 L 685.043 28.500 688.272 27 L 691.500 25.500 691.789 16.757 L 692.078 8.014 691.004 6.007 L 689.930 4 668.165 4 L 646.400 4 645.200 5.200 M 823 6.900 L 817.500 7.500 817.211 16.851 L 816.922 26.201 818.084 27.601 L 819.245 29 822.137 29 L 825.028 29 824.764 60.240 L 824.500 91.481 821.500 91.998 L 818.500 92.516 818.216 102.680 L 817.932 112.844 819.716 113.399 C 820.697 113.705, 830.241 114.405, 840.925 114.954 L 860.351 115.954 861.710 114.826 L 863.069 113.698 862.784 104.099 L 862.500 94.500 859.260 93.546 L 856.021 92.592 855.760 49.546 L 855.500 6.500 842 6.400 C 834.575 6.345, 826.025 6.570, 823 6.900 M 301.555 11.616 L 286.611 14.078 285.305 15.162 L 284 16.245 284 24.922 L 284 33.600 285.200 34.800 L 286.400 36 289.200 36 L 292 36 292 38.850 L 292 41.700 284.637 41.227 L 277.274 40.755 273.671 41.943 L 270.069 43.132 264.975 47.712 L 259.881 52.292 256.931 58.136 C 255.309 61.350, 253.317 66.797, 252.506 70.240 L 251.030 76.500 251.015 85.303 L 251 94.105 252.554 100.937 L 254.108 107.769 257.304 113.086 L 260.500 118.402 265.475 120.951 L 270.449 123.500 277 123.447 L 283.552 123.393 289.026 120.435 L 294.500 117.478 296.101 119.090 L 297.702 120.702 313.523 118.419 L 329.344 116.136 330.218 114.575 L 331.092 113.014 333.417 114.538 L 335.743 116.061 344.121 117.652 L 352.500 119.243 361 118.658 C 371.634 117.926, 375.592 116.790, 381.677 112.723 L 386.500 109.500 389.374 104.136 L 392.249 98.773 392.736 92.636 L 393.223 86.500 392.085 82.295 L 390.947 78.091 388.335 74.987 C 386.899 73.279, 383.508 70.617, 380.801 69.071 L 375.879 66.260 377.521 65.630 C 378.425 65.284, 381.062 65, 383.382 65 L 387.600 65 388.800 63.800 L 390 62.600 390 51.744 L 390 40.888 385.750 39.017 L 381.500 37.147 373.157 36.013 L 364.815 34.879 359.157 35.564 C 352.070 36.421, 345.258 38.939, 340.779 42.355 L 337.323 44.991 334.618 49.960 L 331.914 54.928 331.321 59.941 L 330.727 64.953 331.964 69.370 L 333.200 73.787 336.206 77.434 L 339.212 81.081 344.177 83.916 L 349.142 86.752 341.321 87.476 L 333.500 88.200 332.250 89.222 L 331 90.245 331 93.245 L 331 96.245 329.750 95.218 C 329.063 94.654, 327.375 94.036, 326 93.846 L 323.500 93.500 323 51.500 L 322.500 9.500 319.500 9.327 C 317.850 9.231, 309.775 10.261, 301.555 11.616 M 910.061 10.748 L 898.622 11.069 897.311 12.157 L 896 13.245 896 21.922 L 896 30.600 897.200 31.800 L 898.400 33 901.200 33 L 904 33 904 36.449 L 904 39.898 900.290 38.348 L 896.581 36.798 889.921 37.174 L 883.261 37.551 878.471 40.525 L 873.680 43.500 870.352 48.342 L 867.023 53.184 865.009 59.707 L 862.994 66.230 862.365 74.411 L 861.736 82.592 863.442 91.010 L 865.147 99.427 867.700 104.639 L 870.252 109.852 873.376 112.778 C 875.094 114.388, 878.517 116.484, 880.983 117.437 L 885.466 119.170 891.700 119.123 L 897.933 119.075 901.775 117.115 L 905.616 115.155 906.816 117.078 L 908.017 119 923.937 119 L 939.857 119 941.429 117.429 L 943 115.857 942.985 107.679 C 942.966 97.457, 942.522 96.745, 935.750 96.074 L 935 96 935 54.200 L 935 12.400 933.800 11.200 L 932.600 10 927.050 10.214 C 923.998 10.331, 916.352 10.572, 910.061 10.748 M 652 15.500 L 652 20 653.961 20 L 655.922 20 657.961 22.189 L 660 24.377 660 57.117 L 660 89.857 658.430 91.427 C 657.567 92.291, 655.767 93.271, 654.430 93.607 L 652 94.217 652 98.608 L 652 103 668 103 L 684 103 684 98.661 L 684 94.321 681.480 93.173 L 678.960 92.025 677.980 89.447 L 677 86.870 677 75.135 L 677 63.400 678.200 62.200 L 679.400 61 692.118 61 C 699.113 61, 705.548 61.273, 706.418 61.607 L 708 62.214 708 76.452 L 708 90.690 706.171 92.345 C 705.165 93.255, 703.815 94, 703.171 94 L 702 94 702 98.345 L 702 102.689 717.150 103.311 C 734.313 104.015, 734 104.087, 734 99.454 L 734 96.027 730.580 94.598 L 727.161 93.169 726.080 91.150 L 725 89.131 725 57.701 L 725 26.270 727.020 23.702 L 729.040 21.134 731.270 20.817 L 733.500 20.500 733.500 16.500 L 733.500 12.500 717.750 12.225 L 702 11.949 702 16.475 L 702 21 703 21 C 703.550 21, 704.900 21.900, 706 23 L 708 25 708 35.465 L 708 45.930 705.873 47.068 L 703.747 48.206 691.623 47.492 L 679.500 46.779 678.250 45.767 L 677 44.755 677 36.527 L 677 28.298 678.123 25.078 L 679.245 21.857 681.623 20.953 L 684 20.050 684 16.156 L 684 12.262 680.250 11.642 C 678.188 11.301, 670.987 11.017, 664.250 11.011 L 652 11 652 15.500 M 491.250 12.723 L 488 13.127 488 16.984 L 488 20.841 491.093 21.520 L 494.185 22.200 495.690 25.800 L 497.194 29.401 496.847 54.451 L 496.500 79.500 494 84.483 L 491.500 89.466 488.133 91.394 L 484.766 93.321 479.133 93.361 L 473.500 93.402 470.352 91.728 L 467.205 90.055 464.852 85.277 L 462.500 80.500 462.161 56.436 L 461.823 32.372 462.970 28.110 L 464.118 23.849 467.559 22.411 L 471 20.973 471 16.835 L 471 12.696 460.344 13.348 C 454.484 13.707, 446.834 14, 443.344 14 L 437 14 437 18.500 L 437 23 439.477 23 L 441.954 23 443.727 25.703 L 445.500 28.406 446.051 57.953 L 446.601 87.500 448.669 92 C 451.308 97.744, 455.315 101.755, 461 104.341 L 465.500 106.388 475 106.798 L 484.500 107.207 490.138 105.565 L 495.777 103.923 499.329 101.211 L 502.882 98.500 505.333 94 C 506.680 91.525, 508.282 87.115, 508.892 84.201 L 510 78.902 510.006 54.201 L 510.011 29.500 511.034 25.818 L 512.056 22.137 515.528 20.991 L 519 19.845 519 15.922 L 519 12 506.750 12.160 C 500.012 12.248, 493.038 12.502, 491.250 12.723 M 835.500 13.958 L 824.500 14.500 824.500 17.986 L 824.500 21.473 826.500 21.840 C 827.600 22.041, 829.288 22.905, 830.250 23.758 L 832 25.310 832 60.500 L 832 95.690 830.250 97.193 C 829.288 98.020, 827.712 98.975, 826.750 99.317 L 825 99.937 825 103 L 825 106.063 826.250 106.450 C 826.938 106.664, 833.913 107.119, 841.750 107.463 L 856 108.088 856 104.519 L 856 100.950 853.709 100.079 C 852.449 99.600, 850.879 98.559, 850.220 97.765 L 849.022 96.322 848.761 54.994 L 848.500 13.666 847.500 13.541 C 846.950 13.472, 841.550 13.660, 835.500 13.958 M 306.500 18.543 C 302.100 19.278, 297.038 20.152, 295.250 20.485 L 292 21.091 292 24.545 L 292 28 293.545 28 C 294.395 28, 296.195 29.105, 297.545 30.455 L 300 32.909 300 41.755 L 300 50.600 298.800 51.800 C 296.988 53.612, 294.258 53.250, 290.873 50.750 L 287.826 48.500 281.964 48.534 L 276.102 48.568 271.801 51.647 L 267.500 54.726 263.730 62.113 L 259.960 69.500 258.841 77.632 L 257.722 85.764 258.887 93.600 L 260.053 101.435 262.432 106.633 L 264.812 111.831 267.463 113.568 L 270.114 115.305 274.907 115.765 L 279.701 116.226 284.351 114.169 L 289.001 112.112 291.115 108.530 C 292.277 106.560, 294.044 104.512, 295.042 103.978 L 296.855 103.007 298.433 103.613 L 300.011 104.218 300.633 108.109 L 301.256 112 303.878 111.925 C 305.320 111.884, 310.100 111.320, 314.500 110.672 L 322.500 109.494 322.803 105.869 L 323.106 102.243 320.518 101.594 L 317.929 100.944 316.965 98.407 L 316 95.870 316 56.435 L 316 17 315.250 17.103 C 314.837 17.159, 310.900 17.807, 306.500 18.543 M 1005.241 19.988 L 998.983 22.885 994.071 27.927 L 989.160 32.969 986.628 38.321 L 984.096 43.672 983.070 50.046 L 982.044 56.420 982.664 60.460 C 984.912 75.110, 996.527 83.312, 1007.500 78 L 1011.632 76 1013.816 72.114 L 1016 68.228 1016 63.074 L 1016 57.920 1014.028 54.055 C 1012.943 51.929, 1010.882 49.266, 1009.447 48.137 L 1006.838 46.085 1007.481 44.058 C 1007.835 42.944, 1010.122 40.395, 1012.562 38.395 L 1017 34.759 1017 27.080 L 1017 19.400 1015.800 18.200 C 1014.048 16.448, 1012.221 16.758, 1005.241 19.988 M 904.250 18.662 L 903 19.167 903 22.070 L 903 24.973 906.431 26.407 L 909.862 27.840 910.925 31.670 C 911.510 33.777, 911.991 38.263, 911.994 41.639 L 912 47.778 910.129 50.089 L 908.258 52.399 905.504 50.450 C 899.024 45.863, 897.331 45.022, 893.388 44.431 L 889.225 43.807 884.682 45.817 L 880.138 47.826 877.126 51.985 C 875.469 54.273, 873.300 58.474, 872.306 61.322 L 870.500 66.500 870.500 78 L 870.500 89.500 872.431 95.826 L 874.362 102.151 877.931 106.106 L 881.500 110.062 887.037 111.193 L 892.574 112.324 895.537 111.582 L 898.500 110.841 902.692 106.343 L 906.885 101.846 909.191 102.173 L 911.498 102.500 912.391 106.750 L 913.284 111 924.142 111 L 935 111 935 107.500 L 935 104 933.573 104 C 932.787 104, 931.212 102.814, 930.073 101.365 L 928 98.730 928 58.365 L 928 18 916.750 18.079 C 910.563 18.122, 904.938 18.385, 904.250 18.662 M 1024.996 24.007 L 1023.922 26.014 1024.211 34.651 L 1024.500 43.289 1026 44.145 C 1026.825 44.616, 1028.737 45.440, 1030.250 45.976 L 1033 46.950 1033 75.975 L 1033 105 1029.535 105 L 1026.070 105 1025.035 106.934 L 1024 108.869 1024 117.312 L 1024 125.755 1025.499 126.999 L 1026.998 128.243 1046.249 130.498 C 1056.837 131.739, 1073.018 133.780, 1082.207 135.035 L 1098.915 137.316 1100.457 136.035 L 1102 134.755 1102 118 L 1102 101.245 1100.750 100.219 C 1100.063 99.654, 1095.170 98.629, 1089.878 97.940 L 1080.256 96.688 1078.628 97.313 L 1077 97.937 1077 102.469 L 1077 107 1074.750 106.989 C 1073.513 106.983, 1070.813 106.699, 1068.750 106.358 L 1065 105.738 1065 98.869 L 1065 92 1065.750 92.018 C 1066.162 92.028, 1071.181 92.702, 1076.902 93.515 L 1087.303 94.993 1088.652 93.874 L 1090 92.755 1090 80.937 L 1090 69.118 1088.750 68.309 C 1088.063 67.864, 1082.550 66.816, 1076.500 65.980 L 1065.500 64.460 1065.196 58.594 L 1064.892 52.728 1068.071 53.364 C 1069.819 53.714, 1072.094 54, 1073.125 54 L 1075 54 1075 58.378 L 1075 62.755 1076.255 63.796 L 1077.509 64.837 1087.864 66.130 L 1098.218 67.422 1099.609 65.520 L 1101 63.618 1101 49 L 1101 34.382 1099.639 32.521 L 1098.278 30.660 1085.389 28.855 C 1068.551 26.497, 1031.076 22, 1028.267 22 L 1026.070 22 1024.996 24.007 M 1002.856 30.279 C 997.609 34.281, 993.670 39.898, 991.576 46.365 L 990 51.230 990.022 55.865 L 990.044 60.500 991.914 64.617 L 993.784 68.735 996.114 70.367 L 998.445 72 1001.223 72 L 1004 72 1005.975 70.025 C 1007.061 68.939, 1008.239 66.895, 1008.594 65.482 L 1009.239 62.914 1007.835 59.207 L 1006.431 55.500 1002.715 53.082 L 999 50.665 999.022 47.582 C 999.034 45.887, 999.870 42.681, 1000.880 40.459 L 1002.715 36.417 1005.858 33.773 L 1009 31.129 1009 29.065 L 1009 27 1008.078 27 C 1007.570 27, 1005.221 28.476, 1002.856 30.279 M 567 32.456 L 562.500 34.821 560.824 33.322 L 559.148 31.824 543.824 33.050 C 535.396 33.724, 527.696 34.688, 526.714 35.192 L 524.929 36.108 525.214 45.804 L 525.500 55.500 528.750 55.813 L 532 56.127 532 86.857 L 532 117.586 528.750 118.543 L 525.500 119.500 525.500 129.500 L 525.500 139.500 547.374 139.770 L 569.247 140.040 570.624 138.897 L 572 137.755 572 129.078 L 572 120.400 570.800 119.200 L 569.600 118 566.907 118 L 564.214 118 563.607 116.418 C 563.273 115.548, 563 113.696, 563 112.302 L 563 109.767 565.250 110.475 C 566.487 110.864, 569.980 111.413, 573.011 111.694 L 578.522 112.206 582.852 111.040 L 587.181 109.874 591.661 105.745 C 594.125 103.473, 597.234 99.750, 598.570 97.471 L 600.998 93.328 602.999 85.504 L 605 77.680 605 69.477 C 605 64.965, 604.548 58.849, 603.995 55.886 L 602.989 50.500 599.960 44.306 L 596.930 38.113 593.215 35.212 C 591.172 33.617, 587.970 31.792, 586.101 31.156 L 582.702 30 577.101 30.045 L 571.500 30.090 567 32.456 M 1032 33.931 L 1032 38.050 1034.669 39.064 C 1036.136 39.622, 1037.922 40.848, 1038.637 41.789 L 1039.936 43.500 1039.968 75.816 L 1040 108.131 1039.008 109.984 L 1038.017 111.837 1035.008 112.498 L 1032 113.159 1032 117.034 L 1032 120.909 1035.250 121.442 C 1037.037 121.735, 1044.800 122.689, 1052.500 123.563 C 1060.200 124.436, 1072.487 126.017, 1079.805 127.076 C 1087.123 128.134, 1093.310 129, 1093.555 129 C 1093.800 129, 1094 123.884, 1094 117.631 L 1094 106.262 1090.250 105.642 C 1088.188 105.301, 1085.938 105.017, 1085.250 105.011 L 1084 105 1083.985 107.750 C 1083.966 111.094, 1083.204 112.330, 1080.175 113.925 L 1077.851 115.150 1068.675 113.970 C 1063.629 113.321, 1058.938 112.332, 1058.250 111.772 L 1057 110.755 1057 98.500 L 1057 86.245 1058.540 84.967 L 1060.079 83.689 1069.481 84.845 C 1074.652 85.480, 1079.809 86, 1080.942 86 L 1083 86 1083 80.176 L 1083 74.352 1070.864 72.765 L 1058.728 71.178 1057.879 69.839 L 1057.031 68.500 1057.015 57.872 L 1057 47.245 1058.477 46.019 L 1059.955 44.792 1067.227 45.498 L 1074.500 46.204 1077.611 47.650 L 1080.723 49.096 1081.861 51.595 C 1082.488 52.970, 1083 54.914, 1083 55.916 L 1083 57.738 1086.750 58.358 C 1088.813 58.699, 1091.078 58.983, 1091.784 58.989 L 1093.068 59 1092.784 48.261 L 1092.500 37.521 1087.500 36.801 C 1084.750 36.405, 1073.275 34.937, 1062 33.540 C 1050.725 32.142, 1039.362 30.732, 1036.750 30.406 L 1032 29.812 1032 33.931 M 769 32.880 C 767.625 33.330, 764.649 34.644, 762.387 35.799 L 758.275 37.900 753.691 42.999 L 749.108 48.097 747.126 53.393 C 746.036 56.306, 744.619 61.572, 743.977 65.095 L 742.810 71.500 743.468 77.500 C 744.386 85.861, 745.917 91.737, 748.559 97.040 L 750.821 101.580 755.485 105.879 L 760.149 110.178 764.742 112.210 L 769.336 114.242 777.418 114.745 L 785.500 115.248 791.125 114.079 L 796.750 112.910 801.389 109.968 L 806.027 107.027 809.017 102.312 C 810.661 99.719, 812.912 95.179, 814.017 92.224 L 816.028 86.850 816.828 79.382 L 817.628 71.914 816.770 64.707 L 815.912 57.500 813.545 52.325 L 811.179 47.150 807.087 42.710 L 802.995 38.271 796.747 35.436 L 790.500 32.602 781 32.332 L 771.500 32.062 769 32.880 M 92.500 37.593 C 67.550 43.296, 59.336 45.370, 58.250 46.242 L 57 47.245 57 56.922 L 57 66.600 58.200 67.800 C 58.860 68.460, 60.232 69, 61.250 69 L 63.100 69 62.800 74.674 L 62.500 80.349 55 82.656 C 50.875 83.924, 47.388 84.971, 47.250 84.981 C 47.112 84.991, 47 82.945, 47 80.434 C 47 75.300, 48.369 72, 50.500 72 C 51.286 72, 52.395 71.130, 52.965 70.066 L 54 68.131 54 59.637 L 54 51.143 52.518 49.660 L 51.035 48.178 48.768 48.750 C 38.227 51.412, 22.284 60.456, 17.950 66.234 L 15.500 69.500 15.152 79.383 L 14.804 89.266 15.946 91.399 L 17.087 93.532 16.555 123.016 C 16.262 139.232, 15.905 157.400, 15.761 163.388 L 15.500 174.276 17.250 175.383 L 19 176.490 20.750 175.393 L 22.500 174.296 22.813 172.196 L 23.127 170.096 26.607 167.041 C 30.413 163.698, 38.683 159.311, 46.500 156.486 C 49.250 155.493, 52.063 153.991, 52.750 153.149 L 54 151.618 54 142.880 L 54 134.143 52.518 132.660 L 51.035 131.178 49.018 131.706 L 47 132.233 47 123.198 L 47 114.163 53.750 112.003 C 57.462 110.815, 61.063 109.668, 61.750 109.453 L 63 109.063 63 117.977 L 63 126.891 60.250 128.207 L 57.500 129.522 57.217 139.611 L 56.933 149.700 58.367 150.890 L 59.801 152.080 71.651 149.123 C 78.168 147.497, 87.325 145.406, 92 144.478 C 96.675 143.550, 101.063 142.333, 101.750 141.773 L 103 140.755 103 130.913 L 103 121.070 101.162 120.087 L 99.323 119.103 97.162 119.668 L 95 120.233 95 90.636 L 95 61.038 97.750 60.381 C 99.263 60.020, 101.063 59.281, 101.750 58.740 L 103 57.755 103 47.913 L 103 38.070 101.066 37.035 C 100.002 36.466, 98.989 36.050, 98.816 36.111 C 98.642 36.172, 95.800 36.839, 92.500 37.593 M 573 38.180 C 568.654 39.422, 567.350 40.486, 564.351 45.235 L 561.975 49 560.110 49 C 557.660 49, 556.255 47.191, 555.838 43.500 L 555.500 40.500 548 40.724 C 543.875 40.847, 538.587 41.212, 536.250 41.535 L 532 42.123 532 45.561 L 532 49 533.845 49 L 535.690 49 537.595 51.104 L 539.500 53.207 539.811 84.854 L 540.123 116.500 539.057 120.130 L 537.991 123.761 534.943 125.024 L 531.895 126.286 532.197 129.393 L 532.500 132.500 540 132.823 C 544.125 133.001, 551.212 132.848, 555.750 132.483 L 564 131.820 564 128.410 L 564 125 562.073 125 L 560.145 125 558.073 122.365 L 556 119.730 556 109.988 L 556 100.245 557.530 98.975 L 559.059 97.706 561.280 98.874 C 562.501 99.516, 565.057 101.029, 566.960 102.235 L 570.420 104.430 575.616 104.354 L 580.812 104.279 584.267 102.144 C 591.110 97.915, 595.214 89.317, 596.984 75.500 L 597.882 68.500 596.964 61.239 L 596.046 53.979 593.951 49.107 C 592.798 46.427, 590.650 43.083, 589.177 41.676 L 586.500 39.116 582 38.083 C 576.829 36.895, 577.527 36.887, 573 38.180 M 773 39.902 C 768.021 40.955, 764.062 43.244, 759.765 47.556 L 756.030 51.303 753.882 56.902 L 751.734 62.500 751.232 70.359 L 750.730 78.218 751.984 83.859 C 754.159 93.651, 759.157 100.852, 766.500 104.774 L 769.500 106.377 778.638 106.803 L 787.777 107.229 791.638 105.991 C 793.762 105.310, 796.969 103.655, 798.765 102.314 L 802.029 99.876 804.522 94.957 C 815.178 73.928, 809.839 49.458, 793 42.149 L 788.500 40.196 782.500 39.679 L 776.500 39.162 773 39.902 M 353.667 44.434 C 351.010 45.148, 347.635 46.607, 346.167 47.675 L 343.500 49.617 341.185 54.059 L 338.870 58.500 339.249 64.251 L 339.628 70.002 342.564 73.140 L 345.500 76.279 355.500 81.014 L 365.500 85.749 367.386 87.854 L 369.273 89.959 369.273 94.163 L 369.273 98.367 366.121 101.184 L 362.968 104 359.289 104 L 355.609 104 352.805 101.313 L 350 98.626 350 96.813 L 350 95 344.500 95 L 339 95 339 101.929 L 339 108.858 344.739 110.050 L 350.478 111.241 360.563 110.792 L 370.648 110.344 375.035 107.922 L 379.423 105.500 381.639 102.209 C 382.858 100.400, 384.280 96.927, 384.799 94.492 L 385.743 90.066 384.996 85.980 L 384.249 81.894 381.875 79.347 C 379.370 76.660, 372.251 72.822, 362.855 69.093 L 357.211 66.853 354.878 64.370 L 352.545 61.887 352.545 57.837 L 352.545 53.788 355.328 51.394 L 358.112 49 362.367 49 L 366.623 49 368.799 51.028 C 369.996 52.143, 371.255 54.168, 371.596 55.528 L 372.217 58 377.108 58 L 382 58 382 51.638 L 382 45.276 376.333 44.138 C 369.027 42.671, 359.778 42.792, 353.667 44.434 M 83 47.471 C 77.225 48.736, 70.588 50.289, 68.250 50.924 L 64 52.077 64 56.539 L 64 61 65.345 61 C 66.085 61, 67.435 61.823, 68.345 62.829 L 70 64.657 70 75.207 L 70 85.757 67.250 86.785 C 65.737 87.350, 59.680 89.274, 53.789 91.061 L 43.079 94.310 41.539 93.033 L 40 91.755 40 81.301 L 40 70.846 43 67.846 L 46 64.846 46 61.423 C 46 59.540, 45.710 58, 45.355 58 C 43.539 58, 29.999 65.307, 26.671 68.083 L 22.842 71.276 23.514 77.888 C 23.884 81.525, 24.238 99.575, 24.301 118 L 24.415 151.500 23.575 155.757 L 22.735 160.014 28.524 156.528 C 31.707 154.611, 36.942 152.023, 40.156 150.776 L 46 148.510 46 144.255 L 46 140 44.523 140 L 43.046 140 41.493 137.630 L 39.940 135.260 40.220 121.880 L 40.500 108.500 51.500 104.803 C 57.550 102.769, 63.947 101.082, 65.715 101.053 L 68.930 101 69.965 102.934 L 71 104.869 70.976 114.184 C 70.963 119.308, 70.536 125.300, 70.027 127.500 L 69.102 131.500 66.551 133.538 L 64 135.575 64 139.355 L 64 143.135 65.750 142.587 C 66.713 142.285, 72.675 140.899, 79 139.507 C 85.325 138.114, 91.513 136.747, 92.750 136.469 L 95 135.962 95 132 L 95 128.038 92.477 127.405 L 89.953 126.771 88.477 124.663 L 87 122.555 87.015 91.527 L 87.029 60.500 88.294 58 L 89.559 55.500 92.279 54.195 L 95 52.891 95 48.945 L 95 45 94.250 45.086 C 93.838 45.133, 88.775 46.206, 83 47.471 M 204.294 48.534 C 196.727 50.573, 192.177 52.638, 186.219 56.740 L 180.938 60.375 181.219 71.438 L 181.500 82.500 187.833 82.500 L 194.167 82.500 192.439 83.500 C 191.489 84.050, 188.873 85.866, 186.627 87.535 L 182.543 90.569 179.521 95.456 L 176.500 100.343 176.146 108.140 L 175.791 115.937 178.017 120.534 L 180.242 125.132 184.302 127.816 L 188.362 130.500 195.931 130.500 L 203.500 130.500 207 129.058 C 208.925 128.265, 212.169 126.530, 214.208 125.203 L 217.917 122.789 220.560 124.868 C 222.014 126.012, 224.678 127.224, 226.481 127.562 L 229.759 128.177 235.878 126.610 C 250.221 122.935, 251.965 121.131, 251.985 109.950 L 252 101.400 250.800 100.200 L 249.600 99 246.881 99 L 244.162 99 243.827 81.250 L 243.491 63.500 241.304 59.405 C 240.102 57.153, 237.529 53.915, 235.586 52.210 L 232.055 49.109 228.277 48.060 L 224.500 47.011 217 47.071 L 209.500 47.132 204.294 48.534 M 778 49.631 C 777.175 49.915, 775.447 50.661, 774.159 51.291 L 771.819 52.435 769.659 56.467 L 767.500 60.500 767.500 73 L 767.500 85.500 769.420 89.368 L 771.340 93.236 774.420 95.114 L 777.500 96.993 781.173 96.996 L 784.847 97 787.904 94.427 L 790.962 91.854 792.172 87.677 L 793.381 83.500 793.429 72.500 L 793.478 61.500 791.489 57.565 C 788.556 51.760, 782.379 48.128, 778 49.631 M 561.093 53.575 L 558.033 56.150 556.516 61.257 L 555 66.363 555.006 72.932 C 555.009 76.544, 555.505 81.279, 556.109 83.453 L 557.206 87.406 560.503 90.703 L 563.800 94 567.365 94 L 570.930 94 574.346 91.001 L 577.762 88.002 578.881 83.558 L 580 79.114 579.994 71.807 L 579.989 64.500 578.900 60.579 L 577.811 56.658 574.983 53.829 L 572.154 51 568.154 51 L 564.153 51 561.093 53.575 M 211 54.630 C 209.625 54.893, 205.719 56.010, 202.319 57.113 L 196.139 59.117 192.069 62.065 L 188 65.013 188 70.006 L 188 75 191.250 74.986 C 193.037 74.979, 195.512 74.701, 196.750 74.370 L 199 73.767 199 71.783 L 199 69.800 202.400 66.400 L 205.800 63 210.311 63 L 214.822 63 217.351 66.005 L 219.879 69.010 220.539 73.415 L 221.200 77.820 220.222 79.568 L 219.244 81.315 210.313 84.544 C 205.401 86.320, 199.118 88.920, 196.351 90.322 L 191.320 92.872 188.202 96.423 L 185.084 99.974 183.955 104.166 L 182.827 108.358 183.467 112.631 L 184.108 116.904 186.955 119.952 L 189.802 123 195.035 123 C 197.913 123, 202.034 122.471, 204.193 121.824 L 208.118 120.648 212.463 116.824 L 216.807 113 218.880 113 L 220.954 113 222.704 115.750 C 225.915 120.795, 229.481 121.288, 238.462 117.928 L 244 115.856 244 111.428 L 244 107 242.023 107 L 240.046 107 238.273 104.297 L 236.500 101.594 236 83.047 L 235.500 64.500 233.733 61.267 L 231.966 58.034 228.955 56.477 L 225.944 54.919 219.722 54.536 C 216.300 54.325, 212.375 54.367, 211 54.630 M 136.383 55.949 C 134.668 56.358, 131.205 57.690, 128.688 58.909 L 124.110 61.125 119.915 65.313 C 114.632 70.586, 111.909 74.902, 109.073 82.500 L 106.832 88.500 106.068 95.500 L 105.303 102.500 106.147 110.157 L 106.991 117.814 108.897 122.260 C 111.367 128.021, 116.324 133.615, 121.138 136.070 L 124.964 138.023 132.232 138.614 L 139.500 139.206 146.500 137.563 L 153.500 135.919 160.621 132.404 C 164.537 130.471, 168.700 127.997, 169.871 126.906 L 172 124.922 172 114.161 L 172 103.400 170.833 102.233 L 169.666 101.066 171.333 100.426 L 173 99.786 173 91.103 L 173 82.420 171.489 76.620 C 170.658 73.429, 168.847 68.888, 167.463 66.528 L 164.948 62.236 161.137 59.595 C 154.810 55.210, 145.328 53.814, 136.383 55.949 M 895.030 57.230 C 893.672 57.945, 891.568 60.001, 890.356 61.800 L 888.152 65.071 887.461 71.524 L 886.769 77.977 887.438 82.739 C 887.806 85.357, 888.563 88.948, 889.121 90.717 L 890.134 93.935 893.143 96.467 L 896.153 99 899.030 99 C 900.612 99, 903.063 98.473, 904.478 97.828 L 907.049 96.657 909.238 93.115 L 911.426 89.574 911.834 80.254 L 912.241 70.934 911.015 66.553 L 909.788 62.171 907.050 59.548 L 904.312 56.925 900.906 56.428 L 897.500 55.931 895.030 57.230 M 776.357 60.250 L 774.662 63.500 774.597 73 L 774.531 82.500 776.229 85.629 C 778.075 89.031, 780.149 90.264, 782.509 89.358 L 784.017 88.779 784.759 86.140 C 785.166 84.688, 785.500 78.484, 785.500 72.354 L 785.500 61.208 783.595 59.104 L 781.690 57 779.871 57 L 778.051 57 776.357 60.250 M 565.829 59.726 C 563.416 62.533, 562.913 64.858, 562.894 73.279 L 562.877 81.163 564.462 83.582 L 566.046 86 567.902 86 L 569.757 86 571.104 82.750 L 572.450 79.500 572.469 72 L 572.488 64.500 570.994 61.574 C 569.134 57.931, 567.786 57.448, 565.829 59.726 M 281.559 62.082 L 278.049 65.165 277.030 68.832 L 276.011 72.500 276.011 81 L 276.011 89.500 277.035 93.186 L 278.059 96.871 281.230 99.540 L 284.402 102.209 288.299 101.687 L 292.197 101.164 294.573 98.931 L 296.950 96.699 298.716 92.099 L 300.483 87.500 300.449 79.500 L 300.415 71.500 299.141 67.783 L 297.866 64.065 294.857 61.533 L 291.847 59 288.458 59 L 285.070 59 281.559 62.082 M 141.427 63.034 C 135.417 63.869, 130.724 65.954, 125.890 69.939 L 122.359 72.850 119.204 78.768 L 116.050 84.686 114.540 91.093 C 113.709 94.617, 113.023 99.993, 113.015 103.040 L 113 108.580 114.542 114.501 L 116.085 120.422 118.658 123.796 C 120.074 125.652, 122.642 128.062, 124.366 129.152 L 127.500 131.133 137 130.693 L 146.500 130.254 152 128.048 C 155.025 126.835, 158.963 124.941, 160.750 123.840 L 164 121.837 164 116.918 C 164 114.213, 163.829 112, 163.621 112 C 163.412 112, 160.681 113.172, 157.551 114.605 L 151.860 117.211 145.976 117.266 L 140.093 117.322 136.642 114.957 C 132.762 112.299, 130.549 108.989, 129.563 104.374 L 128.895 101.247 130.383 99.760 L 131.870 98.272 149.034 95.966 L 166.197 93.660 165.501 87.166 C 163.431 67.837, 156.544 60.933, 141.427 63.034 M 1104.154 63.315 L 1102.922 64.799 1103.211 74.114 L 1103.500 83.430 1106.750 84.360 L 1110 85.289 1110 101.113 L 1110 116.937 1108.578 116.392 L 1107.156 115.846 1105.078 116.958 L 1103 118.070 1103 127.557 L 1103 137.043 1105.250 137.941 C 1107.754 138.939, 1134.966 143.921, 1142 144.668 C 1144.475 144.931, 1147.400 145.541, 1148.500 146.024 C 1150.948 147.099, 1177.342 154.090, 1181.500 154.764 C 1183.150 155.032, 1185.042 155.683, 1185.704 156.210 C 1186.366 156.737, 1190 158.650, 1193.779 160.462 C 1197.559 162.273, 1202.276 165.181, 1204.262 166.925 L 1207.873 170.096 1208.187 172.196 L 1208.500 174.296 1210.250 175.393 L 1212 176.490 1213.750 175.383 L 1215.500 174.276 1215.298 164.388 C 1215.186 158.950, 1214.708 142.800, 1214.236 128.500 L 1213.376 102.500 1211.786 98.195 C 1210.912 95.828, 1208.939 92.076, 1207.402 89.858 L 1204.607 85.826 1200.175 82.776 C 1197.737 81.099, 1193.856 79.159, 1191.550 78.465 L 1187.357 77.203 1183.414 77.924 C 1181.245 78.321, 1178.332 79.392, 1176.940 80.304 L 1174.409 81.962 1172.691 79.055 C 1167.233 69.815, 1153.742 64.860, 1143.750 68.426 L 1140 69.764 1140 68.417 C 1140 66.175, 1137.026 65.317, 1125 64.087 C 1118.675 63.440, 1111.674 62.667, 1109.443 62.371 L 1105.385 61.831 1104.154 63.315 M 896.404 66.506 L 894.762 69.012 895.173 78.403 L 895.583 87.793 896.914 89.397 C 897.646 90.278, 899.074 91, 900.087 91 L 901.930 91 903.162 88.750 L 904.395 86.500 904.447 78.500 L 904.500 70.500 903.129 67.250 L 901.757 64 899.902 64 L 898.046 64 896.404 66.506 M 284.943 69.606 L 283.500 72.300 283.500 80.400 C 283.500 84.855, 283.853 89.767, 284.285 91.315 L 285.071 94.130 287.285 93.815 L 289.500 93.500 291.248 90 L 292.997 86.500 292.984 79.500 L 292.971 72.500 291.710 70 L 290.450 67.500 288.418 67.206 L 286.385 66.911 284.943 69.606 M 1111 74.047 L 1111 78 1112.427 78 C 1113.213 78, 1114.788 79.186, 1115.927 80.635 L 1118 83.270 1118 100.570 L 1118 117.870 1117.035 120.407 L 1116.071 122.944 1113.535 123.580 L 1111 124.217 1111 127.931 L 1111 131.645 1123.750 133.847 C 1130.763 135.058, 1137.513 136.316, 1138.750 136.641 L 1141 137.233 1141 133.832 L 1141 130.431 1138.006 128.662 L 1135.011 126.894 1134.432 124.583 C 1134.113 123.313, 1133.998 115.493, 1134.176 107.206 L 1134.500 92.139 1136.602 89.319 L 1138.704 86.500 1141.343 85.560 L 1143.981 84.621 1147.445 86.273 L 1150.910 87.925 1152.695 91.212 L 1154.480 94.500 1154.990 117.338 L 1155.500 140.175 1166.500 143.046 C 1179.965 146.560, 1179 146.536, 1179 143.356 L 1179 140.712 1175.250 137.472 L 1171.500 134.233 1171.157 122.940 C 1170.968 116.729, 1171.114 109.247, 1171.480 106.313 L 1172.146 100.979 1174.662 97.990 L 1177.178 95 1180.185 95 L 1183.191 95 1186.066 96.698 L 1188.942 98.397 1190.471 102.219 L 1192 106.040 1192 128.503 L 1192 150.966 1197.250 153.611 C 1200.138 155.066, 1203.695 157.099, 1205.156 158.129 L 1207.812 160.002 1207.418 148.251 C 1207.201 141.788, 1206.821 129.525, 1206.573 121 L 1206.122 105.500 1204.533 100.944 C 1203.659 98.438, 1201.607 94.766, 1199.973 92.784 L 1197.002 89.180 1192.468 86.985 L 1187.934 84.790 1184.653 85.405 L 1181.372 86.021 1177.990 89.510 L 1174.608 93 1172.826 93 L 1171.044 93 1168.257 87.348 L 1165.469 81.696 1161.809 78.733 L 1158.149 75.771 1153.591 75.257 L 1149.033 74.744 1146.065 75.973 L 1143.097 77.202 1141.486 79.662 L 1139.875 82.121 1137.230 81.810 L 1134.584 81.500 1133.495 77 L 1132.405 72.500 1126.952 71.868 C 1123.954 71.521, 1119.138 70.979, 1116.250 70.665 L 1111 70.094 1111 74.047 M 134.503 74.297 L 131.206 77.594 130.109 81.547 C 129.505 83.721, 129.009 86.722, 129.006 88.215 L 129 90.930 130.841 91.915 L 132.681 92.900 141.364 91.494 C 146.140 90.721, 150.487 89.817, 151.024 89.485 L 152 88.882 152 84.391 L 152 79.901 150.346 76.700 C 149.437 74.940, 147.974 72.952, 147.096 72.282 L 145.500 71.064 141.650 71.032 L 137.800 71 134.503 74.297 M 210.500 88.157 C 197.835 94.706, 194.020 106.466, 202.367 113.228 L 204.500 114.956 208.173 114.978 L 211.847 115 214.907 112.425 L 217.967 109.850 219.484 104.743 L 221 99.637 221 94.018 L 221 88.400 219.800 87.200 C 218.078 85.478, 215.085 85.786, 210.500 88.157 M 1142.219 94.750 C 1141.823 95.713, 1141.500 102.316, 1141.500 109.425 L 1141.500 122.349 1144.250 123.088 L 1147 123.827 1147 110.348 L 1147 96.869 1145.965 94.934 C 1144.678 92.529, 1143.161 92.455, 1142.219 94.750 M 210.500 97.186 C 207.483 98.789, 206 101.078, 206 104.132 L 206 106.882 207.063 107.539 L 208.126 108.196 210.043 106.461 L 211.961 104.725 212.582 101.416 C 212.923 99.596, 213.044 97.661, 212.851 97.116 L 212.500 96.124 210.500 97.186 M 148.536 103.656 C 136.997 105.323, 136.668 105.498, 139.997 108.196 L 142.493 110.220 147.162 109.667 L 151.831 109.114 157.915 106.043 C 167.076 101.418, 165.972 101.137, 148.536 103.656 M 1179.667 103.667 C 1179.300 104.033, 1179 110.278, 1179 117.544 L 1179 130.755 1180.250 131.722 C 1180.938 132.254, 1182.345 132.992, 1183.379 133.363 L 1185.258 134.036 1184.760 120.268 C 1184.178 104.168, 1183.001 100.332, 1179.667 103.667" stroke="none" fill="#0a0907" fill-rule="evenodd"/>
        </svg>

      <div id="pot" class="pot"></div>
      <div id="potPlayer" class="seat-pot-player"></div>
      <div id="potDealer" class="seat-pot-dealer"></div>
      <div class="bet-circles" id="betCircles">
        <div class="bet-wrap">
          <div id="circleTrips" class="bet-circle"></div>
          <div class="bet-label">Trips</div>
        </div>
        <div class="bet-wrap">
          <div id="circlePocket" class="bet-circle"></div>
          <div class="bet-label">Pocket</div>
        </div>
        <div class="bet-wrap">
          <div id="circleAnte" class="bet-circle"></div>
          <div class="bet-label">Ante</div>
        </div>
        <div class="bet-wrap">
          <div id="circleBlind" class="bet-circle"></div>
          <div class="bet-label">Odds</div>
        </div>
        <div class="bet-wrap">
          <div id="circlePlay" class="bet-circle"></div>
          <div class="bet-label">Play</div>
        </div>
        <div class="bet-note">PLAY BET<br>3x on Pocket<br>2x on Flop<br>1x on River</div>
      </div>
    </div>
    <!-- Bankroll chart moved beneath the table -->
    <div id="bankrollBelowTable" class="mini-area show-stats">
      <div class="mini-area-controls">
        <button id="miniSwapToggle" type="button" aria-label="Show chart" title="Show chart"><span aria-hidden="true"></span></button>
      </div>
      <div class="mini-panels">
        <div id="miniStatPanel" class="mini-panel stats-panel">
          <div class="mini-stat-grid">
            
            <div class="mini-stat-item" data-stat-key="totalBet">
              <div class="mini-stat-label">Total Bet</div>
              <div class="mini-stat-value" id="miniStatTotalBet">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="totalProfit">
              <div class="mini-stat-label">Total Profit</div>
              <div class="mini-stat-value" id="miniStatTotal">$0</div>
            </div>
            

            <div class="mini-stat-item" data-stat-key="baseBet">
              <div class="mini-stat-label">Play/Ante/Odds Bet</div>
              <div class="mini-stat-value" id="miniStatBaseBet">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="baseProfit">
              <div class="mini-stat-label">Play/Ante/Odds Profit</div>
              <div class="mini-stat-value" id="miniStatBaseProfit">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="tripsBet">
              <div class="mini-stat-label">Trips Bet</div>
              <div class="mini-stat-value" id="miniStatTripsBet">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="tripsProfit">
              <div class="mini-stat-label">Trips Profit</div>
              <div class="mini-stat-value" id="miniStatTrips">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="pocketBet">
              <div class="mini-stat-label">Pocket Bet</div>
              <div class="mini-stat-value" id="miniStatPocketBet">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="pocketProfit">
              <div class="mini-stat-label">Pocket Profit</div>
              <div class="mini-stat-value" id="miniStatPocket">$0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="record">
              <div class="mini-stat-label">Record</div>
              <div class="mini-stat-value" id="miniStatRecord">0-0-0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="followed">
              <div class="mini-stat-label">Strategy Followed</div>
              <div class="mini-stat-value" id="miniStatFollow">0/0</div>
            </div>
            
            <div class="mini-stat-item" data-stat-key="best">
              <div class="mini-stat-label">Best Hand</div>
              <div class="mini-stat-value" id="miniStatBest">-</div>
            </div>
          </div>
        </div>
        <div class="mini-panel chart-panel">
          <div id="chartMiniWrap" class="mini-chart" title="Click to expand">
            <canvas id="chartMini"></canvas>
          </div>
          <div id="chartLegendMini" class="chart-legend right" aria-hidden="true">
            <div class="item"><span class="swatch line-actual"></span> Bankroll</div>
            <div class="item"><span class="swatch line-hypo"></span> Hypo (WoO)</div>
            <div class="item"><span class="swatch win"></span> Win (followed)</div>
            <div class="item"><span class="swatch lose"></span> Loss (followed)</div>
            <div class="item"><span class="swatch dev-win"></span> Win (deviated)</div>
            <div class="item"><span class="swatch dev-lose"></span> Loss (deviated)</div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Overlay shown when sidebar is open on small screens -->
<div id="sidebarOverlay" class="sidebar-overlay"></div>

<!-- Session Report Modal -->
<div id="reportModal" style="display:none; position:fixed; inset:0; background:rgba(6,12,24,.92); z-index:3400;">
  <div style="position:absolute; inset:24px; bottom:auto; max-height:calc(90vh - 48px); overflow:auto; border:1px solid #24365d; border-radius:14px; background:#0c172a; padding:14px; display:flex; flex-direction:column; gap:10px;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div style="font-size:18px; font-weight:800; color:#d9e6ff;">Session Stats</div>
      <button id="reportClose" style="background:#22314f; border-color:#2e4470;">Close</button>
    </div>
    <div id="reportSummary" style="display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:4px; font-size:10px; color:#b6c6ea;"></div>
    </div>
  </div>

</div>

<!-- Hand Log Modal -->
<div id="handLogModal" style="display:none; position:fixed; inset:0; background:rgba(6,12,24,.92); z-index:3400;">
  <div style="position:absolute; inset:24px; bottom:auto; max-height:calc(90vh - 48px); overflow:auto; border:1px solid #24365d; border-radius:14px; background:#0c172a; padding:14px; display:flex; flex-direction:column; gap:10px; width:min(700px, 92vw); left:50%; transform:translateX(-50%);">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div style="font-size:18px; font-weight:800; color:#d9e6ff;">Hand Log</div>
      <button id="handLogClose" style="background:#22314f; border-color:#2e4470;">Close</button>
    </div>
    <div id="handLogContent" style="border:1px solid #24365d; border-radius:10px; background:#0e1930; padding:10px; font-size:12px; line-height:1.4; max-height:60vh; overflow:auto;"></div>
  </div>
</div>

<!-- Version Info Modal -->
<div id="versionModal" class="modal-woo" role="dialog" aria-modal="true" aria-labelledby="versionTitle" style="display:none;">
  <div class="woo-box">
    <div class="close-row"><button id="versionClose">Close</button></div>
    <h3 id="versionTitle">Version Info</h3>
    <div class="woo-content" id="versionContent">
      <p class="muted"><b>Version 2.4</b></br>-Now you see bet-by-bet settlement and chip improved chip animation.</br>-Added the ability to drag the mini-stats to reorder them-keep your favorites on top.</p>
      <p class="muted"><b>Version 2.3</b></br>-Corrected settlement of side bets when player folds.</br>-More realistic chips.</p>
      <p class="muted"></p><b>Version 2.2</b></br>-Even more stats, including player totals.</p>
      <p class="muted"><b>Version 2.1</b></br>-More stats!</br>-Mini stat box on the main screen, swappable with the graph with the click of a button.</br>-Ability to delete player sessions.</p>
      <p class="muted"><b>Version 2.0</b></br>-Now tracks sessions and stats by player, on the local device only.  Note, you must end/restart the session in order to save it.</br>-Added a Strategy option: Correct Strategy Mistakes.  This allows the player to play without guidance, but will advise upon a strategy mistake and provide an option to correct the play.</br>-Now tracks more stats each session.</p>
    </div>
  </div>
</div>

<!-- Strategy Reminder Modal -->
<div id="strategyModal" style="display:none; position:fixed; inset:0; background:rgba(6,12,24,.92); z-index:1500;">
  <div style="position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:min(250px, calc(100vw - 48px)); border:1px solid #24365d; border-radius:14px; background:#0c172a; padding:16px; display:flex; flex-direction:column; gap:10px;">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
      <div style="font-size:18px; font-weight:800; color:#d9e6ff;">Strategy Reminder</div>
    </div>
    <div id="strategyText" style="font-size:13px; color:#b6c6ea; line-height:1.45;"></div>
    <div style="display:flex; gap:8px; justify-content:flex-end;">
      <button id="strategyIgnore" style="background:#3a1a1a; border-color:#5c2a2a;">Ignore</button>
      <button id="strategyRevise" style="background:#22314f; border-color:#2e4470;">Revise</button>
    </div>
  </div>
</div>

<!-- Player Stats Modal -->
<div id="statsModal" style="display:none; position:fixed; inset:0; background:rgba(6,12,24,.92); z-index:3450;">
  <div style="position:absolute; inset:12px; bottom:auto; max-height:calc(90vh - 48px); overflow:auto; border:1px solid #24365d; border-radius:14px; background:#0c172a; padding:8px; display:flex; flex-direction:column; gap:10px;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div style="font-size:18px; font-weight:800; color:#d9e6ff;">Player Stats</div>
      <button id="statsClose" style="background:#22314f; border-color:#2e4470;">Close</button>
    </div>
    <div id="statsMeta" class="muted" style="font-size:12px;"></div>
    <div id="statsSummary" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(100px, 1fr)); gap:8px;"></div>
    <div style="border:1px solid #24365d; border-radius:10px; background:#0e1930; padding:10px; overflow:auto;">
      <table id="statsTable" style="width:100%; font-size:9px; border-collapse:collapse; color:#d9e6ff;">
        <thead>
          <tr style="text-align:left; color:#b6c6ea;">
            <th style="padding:3px; border-bottom:1px solid #24365d;">#</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Start</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Start Bank</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">End Bank</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Hands</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Hand Record</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Total Bet</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Play/Ante/</br>Odds Bet</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Trips Bet</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Pocket Bet</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Profit</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Play/Ante/</br>Odds Profit</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Trips Profit</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Pocket Profit</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Followed</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Hypo Profit</th>
            <th style="padding:3px; border-bottom:1px solid #24365d;">Best Hand</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="statsEmpty" class="muted" style="display:none; padding:12px;">No sessions found for this player yet.</div>
    </div>
  </div>
</div>

<!-- Player Name Modal -->
<div id="playerModal" style="display:none; position:fixed; inset:0; background:rgba(6,12,24,.92); z-index:3000;">
  <div style="position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:min(420px, 92vw); border:1px solid #24365d; border-radius:14px; background:#0c172a; padding:16px; display:flex; flex-direction:column; gap:10px;">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
      <div style="font-size:18px; font-weight:800; color:#d9e6ff;">Select Player</div>
      <button id="playerCancel" style="background:#22314f; border-color:#2e4470;">Cancel</button>
    </div>
    <div class="muted" style="font-size:12px;">Choose an existing name or enter a new one.</div>
    <label style="font-size:12px; color:#b6c6ea;">Existing Players</label>
    <select id="playerNameSelect" style="padding:8px; background:#0c172a; border:1px solid #2a3f66; border-radius:10px; color:#d9e6ff;">
      <option value="">-- new player --</option>
    </select>
    <div style="text-align:center; font-size:11px; color:#8ea2c8;">or</div>
    <label style="font-size:12px; color:#b6c6ea;">New Player Name</label>
    <input id="playerNameInput" type="text" placeholder="Enter name" style="padding:8px; background:#0c172a; border:1px solid #2a3f66; border-radius:10px; color:#d9e6ff;" disabled />
    <div id="playerErr" class="muted" style="min-height:16px; color:#ff6b6b; font-size:12px;"></div>
    <div style="display:flex; flex-wrap:wrap; gap:8px; justify-content:space-between; align-items:center;">
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button id="playerViewStats" style="background:#22314f; border-color:#2e4470;">View Player Stats</button>
        <button id="playerDelete" style="background:#3a232c; border-color:#5a2f3f;">Delete Player Sessions</button>
      </div>
      <button id="playerContinue" style="background:#1f3b2e; border-color:#2f5a46;">Continue</button>
    </div>
  </div>
</div>

<!-- Bankroll Chart Modal -->
<div id="chartModal">
  <div class="inner">
    <div class="head">
      <div class="title">Bankroll & Hand Results</div>
      <button id="chartClose" style="background:#22314f; border:1px solid #2e4470; border-radius:10px; padding:8px 10px; color:#d9e6ff; font-weight:700;">Close</button>
    </div>
    <div class="chart-title">Bankroll (Actual) vs Hypo (Using WoO Strategy) and Win/Loss per Hand</div>
    <div class="chart-row">
      <div class="chart-canvas-wrap">
        <canvas id="chartLarge"></canvas>
      </div>
      <div id="chartLegendLarge" class="chart-legend right">
        <div class="item"><span class="swatch line-actual"></span> Bankroll</div>
        <div class="item"><span class="swatch line-hypo"></span> Hypo (WoO)</div>
        <div class="item"><span class="swatch win"></span> Win (followed)</div>
        <div class="item"><span class="swatch lose"></span> Loss (followed)</div>
        <div class="item"><span class="swatch dev-win"></span> Win (deviated)</div>
        <div class="item"><span class="swatch dev-lose"></span> Loss (deviated)</div>
      </div>
    </div>
  </div>

  </div>

<div class="sticky-actions">
  <div class="bar-row">
    <div class="actions">
      <button id="raise3" class="action">Raise 3x</button>
      <button id="raise2" class="action">Raise 2x</button>
      <button id="call1" class="action">Call 1x</button>
      <button id="check" class="action">Check</button>
      <button id="fold" class="action" style="background:#3a1a1a;border-color:#5c2a2a">Fold</button>
    </div>
    <div class="bar-meta">
      <div>Bank: $<span id="bankVal" class="money"></span></div>
      <div>Hands: <span id="handCount">0</span></div>
    </div>
  </div>
  <div class="muted" style="margin-top:6px;font-size:10px;">
    Wagers &mdash; Ante $<span id="anteVal"></span>, Odds $<span id="blindVal"></span>, Play $<span id="playVal"></span>, Trips $<span id="tripsVal"></span>, Pocket $<span id="pocketVal"></span>
  </div>
</div>

<script>
const RANKS="23456789TJQKA", SUITS="cdhs";
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a}
function dealDeck(){const d=[...Array(52).keys()];return shuffle(d)}
function face(i){const r=RANKS[i%13],s=SUITS[Math.floor(i/13)];const sc={c:'', d:'', h:'', s:''}[s];return r+sc}

// Unicode-friendly helpers
function isRedSuitChar(ch){ return ch==='' || ch===''; }
function uFace(i){ const r=RANKS[i%13], s=SUITS[Math.floor(i/13)]; const sc={c:'', d:'', h:'', s:''}[s]; return r+sc; }

function svgFace(rank, suit){
  const color = (suit===''||suit==='') ? 'red' : 'black';
  if(rank==='K'){
    return `<svg class="face-svg" viewBox="0 0 330 584" xmlns="http://www.w3.org/2000/svg" version="1.1"><path d="m31.663,355.636l11.866,15.432c39.269,51.067 88.877,109.14 122.952,143.932c13.98,14.275 27.493,28.272 40.786,42.25l3.566,3.75l36.167,0c22.073,0 36.037,-0.365 35.833,-0.937c-0.183,-0.516 -16.052,-16.829 -35.265,-36.25c-64.626,-65.331 -83.203,-84.357 -113.568,-116.316c-30.193,-31.778 -47.845,-52.119 -56.448,-65.049c-3.092,-4.646 -5.944,-8.407 -6.337,-8.357c-0.393,0.05 -8.428,4.213 -17.855,9.25m80.14,155.659" fill="#862410" fill-rule="evenodd" id="svg_1"/>
  <path d="m162,19.086c1.153,0.812 0.761,0.966 -1.697,0.666c-1.759,-0.215 -3.001,-0.073 -2.761,0.316c0.662,1.071 -2.103,3.021 -3.081,2.173c-0.471,-0.407 -0.022,0.609 0.996,2.259c1.848,2.993 1.848,2.996 -0.16,1.224c-1.966,-1.735 -2.01,-1.706 -1.905,1.247c0.059,1.664 0.415,3.025 0.791,3.027c0.375,0.001 0.968,0.902 1.317,2.002c0.349,1.1 1.279,2 2.067,2c0.788,0 1.433,0.337 1.433,0.75c0,1.404 6.494,0.757 8,-0.797c1.354,-1.396 1.402,-1.396 0.5,0c-0.862,1.333 -0.766,1.364 0.691,0.224c0.967,-0.757 1.429,-2.004 1.08,-2.914c-0.347,-0.904 -0.192,-1.332 0.359,-0.992c0.553,0.342 0.97,-0.848 0.97,-2.771c0,-1.923 -0.417,-3.113 -0.97,-2.771c-0.551,0.34 -0.706,-0.088 -0.359,-0.992c0.349,-0.91 -0.113,-2.157 -1.08,-2.914c-1.457,-1.14 -1.553,-1.109 -0.691,0.224c0.55,0.851 0.213,0.689 -0.75,-0.361c-0.963,-1.049 -1.75,-1.543 -1.75,-1.097c0,0.446 -0.54,0.271 -1.2,-0.389c-0.66,-0.66 -1.673,-1.193 -2.25,-1.185c-0.578,0.009 -0.375,0.491 0.45,1.071m-3.5,32.914c-0.137,0.55 -0.306,1.477 -0.375,2.059c-0.069,0.582 -0.645,0.738 -1.28,0.346c-0.634,-0.393 -0.908,-0.307 -0.607,0.19c0.3,0.498 -0.53,2.467 -1.846,4.377c-1.316,1.909 -2.392,3.092 -2.392,2.627c0,-0.464 -0.67,-0.288 -1.489,0.392c-0.819,0.68 -1.199,1.704 -0.845,2.277c0.353,0.572 0.174,0.751 -0.398,0.398c-0.573,-0.354 -1.655,0.112 -2.405,1.037c-1.172,1.445 -1.153,1.563 0.137,0.842c0.825,-0.461 -0.279,1.027 -2.453,3.308c-4.262,4.471 -6.109,5.608 -2.971,1.829c1.058,-1.275 -0.047,-0.262 -2.457,2.25c-2.409,2.513 -4.062,3.893 -3.673,3.068c0.388,-0.825 -0.228,-0.438 -1.37,0.861c-1.142,1.298 -2.09,1.973 -2.106,1.5c-0.017,-0.474 -0.495,-0.064 -1.062,0.91c-0.567,0.974 -1.453,1.51 -1.969,1.191c-0.517,-0.319 -0.939,-0.115 -0.939,0.453c0,1.383 -5.801,4.326 -7.029,3.567c-0.534,-0.33 -0.971,-0.075 -0.971,0.566c0,0.643 -0.696,0.899 -1.552,0.57c-0.973,-0.373 -1.299,-0.186 -0.875,0.501c0.458,0.74 -0.052,0.864 -1.573,0.381c-1.573,-0.499 -2.037,-0.369 -1.541,0.433c0.499,0.808 -0.129,0.964 -2.125,0.526c-2.206,-0.483 -2.502,-0.378 -1.334,0.474c1.137,0.831 0.412,0.967 -3,0.565c-3.282,-0.387 -3.959,-0.273 -2.5,0.422c1.439,0.685 -0.314,0.94 -6.242,0.908c-4.973,-0.027 -8.008,-0.423 -7.652,-1c0.364,-0.588 -0.849,-0.685 -3.152,-0.253c-2.862,0.536 -3.562,0.409 -2.973,-0.544c0.561,-0.909 0.195,-1.063 -1.356,-0.571c-1.174,0.373 -2.125,0.239 -2.125,-0.299c0,-0.536 -0.97,-0.72 -2.156,-0.41c-1.467,0.384 -1.93,0.197 -1.448,-0.582c0.459,-0.743 0.162,-0.937 -0.844,-0.551c-0.856,0.329 -1.552,0.073 -1.552,-0.57c0,-0.641 -0.45,-0.888 -1,-0.548c-0.55,0.34 -1,0.115 -1,-0.5c0,-0.615 -0.45,-0.84 -1,-0.5c-0.55,0.34 -1,0.066 -1,-0.608c0,-0.674 -0.293,-0.932 -0.651,-0.574c-0.358,0.358 -1.292,-0.13 -2.074,-1.084c-0.941,-1.146 -1.199,-1.226 -0.762,-0.234c0.363,0.825 -0.166,0.499 -1.176,-0.724c-1.353,-1.638 -2.232,-1.967 -3.337,-1.25c-1.244,0.808 -1.268,1.123 -0.143,1.849c0.85,0.548 1.105,1.669 0.683,3c-0.427,1.343 -0.243,2.125 0.5,2.125c0.646,0 0.915,0.675 0.598,1.5c-0.316,0.825 -0.131,1.5 0.412,1.5c0.569,0 0.706,1.123 0.323,2.649c-0.509,2.03 -0.36,2.461 0.639,1.844c0.977,-0.604 1.154,-0.234 0.705,1.481c-0.369,1.411 -0.011,2.875 0.935,3.821c0.999,0.998 1.335,2.52 0.965,4.369c-0.333,1.664 -0.136,2.836 0.475,2.836c0.608,0 0.762,0.886 0.368,2.125c-0.494,1.557 -0.339,1.918 0.579,1.351c0.941,-0.582 1.082,-0.095 0.567,1.959c-0.497,1.98 -0.36,2.531 0.5,2c0.859,-0.532 0.997,0.019 0.5,2c-0.497,1.98 -0.36,2.531 0.5,2c0.855,-0.529 1,0.005 0.521,1.916c-0.427,1.701 -0.259,2.649 0.471,2.649c0.643,0 0.908,0.867 0.612,2.001c-0.288,1.101 -0.115,1.75 0.383,1.441c0.499,-0.308 0.907,0.453 0.907,1.69c0,2.133 0.07,2.154 1.348,0.406c0.742,-1.014 1.867,-1.523 2.5,-1.132c0.634,0.392 1.152,0.187 1.152,-0.454c0,-0.641 0.675,-0.907 1.5,-0.59c0.825,0.316 1.5,0.153 1.5,-0.362c0,-0.515 0.749,-0.65 1.664,-0.299c1.062,0.408 1.421,0.245 0.991,-0.45c-0.827,-1.338 5.387,-3.556 7.591,-2.71c0.854,0.327 1.853,0.107 2.222,-0.489c0.369,-0.597 1.089,-0.826 1.601,-0.509c0.512,0.316 0.931,0.068 0.931,-0.551c0,-0.694 0.817,-0.868 2.125,-0.452c1.468,0.466 1.906,0.32 1.416,-0.473c-0.501,-0.812 0.09,-0.947 2.024,-0.461c1.914,0.48 2.524,0.347 2.034,-0.445c-0.492,-0.797 0.249,-0.941 2.507,-0.49c2.485,0.497 3.024,0.349 2.4,-0.661c-0.616,-0.997 -0.183,-1.146 1.845,-0.637c1.661,0.417 2.649,0.255 2.649,-0.433c0,-0.701 1.087,-0.86 3,-0.44c1.987,0.436 3,0.267 3,-0.5c0,-0.778 1.028,-0.933 3.125,-0.473c2.378,0.523 2.939,0.386 2.347,-0.572c-0.601,-0.972 0.17,-1.108 3.375,-0.595c2.724,0.435 4.153,0.291 4.153,-0.42c0,-0.727 1.769,-0.863 5.379,-0.412c2.959,0.37 5.63,0.267 5.936,-0.228c0.638,-1.033 32.643,-1.131 34.235,-0.106c0.578,0.373 5.187,0.819 10.242,0.992c5.055,0.173 9.195,0.687 9.2,1.143c0.004,0.457 1.358,0.533 3.008,0.171c1.972,-0.433 3,-0.266 3,0.488c0,0.675 0.788,0.897 1.916,0.539c1.054,-0.335 2.206,-0.138 2.561,0.436c0.355,0.574 1.743,0.769 3.084,0.432c1.55,-0.389 2.439,-0.183 2.439,0.564c0,0.721 0.774,0.93 2,0.541c1.1,-0.349 2,-0.18 2,0.375c0,0.556 0.9,0.837 2,0.625c1.1,-0.212 2,0.069 2,0.625c0,0.575 0.916,0.719 2.125,0.335c1.526,-0.484 1.914,-0.332 1.375,0.54c-0.539,0.872 -0.151,1.024 1.375,0.54c1.233,-0.392 2.125,-0.24 2.125,0.361c0,0.57 0.675,0.777 1.5,0.461c0.825,-0.317 1.5,-0.12 1.5,0.437c0,0.558 0.97,0.76 2.156,0.45c1.607,-0.42 1.95,-0.229 1.346,0.748c-0.54,0.873 -0.421,1.071 0.352,0.593c1.603,-0.99 5.324,0.313 4.535,1.589c-0.413,0.668 0.158,0.782 1.611,0.321c1.674,-0.531 2.051,-0.391 1.471,0.547c-0.509,0.823 -0.376,1.012 0.382,0.544c0.639,-0.395 1.87,-0.011 2.735,0.854c2.08,2.08 3.726,0.943 2.974,-2.054c-0.33,-1.315 -0.167,-2.391 0.362,-2.391c0.528,0 0.788,-0.9 0.576,-2c-0.212,-1.1 0.088,-2 0.666,-2c0.622,0 0.795,-1.021 0.423,-2.5c-0.367,-1.464 -0.197,-2.5 0.411,-2.5c0.608,0 0.778,-1.036 0.411,-2.5c-0.347,-1.379 -0.193,-2.5 0.342,-2.5c0.533,0 0.742,-1.192 0.463,-2.649c-0.372,-1.949 -0.175,-2.444 0.746,-1.875c0.954,0.59 1.082,0 0.538,-2.476c-0.533,-2.427 -0.407,-3.06 0.5,-2.5c0.872,0.539 1.024,0.151 0.54,-1.375c-0.427,-1.343 -0.243,-2.125 0.5,-2.125c0.646,0 0.92,-0.661 0.611,-1.468c-0.31,-0.807 -0.115,-1.745 0.433,-2.084c0.549,-0.339 0.736,-1.441 0.416,-2.448c-0.32,-1.007 -0.095,-2.132 0.5,-2.5c0.595,-0.368 0.808,-1.53 0.473,-2.584c-0.348,-1.097 -0.137,-1.916 0.495,-1.916c0.784,0 0.765,-0.63 -0.064,-2.18c-1.065,-1.99 -1.273,-2.035 -2.385,-0.516c-0.669,0.916 -1.51,1.372 -1.868,1.014c-0.358,-0.358 -0.651,-0.1 -0.651,0.574c0,0.674 -0.45,0.948 -1,0.608c-0.55,-0.34 -1,-0.115 -1,0.5c0,0.615 -0.45,0.84 -1,0.5c-0.55,-0.34 -1,-0.115 -1,0.5c0,0.615 -0.45,0.84 -1,0.5c-0.55,-0.34 -1,-0.093 -1,0.548c0,0.643 -0.696,0.899 -1.552,0.57c-0.973,-0.373 -1.299,-0.186 -0.875,0.501c0.452,0.731 -0.029,0.871 -1.448,0.421c-1.314,-0.418 -2.125,-0.242 -2.125,0.46c0,0.702 -0.811,0.878 -2.125,0.46c-1.49,-0.472 -1.909,-0.324 -1.402,0.497c0.526,0.851 -0.327,1.014 -3.125,0.596c-2.933,-0.438 -3.372,-0.341 -1.848,0.409c1.405,0.69 -0.678,0.853 -7,0.546c-4.95,-0.241 -10.238,-0.471 -11.75,-0.513c-1.512,-0.041 -2.75,-0.556 -2.75,-1.142c0,-0.587 -0.661,-0.813 -1.468,-0.504c-0.807,0.31 -1.722,0.153 -2.032,-0.349c-0.31,-0.502 -1.298,-0.631 -2.196,-0.286c-1.166,0.447 -1.403,0.255 -0.829,-0.674c0.539,-0.871 0.348,-1.148 -0.577,-0.839c-0.759,0.253 -1.983,-0.143 -2.72,-0.88c-0.736,-0.737 -1.753,-1.084 -2.259,-0.771c-0.505,0.312 -0.919,0.065 -0.919,-0.55c0,-0.615 -0.45,-0.84 -1,-0.5c-0.55,0.34 -1,0.115 -1,-0.5c0,-0.615 -0.45,-0.84 -1,-0.5c-0.55,0.34 -1,0.141 -1,-0.441c0,-0.582 -0.418,-0.947 -0.929,-0.809c-0.512,0.137 -1.67,-0.65 -2.575,-1.75c-0.904,-1.1 -1.337,-1.325 -0.96,-0.5c0.376,0.825 -0.523,0.15 -1.999,-1.5c-1.475,-1.65 -2.372,-2.325 -1.994,-1.5c0.378,0.825 -1.894,-1.333 -5.049,-4.796c-3.154,-3.463 -5.978,-6.053 -6.275,-5.756c-0.553,0.552 -3.699,-3.387 -3.712,-4.648c-0.004,-0.385 -0.66,-1.285 -1.459,-2c-1.264,-1.132 -1.271,-1.041 -0.055,0.7c1.311,1.876 1.288,1.9 -0.365,0.397c-0.969,-0.881 -1.904,-2.456 -2.078,-3.5c-0.173,-1.043 -0.818,-1.785 -1.433,-1.647c-0.614,0.137 -1.173,-0.2 -1.242,-0.75c-0.069,-0.55 -0.181,-1.541 -0.25,-2.202c-0.123,-1.179 -7.505,-2.479 -7.75,-1.365m107.863,0.259c-0.969,0.253 -1.505,0.875 -1.191,1.384c0.314,0.508 -0.104,0.924 -0.929,0.924c-1.881,0 -2.821,1.489 -3.246,5.144c-0.195,1.675 0.141,2.856 0.814,2.856c0.631,0 0.885,0.263 0.564,0.583c-0.759,0.76 2.518,4.223 3.5,3.699c0.413,-0.22 0.75,0 0.75,0.488c0,1.73 4.525,0.698 6.597,-1.504c1.156,-1.228 2.307,-2.029 2.556,-1.779c0.25,0.249 0.408,-1.381 0.352,-3.624c-0.079,-3.134 -0.619,-4.354 -2.335,-5.272c-1.228,-0.657 -1.978,-1.45 -1.667,-1.761c0.312,-0.311 -0.641,-0.335 -2.117,-0.053c-1.856,0.355 -2.465,0.16 -1.976,-0.632c0.39,-0.63 0.569,-1.093 0.399,-1.029c-0.17,0.064 -1.102,0.323 -2.071,0.576m-216.149,2.473c-0.784,0.917 -1.162,1.929 -0.84,2.25c0.321,0.322 0.172,0.585 -0.332,0.585c-0.504,0 -0.917,1.307 -0.917,2.905c0,1.597 0.414,2.648 0.92,2.335c0.506,-0.312 0.654,0.126 0.328,0.974c-0.763,1.988 1.05,3.801 3.038,3.038c1.012,-0.389 1.294,-0.19 0.819,0.578c-0.49,0.792 0.23,1.17 2.229,1.17c1.755,0 3.195,-0.634 3.552,-1.563c0.336,-0.875 1.111,-1.248 1.761,-0.846c0.723,0.446 0.892,0.281 0.448,-0.436c-0.392,-0.635 -0.251,-1.155 0.315,-1.155c0.565,0 0.74,-0.749 0.389,-1.664c-0.43,-1.119 -0.256,-1.427 0.531,-0.941c0.78,0.482 1.17,-0.151 1.17,-1.895c0,-1.44 -0.403,-2.369 -0.895,-2.065c-0.493,0.305 -1.162,-0.142 -1.489,-0.993c-0.397,-1.034 -0.183,-1.317 0.645,-0.853c0.682,0.381 0.486,-0.108 -0.435,-1.087c-2.237,-2.376 -9.31,-2.589 -11.237,-0.337m130.411,17.335c1.292,1.375 2.574,2.5 2.849,2.5c0.275,0 -0.557,-1.125 -1.849,-2.5c-1.292,-1.375 -2.574,-2.5 -2.849,-2.5c-0.275,0 0.557,1.125 1.849,2.5m65,271.5c-0.733,0 -1.04,0.293 -0.682,0.651c0.358,0.358 -0.13,1.292 -1.084,2.074c-1.157,0.95 -1.235,1.208 -0.234,0.775c1.001,-0.433 0.923,-0.175 -0.234,0.775c-0.954,0.782 -1.452,1.705 -1.107,2.05c0.345,0.346 -0.112,0.912 -1.016,1.258c-0.904,0.347 -1.643,1.096 -1.643,1.664c0,0.568 -0.787,1.678 -1.75,2.467c-1.111,0.91 -1.202,1.185 -0.25,0.75c0.825,-0.376 0.354,0.378 -1.047,1.676c-1.401,1.298 -1.851,1.964 -1,1.48c0.851,-0.485 0.077,0.528 -1.719,2.25c-1.796,1.721 -3.026,3.13 -2.734,3.13c0.292,0 -0.938,1.388 -2.734,3.085c-1.796,1.697 -2.591,2.78 -1.766,2.407c0.825,-0.373 -0.769,1.501 -3.543,4.165c-2.773,2.664 -4.123,4.22 -3,3.458c1.124,-0.762 -1.782,2.293 -6.457,6.789c-4.675,4.497 -8.387,8.608 -8.25,9.136c0.138,0.528 -0.267,0.96 -0.899,0.96c-1.421,0 -7.851,6.511 -7.851,7.95c0,0.578 -0.436,1.05 -0.969,1.05c-0.533,0 -4.653,3.712 -9.155,8.25c-4.502,4.538 -7.335,7.125 -6.296,5.75c1.66,-2.197 1.501,-2.149 -1.31,0.403c-1.759,1.597 -2.92,3.354 -2.58,3.905c0.341,0.552 0.12,0.693 -0.493,0.314c-0.643,-0.397 -1.751,0.548 -2.627,2.242c-1.427,2.759 -1.386,3.025 0.708,4.579c1.222,0.907 1.547,1.316 0.722,0.908c-0.825,-0.408 0.502,1.371 2.949,3.954c2.446,2.582 4.659,4.695 4.916,4.695c0.258,0 0.193,-0.275 -0.143,-0.611c-0.669,-0.669 5.281,-6.013 6.333,-5.688c0.884,0.273 7.508,-6.637 7.195,-7.507c-0.137,-0.381 0.313,-0.714 1,-0.739c0.688,-0.025 1.126,-0.621 0.975,-1.325c-0.151,-0.703 0.126,-1.031 0.617,-0.728c0.49,0.303 1.738,-0.443 2.774,-1.658c1.859,-2.18 1.858,-2.191 -0.116,-0.827c-1.1,0.761 1.825,-2.306 6.5,-6.814c4.675,-4.508 8.387,-8.626 8.25,-9.15c-0.138,-0.524 0.312,-0.841 1,-0.703c0.687,0.137 1.146,-0.288 1.018,-0.945c-0.127,-0.657 1.116,-2.154 2.762,-3.326c1.646,-1.173 2.694,-2.617 2.327,-3.21c-0.37,-0.599 -0.203,-0.792 0.375,-0.435c0.573,0.354 1.655,-0.112 2.405,-1.037c1.17,-1.443 1.151,-1.573 -0.137,-0.916c-0.825,0.42 0.54,-1.181 3.034,-3.558c2.494,-2.378 3.81,-3.873 2.925,-3.323c-0.886,0.55 0.449,-0.971 2.965,-3.381c2.517,-2.409 3.901,-4.051 3.076,-3.648c-0.825,0.403 -0.037,-0.471 1.75,-1.942c1.787,-1.471 3.25,-3.132 3.25,-3.691c0,-0.56 0.809,-1.765 1.797,-2.678c0.989,-0.913 1.309,-1.435 0.711,-1.16c-0.597,0.275 0.074,-0.625 1.492,-2c1.418,-1.375 2.089,-2.275 1.492,-2c-0.598,0.275 0.06,-0.562 1.461,-1.86c1.401,-1.298 1.872,-2.053 1.047,-1.677c-0.825,0.375 -0.15,-0.525 1.5,-2c1.65,-1.476 2.325,-2.369 1.5,-1.986c-0.825,0.383 -0.375,-0.282 1,-1.477c1.375,-1.195 1.825,-1.875 1,-1.511c-0.825,0.365 -0.507,-0.215 0.707,-1.289c1.215,-1.073 1.938,-2.222 1.607,-2.552c-0.33,-0.331 0.137,-0.884 1.037,-1.229c0.901,-0.346 1.387,-1.035 1.08,-1.531c-0.307,-0.496 0.078,-1.146 0.856,-1.445c1.778,-0.682 1.717,-6.045 -0.065,-5.684c-0.703,0.143 -1.537,-0.417 -1.855,-1.244c-0.317,-0.827 -0.979,-1.255 -1.472,-0.95c-0.492,0.304 -0.895,0.05 -0.895,-0.565c0,-0.615 -0.45,-0.84 -1,-0.5c-0.55,0.34 -1,0.066 -1,-0.608c0,-0.674 -0.271,-0.954 -0.603,-0.623c-0.331,0.332 -1.66,0.201 -2.952,-0.29c-1.828,-0.695 -2.232,-0.587 -1.82,0.487m-223.214,23.534c0.405,-0.825 0.029,-0.626 -0.837,0.441c-0.866,1.068 -1.574,1.54 -1.574,1.05c0,-0.49 -0.485,-0.406 -1.077,0.186c-0.77,0.77 -0.326,1.829 1.554,3.709c1.447,1.447 2.369,3.054 2.049,3.572c-0.32,0.518 0.326,1.428 1.436,2.022c1.11,0.594 1.91,1.457 1.778,1.918c-0.132,0.46 0.885,1.831 2.26,3.046c1.375,1.215 1.825,1.9 1,1.522c-0.825,-0.377 -0.15,0.521 1.5,1.997c1.65,1.475 2.325,2.392 1.5,2.037c-0.825,-0.355 -0.15,0.562 1.5,2.037c1.65,1.476 2.325,2.359 1.5,1.963c-0.825,-0.396 -0.15,0.487 1.5,1.963c1.65,1.475 2.325,2.392 1.5,2.037c-0.825,-0.355 -0.15,0.562 1.5,2.037c1.65,1.476 2.325,2.321 1.5,1.878c-0.825,-0.442 0.227,0.837 2.339,2.842c2.111,2.006 3.566,4.087 3.233,4.626c-0.332,0.538 -0.078,1.304 0.566,1.702c0.779,0.482 0.923,0.254 0.43,-0.68c-0.408,-0.773 0.162,-0.293 1.267,1.067c1.105,1.36 1.806,2.8 1.559,3.2c-0.248,0.4 0.458,1.214 1.568,1.808c1.11,0.594 1.91,1.419 1.778,1.834c-0.132,0.415 1.335,2.261 3.26,4.101c1.925,1.84 2.804,2.95 1.953,2.465c-0.851,-0.484 -0.626,-0.042 0.5,0.983c1.126,1.024 2.047,2.262 2.047,2.75c0,0.488 0.378,0.857 0.841,0.82c1.267,-0.1 3.563,3.413 2.916,4.46c-0.311,0.504 -0.159,0.68 0.338,0.391c0.498,-0.288 2.03,0.863 3.405,2.558c1.375,1.696 1.825,2.729 1,2.296c-0.825,-0.432 -0.26,0.186 1.255,1.375c1.515,1.189 2.521,2.541 2.234,3.005c-0.287,0.464 0.005,1.169 0.649,1.567c0.779,0.482 0.923,0.254 0.43,-0.68c-0.408,-0.773 0.162,-0.293 1.267,1.067c1.105,1.36 1.824,2.771 1.598,3.137c-0.226,0.365 0.372,1.278 1.328,2.028c1.574,1.233 1.609,1.197 0.367,-0.387c-0.755,-0.962 -1.168,-1.75 -0.918,-1.75c0.25,0 1.975,1.913 3.833,4.25c1.857,2.337 2.495,3.583 1.417,2.767c-1.931,-1.461 -1.932,-1.45 -0.076,0.727c1.036,1.215 2.161,2.041 2.5,1.835c0.339,-0.205 1.48,0.78 2.537,2.189c1.145,1.527 1.347,2.215 0.5,1.705c-1.213,-0.732 -1.22,-0.609 -0.049,0.835c0.755,0.931 1.88,1.717 2.5,1.747c0.621,0.031 2.244,1.493 3.608,3.25c1.365,1.757 1.794,2.745 0.955,2.195c-0.839,-0.55 -0.042,0.281 1.77,1.847c1.812,1.566 3.295,3.452 3.295,4.191c0,0.739 0.52,1.665 1.155,2.057c0.773,0.479 0.89,0.251 0.353,-0.69c-0.866,-1.518 -0.73,-1.382 4,4c1.645,1.872 2.317,3.023 1.492,2.558c-1.293,-0.73 -1.311,-0.613 -0.128,0.845c0.755,0.931 1.945,1.692 2.643,1.692c1.187,0 2.95,2.716 2.683,4.131c-0.065,0.347 0.876,1.472 2.092,2.5c2.186,1.849 2.194,1.847 0.71,-0.175c-0.825,-1.124 0.15,-0.225 2.167,1.998c2.017,2.224 3.592,4.373 3.5,4.777c-0.092,0.403 2.983,3.723 6.833,7.377c3.85,3.654 5.875,5.809 4.5,4.789c-1.73,-1.283 -1.438,-0.706 0.946,1.874c3.629,3.926 5.172,4.934 3.031,1.979c-0.698,-0.962 0.328,0.05 2.279,2.25c1.951,2.2 3.388,4.261 3.192,4.58c-0.196,0.319 7.052,7.669 16.105,16.335c9.053,8.665 16.248,16.098 15.989,16.517c-0.722,1.168 4.968,6.201 6.027,5.332c0.513,-0.421 0.584,-0.342 0.158,0.175c-0.424,0.517 1.132,2.879 3.459,5.25l4.23,4.311l8.792,0c4.836,0 8.792,-0.388 8.792,-0.861c0,-0.474 -1.237,-0.715 -2.75,-0.536c-1.512,0.179 -1.963,0.083 -1,-0.212c0.963,-0.296 1.75,-0.981 1.75,-1.523c0,-0.542 -0.385,-0.748 -0.855,-0.458c-0.47,0.291 -1.932,-0.682 -3.25,-2.161c-1.887,-2.118 -1.971,-2.398 -0.395,-1.317c1.1,0.754 -2.837,-3.363 -8.75,-9.149c-5.912,-5.785 -10.75,-10.926 -10.75,-11.424c0,-1.589 -15.573,-16.452 -16.386,-15.64c-0.429,0.43 -0.631,0.126 -0.447,-0.674c0.183,-0.8 -0.342,-1.475 -1.167,-1.5c-0.825,-0.025 -1.507,-0.495 -1.515,-1.045c-0.029,-1.859 -1.616,-3.537 -2.709,-2.862c-0.624,0.386 -0.799,0.209 -0.412,-0.418c0.374,-0.605 -1.337,-2.769 -3.845,-4.866c-2.486,-2.078 -4.519,-4.384 -4.519,-5.125c0,-0.741 -0.453,-1.067 -1.007,-0.725c-0.554,0.343 -1.274,-0.193 -1.601,-1.191c-0.326,-0.997 -2.911,-3.999 -5.743,-6.67c-2.832,-2.671 -4.474,-4.511 -3.649,-4.088c0.825,0.422 0.409,-0.43 -0.924,-1.894c-2.549,-2.798 -3.93,-3.567 -2.448,-1.364c0.479,0.714 -0.138,0.151 -1.373,-1.25c-1.235,-1.401 -2.247,-3.021 -2.25,-3.601c-0.006,-1.247 -6.439,-7.672 -7.071,-7.062c-0.239,0.231 -1.313,-0.773 -2.387,-2.232c-1.938,-2.631 -1.938,-2.641 0,-1.234c2.309,1.676 -2.486,-3.634 -11.547,-12.789c-3.575,-3.612 -5.575,-5.906 -4.445,-5.098c1.131,0.808 0.681,0.137 -1,-1.49c-1.68,-1.628 -3.075,-3.428 -3.1,-4c-0.025,-0.573 -0.621,-0.917 -1.325,-0.766c-0.703,0.151 -1.013,-0.156 -0.688,-0.682c0.325,-0.526 -0.416,-1.662 -1.648,-2.525c-1.231,-0.862 -1.801,-1.585 -1.267,-1.606c0.535,-0.022 -1.277,-2.089 -4.027,-4.595c-2.75,-2.506 -4.325,-4.256 -3.5,-3.889c0.825,0.367 -0.3,-1.006 -2.5,-3.051c-2.2,-2.045 -3.1,-3.146 -2,-2.446c1.1,0.7 -0.025,-0.642 -2.5,-2.981c-2.475,-2.339 -3.804,-3.859 -2.953,-3.377c0.99,0.561 0.9,0.279 -0.25,-0.783c-0.988,-0.913 -1.797,-2.118 -1.797,-2.678c0,-0.559 -1.237,-1.99 -2.75,-3.18c-1.513,-1.19 -2.75,-2.503 -2.75,-2.918c0,-0.415 -1.963,-2.585 -4.363,-4.822c-2.399,-2.238 -4.078,-4.528 -3.731,-5.089c0.347,-0.562 -1.74,-3.395 -4.638,-6.296c-2.897,-2.901 -4.593,-4.92 -3.768,-4.485c0.825,0.434 0.237,-0.372 -1.306,-1.791c-1.543,-1.42 -2.443,-2.597 -2,-2.617c0.443,-0.02 -0.544,-1.194 -2.194,-2.61c-1.65,-1.415 -2.325,-2.261 -1.5,-1.88c0.825,0.382 -0.075,-0.731 -2,-2.474c-1.925,-1.743 -2.825,-2.846 -2,-2.452c0.825,0.393 -0.075,-0.743 -2,-2.527c-1.925,-1.783 -2.804,-2.855 -1.953,-2.382c0.851,0.474 0.401,-0.201 -1,-1.499c-1.401,-1.298 -1.903,-2.008 -1.116,-1.579c0.788,0.43 0.202,-0.832 -1.302,-2.803c-1.504,-1.971 -3.414,-3.845 -4.245,-4.164c-0.831,-0.319 -1.25,-1.002 -0.931,-1.519c0.319,-0.516 -0.324,-1.572 -1.43,-2.346c-1.106,-0.775 -1.713,-1.706 -1.35,-2.069c0.363,-0.363 0.339,-0.66 -0.054,-0.66c-0.393,0 -1.892,1.238 -3.33,2.75m101.521,136.25c0.275,0 -0.315,-0.9 -1.31,-2c-0.995,-1.1 -2.035,-2 -2.31,-2c-0.275,0 0.315,0.9 1.31,2m21.5,23.5c1.292,1.375 2.574,2.5 2.849,2.5c0.275,0 -0.557,-1.125 -1.849,-2.5c-1.292,-1.375 -2.574,-2.5 -2.849,-2.5c-0.275,0 0.557,1.125 1.849,2.5m29.5,13.5c0.995,1.1 2.035,2 2.31,2c0.275,0 -0.315,-0.9 -1.31,-2c-0.995,-1.1 -2.035,-2 -2.31,-2c-0.275,0 0.315,0.9 1.31,2m2,19c0.995,1.1 2.035,2 2.31,2c0.275,0 -0.315,-0.9 -1.31,-2c-0.995,-1.1 -2.035,-2 -2.31,-2c-0.275,0 0.315,0.9 1.31,2" fill="#caa251" fill-rule="evenodd" id="svg_2"/>
  <path d="m153.429,7.831c-8.193,3.846 -13.463,14.092 -11.926,23.19c0.379,2.243 2.174,6.023 3.989,8.401l3.3,4.323l-4.006,5.378c-9.848,13.216 -20.935,22.1 -32.303,25.883c-5.358,1.783 -8.318,2.117 -16.266,1.837c-8.484,-0.3 -10.587,-0.755 -16.575,-3.591c-5.592,-2.648 -6.725,-3.571 -6.141,-5c3.101,-7.586 2.891,-12.961 -0.763,-19.488c-6.74,-12.043 -24.48,-13.005 -32.62,-1.768c-5.917,8.168 -5.013,18.474 2.237,25.487c2.284,2.209 4.914,4.467 5.845,5.017c1.233,0.728 3.863,10.09 9.683,34.47l7.99,33.47l-2.029,6.03c-1.117,3.317 -6.29,14.355 -11.498,24.53c-13.707,26.783 -14.264,33.044 -4.812,54.077c7.011,15.598 7.757,21.741 3.324,27.376c-2.187,2.781 -5.263,3.231 -9.353,1.367c-2.212,-1.008 -2.88,-0.89 -4.579,0.81c-2.704,2.704 -3.458,8.397 -1.866,14.085c1.659,5.924 7.859,12.353 13.556,14.055c8.167,2.44 19.402,1.078 22.889,-2.776c2.617,-2.891 3.096,-2.498 2.65,2.175c-0.538,5.647 1.467,14.259 4.752,20.406l2.711,5.076l-5.059,3.359c-4.63,3.073 -30.445,17.118 -56.559,30.771c-5.775,3.019 -11.062,6.189 -11.75,7.045c-0.983,1.223 -1.25,24.57 -1.25,109.143c0,95.755 0.171,107.83 1.557,109.808l1.556,2.223l152.444,0c151.11,0 152.46,-0.017 154.443,-2c1.975,-1.975 2,-3.324 1.986,-108.75c-0.007,-58.712 -0.281,-107.747 -0.607,-108.966c-0.783,-2.918 -20.878,-14.761 -44.221,-26.06c-9.712,-4.7 -20.424,-10.285 -23.804,-12.409l-6.146,-3.863l3.477,-6.776c2.856,-5.566 3.578,-8.248 4.041,-15.014l0.565,-8.237l2.194,2.061c4.779,4.49 17.841,5.487 25.2,1.924c10.407,-5.037 15.874,-19.661 9.933,-26.568c-2.156,-2.507 -2.637,-2.655 -5.048,-1.556c-6.68,3.044 -10.677,0.197 -11.308,-8.051c-0.434,-5.669 0.851,-10.013 7.266,-24.556c2.826,-6.406 3.793,-10.098 4.201,-16.049c0.723,-10.551 -1.127,-16.431 -10.738,-34.134c-4.331,-7.977 -9.061,-18.106 -10.512,-22.509l-2.637,-8.004l7.18,-33.492c3.95,-18.42 7.248,-33.51 7.329,-33.533c0.082,-0.022 2.006,-1.23 4.276,-2.682c13.115,-8.394 12.048,-27.8 -1.92,-34.926c-6.132,-3.128 -15.325,-2.317 -20.42,1.801c-5.588,4.517 -7.76,8.833 -7.719,15.341c0.02,3.14 0.746,6.847 1.689,8.623l1.655,3.115l-4.706,2.544c-6.608,3.571 -12.31,4.886 -21.106,4.868c-17.31,-0.038 -31.303,-8.36 -46.329,-27.553l-4.628,-5.91l2.305,-3.09c5.349,-7.17 5.814,-17.573 1.103,-24.692c-5.373,-8.119 -17.82,-11.963 -26.122,-8.066m2.617,12.969c-6.191,6.191 -2.662,15.2 5.954,15.2c11.49,0 12.204,-15.841 0.796,-17.657c-3.2,-0.509 -4.117,-0.175 -6.75,2.457m0.458,32.95c-5.001,7.61 -20.644,22.922 -27.596,27.012c-11.72,6.895 -26.606,10.123 -38.164,8.277c-8.161,-1.304 -13.555,-3.202 -21.485,-7.561c-5.53,-3.04 -6.259,-3.224 -6.259,-1.583c0,2.177 11.523,48.961 12.234,49.673c0.266,0.265 2.642,-0.443 5.282,-1.575c7.935,-3.401 28.26,-8.975 40.191,-11.022c41.276,-7.081 79.319,-4.449 116.258,8.042c7.955,2.69 14.512,4.8 14.571,4.689c0.058,-0.111 2.441,-10.777 5.295,-23.702c2.854,-12.925 5.468,-24.535 5.809,-25.801c0.605,-2.247 0.499,-2.229 -4.64,0.801c-17.29,10.194 -37.985,11.359 -55.269,3.11c-11.905,-5.682 -27.013,-19.367 -35.731,-32.368c-3.624,-5.405 -5.912,-4.967 -10.496,2.008m-105.346,-1.23c-4.059,3.416 -4.35,8.379 -0.703,12.025c7.282,7.283 18.162,-3.266 11.295,-10.952c-3.467,-3.88 -6.848,-4.223 -10.592,-1.073m212.765,0.403c-3.73,3.73 -3.909,8.182 -0.468,11.622c5.065,5.066 13.545,1.762 13.545,-5.278c0,-4.473 -0.876,-6.151 -4.072,-7.804c-4.065,-2.102 -5.709,-1.835 -9.005,1.46m-120.923,74.088c-17.957,1.875 -40.295,6.578 -49.489,10.42l-3.625,1.515l0.349,44.277c0.301,38.096 0.583,44.975 2.022,49.277c3.731,11.153 11.225,19.141 16.953,18.072c1.491,-0.278 6.981,-3.422 12.201,-6.986c8.633,-5.894 17.018,-9.586 21.771,-9.586c2.401,0 2.306,-1.214 -0.219,-2.791c-3.781,-2.362 -4.018,-5.229 -1.935,-23.45c2.541,-22.232 2.542,-22.178 -0.575,-23.598c-3.421,-1.559 -4.453,-1.463 -4.453,0.416c0,0.867 -1.372,2.949 -3.048,4.625c-2.702,2.702 -3.525,2.984 -7.249,2.485c-4.564,-0.612 -8.703,-4.294 -8.703,-7.743c0,-2.441 -0.479,-2.429 -4.592,0.113c-4.049,2.502 -7.408,1.327 -7.408,-2.592c0,-3.715 3.153,-6.15 11.082,-8.558c8.054,-2.447 17.749,-2.258 24.284,0.473l3.634,1.518l0,-2.867c0,-1.577 0.274,-3.582 0.609,-4.455c0.728,-1.896 -3.967,-4.112 -12.225,-5.771c-6.949,-1.395 -17.56,0.237 -24.544,3.776c-5.473,2.773 -8.558,2.841 -10.199,0.222c-1.862,-2.97 0.448,-6.737 6.359,-10.369c11.085,-6.812 25.054,-8.063 38.467,-3.446c7.465,2.569 11.191,6.03 12.066,11.207c0.367,2.173 -0.117,16.529 -1.074,31.903c-0.958,15.373 -1.416,28.278 -1.017,28.677c0.398,0.399 4.175,0.715 8.391,0.702c5.969,-0.018 8.599,-0.517 11.877,-2.25c4.879,-2.581 6.233,-2.72 8.724,-0.899c2.339,1.71 2.329,6.171 -0.019,8.766c-2.166,2.393 -1.198,3.349 4.465,4.411c4.833,0.907 11.867,4.612 19.941,10.503c3.745,2.732 8.13,5.216 9.744,5.519c6.178,1.159 13.739,-6.734 17.665,-18.442c2.12,-6.32 2.222,-8.343 2.547,-50.273l0.338,-43.689l-8.308,-2.626c-17.639,-5.576 -35.914,-8.329 -59.307,-8.934c-9.35,-0.241 -20.825,-0.04 -25.5,0.448m48.232,23.005c-5.433,1.128 -16.034,6.746 -17.342,9.19c-1.29,2.41 -0.288,5.511 2.213,6.849c1.534,0.821 3.45,0.445 8.683,-1.707c5.561,-2.286 8.173,-2.754 15.214,-2.726c7.203,0.028 9.704,0.521 16.386,3.23c8.272,3.353 11.093,3.364 12.146,0.048c1.327,-4.182 -6.116,-10.466 -15.878,-13.404c-6.047,-1.819 -16.356,-2.532 -21.422,-1.48m0.108,21.883c-4.017,1.032 -9.333,4.13 -10.632,6.196c-0.551,0.878 -0.689,2.845 -0.305,4.373c0.621,2.477 1.043,2.719 3.897,2.24c1.76,-0.296 3.987,-0.849 4.95,-1.23c1.339,-0.529 1.75,-0.186 1.75,1.46c0,6.533 10.755,9.588 15.548,4.416c1.348,-1.455 2.452,-3.528 2.452,-4.607c0,-1.479 0.43,-1.782 1.75,-1.231c5.787,2.414 7.124,2.746 8.666,2.154c1.23,-0.471 1.623,-1.564 1.398,-3.881c-0.537,-5.512 -8.463,-9.535 -20.314,-10.31c-3.3,-0.216 -7.422,-0.027 -9.16,0.42m-39.84,76.501c-11.463,3.628 -24.494,12.567 -23.207,15.92c1.018,2.654 4.848,2 13.998,-2.39c15.923,-7.641 25.899,-7.625 41.055,0.065c8.368,4.245 12.342,4.983 13.307,2.468c0.794,-2.07 -1.963,-4.994 -9.081,-9.631c-10.86,-7.075 -25.687,-9.719 -36.072,-6.432m0.299,20.121c-5.125,1.647 -6.099,2.533 -5.243,4.763c1.954,5.094 22.381,7.273 29.454,3.142c1.916,-1.119 3.632,-2.806 3.814,-3.749c0.83,-4.309 -18.59,-7.19 -28.025,-4.156m-47.467,25.228c-3.92,9.38 -2.317,21.758 3.399,26.254c3.533,2.779 3.817,1.956 1.089,-3.156c-2.032,-3.806 -2.32,-5.746 -2.32,-15.597c0,-6.187 -0.135,-11.25 -0.301,-11.25c-0.166,0 -1.006,1.687 -1.867,3.749m113.688,-2.558c0.011,0.72 0.469,4.417 1.018,8.215c1.086,7.515 -0.405,16.172 -3.634,21.1c-2.317,3.537 -0.367,3.091 3.309,-0.756c5.331,-5.58 6.085,-12.341 2.626,-23.532c-1.564,-5.06 -3.361,-7.781 -3.319,-5.027m-83.378,27.559c-1.069,6.464 -0.699,17.178 0.709,20.548c1.496,3.581 7.907,9.702 10.162,9.702c0.987,0 0.218,-1.896 -2.435,-6.001c-4.333,-6.703 -6.026,-12.497 -6.355,-21.747c-0.251,-7.03 -1.153,-8.115 -2.081,-2.502m52.44,8.38c-0.073,7.7 -0.441,9.342 -3.414,15.25c-2.118,4.208 -2.875,6.62 -2.077,6.62c2.074,0 7.063,-4.75 8.414,-8.011c1.56,-3.768 0.852,-14.091 -1.302,-18.989l-1.54,-3.5l-0.081,8.63m-100.122,-2.299c-1.675,1.356 -2.099,2.459 -1.635,4.25c1.459,5.633 23.274,31.206 58.591,68.685l16.269,17.265l4.658,-3.912c2.561,-2.152 14.12,-13.522 25.686,-25.266c26.756,-27.169 37.368,-39.809 43.404,-51.7c2.712,-5.342 2.029,-6.45 -1.437,-2.331c-3.869,4.598 -11.76,10.054 -18.895,13.064c-5.085,2.146 -7.861,4.288 -13.963,10.774c-6.395,6.797 -9.16,8.878 -17.236,12.968l-9.62,4.872l-10.141,0c-9.881,0 -10.361,-0.108 -18.719,-4.197c-6.796,-3.324 -9.965,-5.666 -15.25,-11.268c-3.67,-3.89 -6.672,-7.49 -6.672,-7.999c0,-0.51 -3.248,-2.634 -7.219,-4.72c-7.687,-4.04 -18.36,-13.28 -21.837,-18.907c-2.431,-3.933 -2.917,-4.061 -5.984,-1.578m159.518,14.919c-9.644,17.571 -21.566,31.671 -52.851,62.509l-23.089,22.759l6.276,6.241l6.277,6.241l15.704,-16.079c18.133,-18.565 32.367,-34.45 44.409,-49.559c8.929,-11.203 22.445,-30.607 21.722,-31.184c-0.956,-0.762 -13.788,-7.678 -14.247,-7.678c-0.272,0 -2.163,3.038 -4.201,6.75m-183.478,-1.551c-4.125,2.221 -13.8,7.428 -21.5,11.57c-15.017,8.077 -19.5,10.882 -19.5,12.199c0,1.628 35.077,47.89 52.341,69.032c33.807,41.4 64.665,75.743 103.106,114.75l15.029,15.25l45.345,0c27.784,0 45.217,-0.363 45.012,-0.937c-0.183,-0.516 -16.052,-16.829 -35.265,-36.25c-64.626,-65.331 -83.203,-84.357 -113.568,-116.316c-30.193,-31.778 -47.845,-52.119 -56.448,-65.049c-3.092,-4.646 -5.944,-8.412 -6.337,-8.368c-0.393,0.044 -4.09,1.898 -8.215,4.119" fill="#110d07" fill-rule="evenodd" id="svg_3"/></svg>`;
  } else if(rank==='Q'){
    return `<svg class="face-svg" viewBox="0 0 345 575" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <path id="svg_1" fill-rule="evenodd" fill="#c49c4a" d="m169.5,24c-0.34,0.55 -0.28,1 0.132,1c0.413,0 -0.123,0.708 -1.191,1.574c-1.067,0.866 -1.266,1.23 -0.441,0.808c1.314,-0.671 1.323,-0.525 0.073,1.176c-0.785,1.068 -2.585,3.004 -4,4.302c-1.415,1.298 -1.898,2.052 -1.073,1.676c0.825,-0.377 0.605,0.04 -0.489,0.925c-1.093,0.884 -1.993,2.38 -2,3.324c-0.006,0.943 -0.573,1.602 -1.261,1.465c-0.687,-0.138 -1.137,0.168 -1,0.679c0.138,0.512 -0.65,1.67 -1.75,2.575c-1.1,0.904 -1.325,1.347 -0.5,0.983c0.825,-0.363 0.375,0.318 -1,1.513c-1.375,1.195 -1.849,1.828 -1.053,1.406c0.848,-0.45 0.55,0.445 -0.722,2.163c-3.517,4.752 -6.45,8.046 -5.728,6.431c0.369,-0.825 -0.604,-0.079 -2.163,1.658c-2.881,3.21 -10.245,7.625 -8.79,5.27c0.511,-0.827 0.353,-0.983 -0.476,-0.47c-1.46,0.903 -10.828,1.115 -11.678,0.265c-0.322,-0.322 -1.29,-0.315 -2.152,0.016c-1.026,0.394 -1.319,0.202 -0.85,-0.558c0.468,-0.756 0.178,-0.952 -0.836,-0.563c-0.856,0.329 -1.552,0.073 -1.552,-0.57c0,-0.641 -0.518,-0.846 -1.152,-0.454c-0.633,0.391 -1.717,-0.062 -2.409,-1.008c-0.691,-0.945 -1.635,-1.761 -2.098,-1.812c-2.59,-0.284 -4.252,-1.11 -3.778,-1.876c0.298,-0.481 -0.099,-0.629 -0.882,-0.329c-0.783,0.3 -2.044,-0.042 -2.802,-0.761c-0.758,-0.72 -1.941,-1.353 -2.629,-1.408c-2.945,-0.236 -3.33,-0.461 -2.655,-1.555c0.465,-0.751 0.272,-0.881 -0.552,-0.371c-0.723,0.447 -1.601,0.24 -2.047,-0.481c-0.569,-0.92 -1.109,-0.651 -1.988,0.993c-0.961,1.795 -0.951,2.097 0.048,1.479c0.952,-0.588 1.101,-0.001 0.615,2.429c-0.451,2.258 -0.307,2.999 0.49,2.507c0.792,-0.49 0.925,0.12 0.445,2.034c-0.497,1.98 -0.36,2.531 0.5,2c0.852,-0.527 1.003,-0.005 0.536,1.855c-0.363,1.445 -0.188,2.872 0.395,3.233c0.574,0.355 0.753,1.564 0.397,2.686c-0.471,1.483 -0.305,1.83 0.605,1.267c0.941,-0.582 1.082,-0.095 0.567,1.959c-0.497,1.979 -0.359,2.531 0.499,2c0.84,-0.519 1.036,0.045 0.674,1.94c-0.281,1.47 -0.163,2.887 0.261,3.15c0.425,0.262 0.537,1.377 0.249,2.476c-0.305,1.167 -0.03,1.999 0.662,1.999c0.729,0 0.94,0.769 0.549,2c-0.391,1.231 -0.18,2 0.549,2c0.658,0 0.97,0.819 0.702,1.843c-0.296,1.131 0.28,2.319 1.488,3.074c1.084,0.677 1.692,0.78 1.351,0.229c-0.73,-1.182 2.935,-2.557 4.401,-1.652c0.555,0.343 1.009,0.099 1.009,-0.542c0,-0.643 0.696,-0.899 1.552,-0.57c0.999,0.383 1.302,0.191 0.851,-0.539c-0.492,-0.797 0.113,-0.93 2.032,-0.449c1.993,0.501 2.532,0.362 1.992,-0.511c-0.519,-0.841 -0.097,-1.03 1.418,-0.634c1.383,0.362 1.921,0.182 1.5,-0.5c-0.421,-0.682 0.117,-0.861 1.499,-0.5c1.186,0.31 2.156,0.103 2.156,-0.459c0,-0.563 0.901,-0.788 2.001,-0.5c1.206,0.315 1.753,0.12 1.375,-0.49c-0.402,-0.651 0.458,-0.776 2.404,-0.348c1.827,0.401 3.299,0.229 3.709,-0.434c0.374,-0.605 1.598,-0.808 2.72,-0.452c1.455,0.462 1.825,0.299 1.29,-0.568c-0.569,-0.92 0.255,-1.046 3.374,-0.519c2.716,0.458 4.127,0.328 4.127,-0.382c0,-0.678 1.508,-0.889 4.064,-0.568c2.234,0.281 4.597,0.178 5.25,-0.228c0.652,-0.406 8.522,-0.793 17.487,-0.86c8.966,-0.068 15.716,0.249 15,0.703c-0.864,0.548 -0.357,0.831 1.508,0.841c1.545,0.008 2.571,-0.37 2.28,-0.841c-0.291,-0.47 0.583,-0.643 1.941,-0.383c1.359,0.26 2.47,0.875 2.47,1.367c0,0.493 1.912,0.629 4.25,0.303c3.137,-0.437 3.857,-0.316 2.75,0.464c-1.15,0.81 -0.742,0.962 1.75,0.653c1.787,-0.221 3.25,0.045 3.25,0.592c0,0.547 0.9,0.709 2,0.36c1.198,-0.38 2,-0.18 2,0.5c0,0.68 0.802,0.88 2,0.5c1.121,-0.356 2,-0.18 2,0.401c0,0.57 0.675,0.777 1.5,0.461c0.825,-0.317 1.5,-0.048 1.5,0.598c0,0.743 0.782,0.927 2.125,0.5c1.526,-0.484 1.914,-0.332 1.375,0.54c-0.531,0.859 -0.17,1.03 1.234,0.584c2.404,-0.763 5.478,0.263 4.676,1.561c-0.337,0.546 0.492,0.667 1.997,0.289c1.884,-0.473 2.745,-0.201 3.211,1.012c0.567,1.478 0.849,1.43 2.596,-0.446c1.078,-1.157 1.716,-2.741 1.417,-3.52c-0.299,-0.779 -0.156,-1.656 0.319,-1.949c0.474,-0.293 0.627,-1.433 0.339,-2.532c-0.296,-1.132 -0.03,-1.999 0.613,-1.999c0.73,0 0.898,-0.948 0.471,-2.649c-0.479,-1.911 -0.334,-2.445 0.521,-1.916c0.852,0.526 1.003,0.005 0.538,-1.851c-0.379,-1.507 -0.226,-2.584 0.366,-2.584c0.558,0 0.779,-0.9 0.492,-2c-0.306,-1.168 -0.031,-2 0.661,-2c0.729,0 0.94,-0.769 0.549,-2c-0.369,-1.162 -0.18,-2 0.452,-2c0.676,0 0.835,-1.001 0.421,-2.649c-0.479,-1.911 -0.334,-2.445 0.521,-1.916c0.86,0.531 0.997,-0.02 0.5,-2c-0.497,-1.981 -0.359,-2.532 0.5,-2c0.86,0.531 0.997,-0.02 0.5,-2c-0.485,-1.933 -0.35,-2.526 0.46,-2.025c0.659,0.407 1.146,0.095 1.146,-0.734c0,-0.794 -0.9,-1.678 -2,-1.966c-1.1,-0.287 -2,-0.129 -2,0.352c0,0.481 -0.749,0.588 -1.664,0.237c-1.044,-0.401 -1.419,-0.242 -1.006,0.426c0.742,1.2 -2.017,2.586 -3.42,1.719c-0.501,-0.309 -0.91,-0.01 -0.91,0.664c0,0.674 -0.279,0.947 -0.619,0.606c-0.341,-0.34 -1.299,0.061 -2.129,0.891c-0.83,0.831 -2.15,1.264 -2.933,0.964c-0.788,-0.303 -1.15,-0.105 -0.812,0.442c0.55,0.89 -0.772,1.421 -2.757,1.107c-0.412,-0.065 -0.75,0.359 -0.75,0.941c0,0.582 -0.45,0.781 -1,0.441c-0.55,-0.34 -1,-0.115 -1,0.5c0,0.615 -0.45,0.84 -1,0.5c-0.55,-0.34 -1,-0.156 -1,0.41c0,0.565 -0.749,0.74 -1.664,0.389c-1.183,-0.454 -1.436,-0.27 -0.875,0.638c0.592,0.957 0.225,1.098 -1.461,0.563c-1.238,-0.393 -2.014,-0.329 -1.724,0.143c0.289,0.471 -2.38,0.899 -5.932,0.951c-3.767,0.055 -5.914,-0.251 -5.151,-0.734c0.955,-0.606 0.769,-0.865 -0.693,-0.96c-4.317,-0.282 -7.735,-1.711 -6.987,-2.921c0.276,-0.446 -1.864,-2.931 -4.756,-5.522c-2.891,-2.59 -4.582,-4.378 -3.757,-3.974c0.825,0.405 0.342,-0.325 -1.073,-1.623c-1.415,-1.298 -3.215,-3.234 -4,-4.302c-1.25,-1.701 -1.241,-1.845 0.073,-1.163c0.825,0.428 0.375,-0.2 -1,-1.395c-1.375,-1.195 -1.825,-1.86 -1,-1.477c0.825,0.383 0.15,-0.51 -1.5,-1.986c-1.65,-1.475 -2.325,-2.343 -1.5,-1.929c0.825,0.414 0.003,-0.666 -1.826,-2.4c-1.97,-1.868 -3.028,-3.635 -2.596,-4.335c0.459,-0.742 0.301,-0.917 -0.423,-0.468c-0.635,0.392 -1.211,0.236 -1.28,-0.346c-0.069,-0.582 -0.191,-1.621 -0.272,-2.309c-0.082,-0.687 -0.97,-1.107 -1.976,-0.933c-1.094,0.19 -1.563,-0.111 -1.168,-0.75c0.362,-0.587 0.434,-1.067 0.159,-1.067c-0.275,0 -0.778,0.45 -1.118,1m24.5,31.5c1.292,1.375 2.574,2.5 2.849,2.5c0.275,0 -0.557,-1.125 -1.849,-2.5c-1.292,-1.375 -2.574,-2.5 -2.849,-2.5c-0.275,0 0.557,1.125 1.849,2.5m-110.552,298.118c-1.006,-0.386 -1.303,-0.192 -0.844,0.551c0.482,0.78 0.019,0.966 -1.449,0.582c-1.396,-0.365 -1.923,-0.185 -1.492,0.512c0.414,0.67 0.067,0.848 -0.916,0.47c-0.963,-0.369 -1.83,0.042 -2.218,1.052c-0.549,1.43 -0.765,1.456 -1.567,0.187c-0.63,-0.996 -0.936,-1.068 -0.947,-0.222c-0.008,0.688 0.847,2.113 1.902,3.167c1.054,1.054 1.654,2.179 1.333,2.5c-0.321,0.321 -0.032,0.583 0.642,0.583c0.674,0 0.977,0.403 0.673,0.895c-0.305,0.493 0.166,1.171 1.044,1.509c0.893,0.342 1.351,1.258 1.038,2.072c-0.308,0.803 -0.06,1.769 0.551,2.146c0.72,0.445 0.826,0.226 0.302,-0.622c-0.542,-0.877 -0.419,-1.068 0.372,-0.579c0.65,0.401 1.057,1.483 0.905,2.404c-0.153,0.921 0.272,1.567 0.943,1.435c0.671,-0.132 1.729,0.71 2.35,1.871c0.909,1.699 0.866,1.974 -0.22,1.413c-0.743,-0.383 -0.323,0.21 0.933,1.317c7.484,6.599 12.516,11.38 11.217,10.655c-0.892,-0.498 -1.162,-0.468 -0.667,0.074c0.459,0.5 1.134,0.949 1.5,0.996c2.102,0.273 4.065,1.77 3.507,2.673c-0.378,0.612 -0.169,0.753 0.501,0.339c0.649,-0.401 2.314,0.513 3.818,2.096c1.468,1.543 2.303,2.179 1.857,1.412c-0.563,-0.967 0.136,-0.834 2.282,0.434c1.701,1.005 2.869,2.189 2.596,2.632c-0.274,0.443 0.274,0.509 1.218,0.147c1.157,-0.444 1.483,-0.281 1,0.5c-0.482,0.78 -0.156,0.943 1,0.5c1.157,-0.444 1.483,-0.281 1,0.5c-0.482,0.78 -0.156,0.943 1,0.5c1.096,-0.421 1.476,-0.27 1.051,0.418c-0.431,0.697 0.096,0.877 1.492,0.512c1.468,-0.384 1.931,-0.198 1.449,0.582c-0.473,0.767 -0.14,0.928 1.008,0.488c1.256,-0.483 1.497,-0.304 0.898,0.666c-0.547,0.884 -0.433,1.085 0.344,0.605c1.603,-0.99 5.324,0.313 4.535,1.589c-0.413,0.668 0.158,0.782 1.611,0.321c1.427,-0.453 2.021,-0.343 1.624,0.3c-0.384,0.621 0.207,0.795 1.531,0.449c1.515,-0.396 1.937,-0.207 1.418,0.634c-0.54,0.873 -0.001,1.012 1.992,0.511c1.73,-0.434 2.506,-0.318 2.114,0.316c-0.379,0.613 0.396,0.807 2,0.501c1.785,-0.342 2.396,-0.142 1.92,0.629c-0.492,0.796 0.25,0.94 2.507,0.489c2.296,-0.459 3.002,-0.313 2.49,0.515c-0.845,1.367 1.285,1.517 3.313,0.233c0.775,-0.49 2.051,-0.646 2.834,-0.345c1.112,0.426 1.148,0.717 0.165,1.325c-0.692,0.428 2.533,0.618 7.167,0.422c6.063,-0.255 7.303,-0.132 4.425,0.441c-3.281,0.653 -2.472,0.804 4.5,0.838c6.07,0.031 7.785,-0.208 6,-0.836c-1.726,-0.606 -0.223,-0.769 4.855,-0.526c4.855,0.232 6.895,0.028 6,-0.602c-0.907,-0.638 0.116,-0.784 3.093,-0.442c3.176,0.365 4.034,0.221 3,-0.503c-1.037,-0.727 -0.313,-0.857 2.552,-0.46c2.974,0.412 3.615,0.283 2.5,-0.502c-1.123,-0.79 -0.621,-0.909 2,-0.473c2.656,0.443 3.138,0.324 2,-0.494c-1.18,-0.847 -0.914,-0.983 1.25,-0.637c1.512,0.242 2.75,0.004 2.75,-0.529c0,-0.532 0.675,-0.709 1.5,-0.392c0.825,0.316 1.5,0.091 1.5,-0.5c0,-0.592 0.675,-0.817 1.5,-0.5c0.825,0.316 1.5,0.187 1.5,-0.286c0,-0.474 0.698,-1.13 1.552,-1.458c0.88,-0.337 1.29,-0.172 0.948,0.382c-0.342,0.554 0.068,0.719 0.948,0.382c0.854,-0.328 1.552,-1.046 1.552,-1.596c0,-0.55 0.698,-0.732 1.552,-0.404c1.014,0.389 1.304,0.193 0.836,-0.563c-0.471,-0.762 -0.174,-0.951 0.865,-0.552c0.932,0.357 1.821,-0.018 2.165,-0.913c0.321,-0.836 1.145,-1.331 1.833,-1.099c0.687,0.231 1.699,-0.157 2.249,-0.862c0.55,-0.706 1.673,-1.42 2.496,-1.588c0.823,-0.168 1.948,-0.843 2.5,-1.5c0.552,-0.657 1.607,-1.332 2.343,-1.5c0.737,-0.168 2.695,-1.541 4.352,-3.051c1.657,-1.511 3.385,-2.516 3.842,-2.234c0.456,0.282 1.154,-0.014 1.552,-0.658c0.484,-0.782 0.257,-0.92 -0.68,-0.415c-0.773,0.416 0.025,-0.422 1.774,-1.862c1.748,-1.44 4.144,-3.848 5.324,-5.352c1.18,-1.503 1.814,-2.058 1.41,-1.233c-0.405,0.825 0.462,0.409 1.926,-0.924c2.798,-2.549 3.567,-3.93 1.364,-2.448c-0.714,0.479 -0.151,-0.19 1.25,-1.488c1.401,-1.298 1.872,-2.051 1.047,-1.674c-0.825,0.378 -0.468,-0.224 0.794,-1.336c1.262,-1.112 2.279,-2.384 2.262,-2.826c-0.074,-1.85 1.149,-4.296 1.911,-3.824c1.022,0.631 2.246,-2.327 1.477,-3.57c-0.309,-0.501 -0.148,-0.91 0.358,-0.91c0.507,0 0.707,-1.12 0.445,-2.488c-0.262,-1.369 -0.874,-2.242 -1.361,-1.941c-0.487,0.301 -0.886,0.085 -0.886,-0.481c0,-0.565 -0.749,-0.74 -1.664,-0.389c-1.183,0.454 -1.436,0.27 -0.875,-0.638c0.592,-0.957 0.225,-1.098 -1.461,-0.563c-1.533,0.487 -2.032,0.361 -1.566,-0.393c1.092,-1.768 -1.05,-1.278 -2.562,0.585c-1.181,1.457 -1.164,1.584 0.128,0.913c0.825,-0.428 0.375,0.2 -1,1.395c-1.375,1.195 -1.825,1.872 -1,1.503c0.825,-0.369 0.132,0.604 -1.539,2.163c-1.671,1.559 -2.355,2.384 -1.52,1.834c0.836,-0.55 0.404,0.404 -0.961,2.12c-1.364,1.716 -2.757,2.964 -3.096,2.774c-0.339,-0.191 -1.464,0.647 -2.5,1.862c-1.861,2.182 -1.859,2.191 0.116,0.727c1.852,-1.373 1.899,-1.354 0.628,0.267c-0.755,0.962 -1.789,1.75 -2.298,1.75c-0.509,0 -2.085,1.238 -3.503,2.75c-1.417,1.512 -2.021,1.85 -1.341,0.75c0.679,-1.1 -0.224,-0.425 -2.007,1.5c-1.784,1.925 -2.909,2.825 -2.501,2c0.408,-0.825 -0.358,-0.19 -1.703,1.411c-1.46,1.74 -2.923,2.615 -3.634,2.176c-0.719,-0.444 -1.082,-0.211 -0.916,0.589c0.152,0.732 -0.502,1.263 -1.464,1.187c-0.989,-0.078 -1.458,0.319 -1.086,0.92c0.411,0.665 0.017,0.813 -1.063,0.398c-0.944,-0.362 -1.47,-0.26 -1.17,0.226c0.659,1.066 -2.248,2.331 -3.532,1.537c-0.501,-0.309 -0.91,-0.037 -0.91,0.604c0,0.641 -0.675,0.907 -1.5,0.59c-0.825,-0.316 -1.5,-0.113 -1.5,0.452c0,0.566 -0.45,0.75 -1,0.41c-0.55,-0.34 -1,-0.093 -1,0.548c0,0.643 -0.696,0.899 -1.552,0.57c-1.006,-0.386 -1.303,-0.192 -0.844,0.551c0.471,0.761 0.058,0.976 -1.227,0.64c-1.065,-0.279 -2.544,0.145 -3.288,0.941c-0.88,0.942 -2.372,1.243 -4.27,0.864c-2.044,-0.409 -2.707,-0.242 -2.213,0.557c0.499,0.808 -0.217,0.957 -2.451,0.51c-1.76,-0.352 -3.155,-0.213 -3.155,0.315c0,0.52 -1.912,0.736 -4.25,0.481c-3.105,-0.34 -3.711,-0.216 -2.25,0.459c1.628,0.752 1.257,0.939 -2,1.007c-2.2,0.047 -5.125,0.312 -6.5,0.591c-2.179,0.442 -2.243,0.385 -0.5,-0.443c1.464,-0.696 -0.078,-0.969 -5.75,-1.021c-4.547,-0.041 -7.75,0.343 -7.75,0.93c0,0.55 -0.477,1 -1.059,1c-0.582,0 -0.85,-0.337 -0.595,-0.75c0.254,-0.413 -1.631,-0.641 -4.191,-0.507c-3.554,0.186 -4.182,0.019 -2.655,-0.706c1.452,-0.689 0.767,-0.802 -2.5,-0.412c-3.503,0.418 -4.168,0.284 -3,-0.605c1.176,-0.895 0.771,-0.997 -1.875,-0.474c-2.327,0.46 -3.166,0.329 -2.7,-0.424c0.462,-0.748 -0.334,-0.89 -2.531,-0.451c-2.055,0.411 -2.981,0.278 -2.58,-0.37c0.387,-0.626 -0.373,-0.821 -1.993,-0.512c-1.79,0.343 -2.397,0.142 -1.918,-0.633c0.465,-0.752 0.124,-0.912 -1.015,-0.475c-1.096,0.421 -1.476,0.27 -1.051,-0.418c0.431,-0.697 -0.096,-0.877 -1.492,-0.512c-1.468,0.384 -1.931,0.198 -1.449,-0.582c0.459,-0.743 0.162,-0.937 -0.844,-0.551c-0.856,0.329 -1.552,0.073 -1.552,-0.57c0,-0.641 -0.409,-0.913 -0.91,-0.604c-1.284,0.794 -4.191,-0.471 -3.532,-1.537c0.3,-0.486 -0.226,-0.588 -1.17,-0.226c-1.157,0.444 -1.483,0.281 -1,-0.5c0.482,-0.78 0.156,-0.943 -1,-0.5c-1.157,0.444 -1.483,0.281 -1,-0.5c0.482,-0.78 0.156,-0.943 -1,-0.5c-1.256,0.483 -1.497,0.304 -0.898,-0.666c0.545,-0.88 0.433,-1.085 -0.334,-0.612c-1.384,0.856 -5.462,-1.763 -4.4,-2.826c0.409,-0.409 0.294,-0.653 -0.256,-0.542c-2.233,0.451 -3.578,-0.1 -2.905,-1.19c0.393,-0.634 0.286,-0.889 -0.238,-0.565c-1.263,0.78 -3.845,-0.87 -3.902,-2.494c-0.025,-0.707 -0.569,-1.18 -1.209,-1.05c-1.431,0.291 -11.4,-9.679 -10.742,-10.743c0.261,-0.421 -0.282,-1.38 -1.207,-2.13c-1.156,-0.937 -1.446,-0.973 -0.93,-0.113c1.447,2.409 -0.154,1.224 -1.856,-1.373c-1.171,-1.788 -1.288,-2.397 -0.365,-1.913c0.745,0.39 0.229,-0.269 -1.146,-1.464c-1.375,-1.195 -1.943,-1.886 -1.261,-1.535c0.779,0.402 1.041,0.125 0.707,-0.746c-0.594,-1.547 -3.446,-1.916 -3.446,-0.445m86.269,43.419c0.973,0.254 2.323,0.237 3,-0.037c0.677,-0.274 -0.119,-0.481 -1.769,-0.461c-1.65,0.02 -2.204,0.244 -1.231,0.498m-68.5,17.084c-0.38,1.45 -0.207,1.994 0.494,1.56c0.681,-0.421 0.842,-0.054 0.438,0.999c-0.351,0.915 -0.216,1.664 0.299,1.664c0.515,0 0.65,0.749 0.299,1.664c-0.465,1.21 -0.277,1.44 0.689,0.844c0.995,-0.616 1.186,-0.282 0.763,1.336c-0.31,1.186 -0.17,2.156 0.311,2.156c0.481,0 0.588,0.749 0.237,1.664c-0.454,1.183 -0.27,1.436 0.638,0.875c0.957,-0.592 1.098,-0.225 0.563,1.461c-0.519,1.635 -0.382,2.045 0.5,1.5c0.882,-0.545 1.019,-0.135 0.5,1.5c-0.519,1.635 -0.382,2.045 0.5,1.5c0.872,-0.539 1.024,-0.151 0.54,1.375c-0.392,1.233 -0.24,2.125 0.361,2.125c0.57,0 0.749,0.749 0.398,1.664c-0.454,1.183 -0.27,1.436 0.638,0.875c0.957,-0.592 1.098,-0.225 0.563,1.461c-0.519,1.635 -0.382,2.045 0.5,1.5c0.882,-0.545 1.019,-0.135 0.5,1.5c-0.519,1.635 -0.382,2.045 0.5,1.5c0.882,-0.545 1.019,-0.135 0.5,1.5c-0.519,1.635 -0.382,2.045 0.5,1.5c0.882,-0.545 1.019,-0.135 0.5,1.5c-0.519,1.635 -0.382,2.045 0.5,1.5c0.872,-0.539 1.024,-0.151 0.54,1.375c-0.392,1.233 -0.24,2.125 0.361,2.125c0.57,0 0.749,0.749 0.398,1.664c-0.454,1.183 -0.27,1.436 0.638,0.875c0.957,-0.592 1.098,-0.225 0.563,1.461c-0.532,1.676 -0.392,2.051 0.55,1.469c0.921,-0.569 1.112,-0.195 0.701,1.375c-0.31,1.186 -0.108,2.156 0.45,2.156c0.557,0 0.754,0.675 0.437,1.5c-0.316,0.825 -0.181,1.5 0.3,1.5c0.481,0 0.653,1.012 0.382,2.25c-0.41,1.868 -0.295,1.995 0.674,0.75c0.941,-1.209 1.047,-0.95 0.547,1.334c-0.438,1.996 -0.282,2.624 0.526,2.125c0.793,-0.49 0.939,-0.052 0.473,1.416c-0.427,1.343 -0.243,2.125 0.5,2.125c0.646,0 0.915,0.675 0.598,1.5c-0.316,0.825 -0.109,1.5 0.461,1.5c0.601,0 0.753,0.892 0.361,2.125c-0.497,1.566 -0.341,1.92 0.59,1.344c0.921,-0.569 1.112,-0.195 0.701,1.376c-0.358,1.369 -0.18,1.92 0.488,1.507c0.693,-0.428 0.825,0.256 0.388,1.999c-0.414,1.648 -0.255,2.649 0.421,2.649c0.632,0 0.821,0.838 0.452,2c-0.349,1.1 -0.197,2 0.339,2c0.536,0 0.72,0.97 0.41,2.156c-0.37,1.415 -0.188,1.924 0.531,1.48c0.725,-0.448 0.935,0.203 0.623,1.924c-0.322,1.78 -0.111,2.378 0.67,1.895c0.785,-0.486 0.931,-0.043 0.467,1.42c-0.405,1.277 -0.241,2.125 0.412,2.125c0.676,0 0.835,1.001 0.421,2.649c-0.497,1.981 -0.349,2.454 0.588,1.875c0.918,-0.567 1.073,-0.206 0.579,1.351c-0.429,1.35 -0.243,2.125 0.509,2.125c0.692,0 0.967,0.832 0.661,2c-0.287,1.1 -0.066,2 0.492,2c0.592,0 0.745,1.077 0.366,2.584c-0.465,1.856 -0.314,2.377 0.538,1.851c0.852,-0.527 1.003,-0.005 0.536,1.855c-0.363,1.445 -0.188,2.872 0.395,3.233c0.574,0.355 0.753,1.564 0.397,2.686c-0.394,1.241 -0.259,1.801 0.345,1.428c0.546,-0.338 1.204,0.492 1.462,1.844c0.259,1.352 0.085,2.221 -0.385,1.93c-0.471,-0.291 -0.856,-0.052 -0.856,0.53c0,0.582 0.499,1.059 1.108,1.059c0.693,0 0.866,0.969 0.46,2.584c-0.468,1.867 -0.316,2.378 0.548,1.844c0.876,-0.541 1.027,0.105 0.565,2.417c-0.397,1.987 -0.23,3.155 0.452,3.155c0.659,0 0.836,0.988 0.451,2.521c-1.001,3.989 0.924,6.479 5.01,6.479c2.553,0 3.317,-0.344 2.773,-1.25c-0.47,-0.782 -0.023,-0.7 1.191,0.217c1.068,0.807 1.608,1.073 1.201,0.592c-0.408,-0.481 -0.183,-1.565 0.5,-2.409c1.017,-1.257 0.988,-1.381 -0.161,-0.689c-1.151,0.694 -1.284,0.101 -0.738,-3.308c0.371,-2.321 0.261,-4.153 -0.249,-4.153c-0.501,0 -0.818,-1.35 -0.704,-3c0.114,-1.65 -0.176,-3 -0.645,-3c-0.469,0 -0.574,-1.687 -0.232,-3.75c0.486,-2.945 0.373,-3.428 -0.53,-2.25c-0.901,1.175 -1.011,0.666 -0.511,-2.348c0.48,-2.893 0.336,-3.662 -0.581,-3.095c-0.908,0.561 -1.056,-0.067 -0.579,-2.451c0.416,-2.08 0.281,-2.983 -0.384,-2.572c-0.663,0.41 -0.783,-0.333 -0.339,-2.099c0.527,-2.102 0.385,-2.548 -0.616,-1.929c-1.01,0.624 -1.158,0.085 -0.661,-2.4c0.451,-2.258 0.307,-2.999 -0.49,-2.507c-0.785,0.486 -0.932,-0.092 -0.481,-1.889c0.363,-1.445 0.188,-2.872 -0.395,-3.233c-0.574,-0.355 -0.771,-1.507 -0.436,-2.561c0.355,-1.12 0.136,-1.916 -0.527,-1.916c-0.68,0 -0.88,-0.802 -0.5,-2c0.349,-1.1 0.197,-2 -0.339,-2c-0.536,0 -0.72,-0.97 -0.41,-2.156c0.419,-1.6 0.228,-1.949 -0.739,-1.351c-0.999,0.617 -1.148,0.186 -0.639,-1.844c0.414,-1.648 0.255,-2.649 -0.421,-2.649c-0.632,0 -0.821,-0.838 -0.452,-2c0.349,-1.1 0.203,-2 -0.326,-2c-0.528,0 -1.228,-0.698 -1.556,-1.552c-0.399,-1.041 -0.188,-1.322 0.643,-0.853c0.953,0.537 0.969,0.406 0.067,-0.57c-0.644,-0.698 -0.905,-1.963 -0.58,-2.811c0.419,-1.091 0.207,-1.304 -0.724,-0.729c-1.018,0.629 -1.161,0.195 -0.63,-1.92c0.501,-1.993 0.362,-2.532 -0.511,-1.992c-0.841,0.519 -1.03,0.097 -0.634,-1.417c0.31,-1.186 0.204,-2.156 -0.236,-2.156c-0.439,0 -1.067,-0.698 -1.395,-1.552c-0.399,-1.041 -0.188,-1.322 0.643,-0.853c0.953,0.537 0.969,0.406 0.067,-0.57c-0.644,-0.698 -0.905,-1.963 -0.58,-2.811c0.411,-1.072 0.203,-1.301 -0.685,-0.753c-0.957,0.592 -1.098,0.225 -0.563,-1.461c0.529,-1.667 0.389,-2.05 -0.539,-1.476c-0.941,0.582 -1.082,0.095 -0.567,-1.959c0.486,-1.934 0.351,-2.525 -0.461,-2.024c-0.802,0.496 -0.932,0.032 -0.433,-1.541c0.532,-1.676 0.392,-2.051 -0.55,-1.469c-0.921,0.569 -1.112,0.195 -0.701,-1.376c0.346,-1.324 0.172,-1.915 -0.449,-1.531c-0.635,0.392 -0.762,-0.169 -0.34,-1.499c0.427,-1.343 0.243,-2.125 -0.5,-2.125c-0.646,0 -0.915,-0.675 -0.598,-1.5c0.316,-0.825 0.091,-1.5 -0.5,-1.5c-0.592,0 -0.817,-0.675 -0.5,-1.5c0.316,-0.825 0.091,-1.5 -0.5,-1.5c-0.592,0 -0.817,-0.675 -0.5,-1.5c0.316,-0.825 0.091,-1.5 -0.5,-1.5c-0.592,0 -0.808,-0.698 -0.48,-1.552c0.373,-0.973 0.186,-1.299 -0.501,-0.875c-0.731,0.452 -0.871,-0.029 -0.421,-1.448c0.392,-1.233 0.24,-2.125 -0.361,-2.125c-0.57,0 -0.749,-0.749 -0.398,-1.664c0.454,-1.183 0.27,-1.436 -0.638,-0.875c-0.957,0.592 -1.098,0.225 -0.563,-1.461c0.461,-1.453 0.347,-2.024 -0.321,-1.611c-1.276,0.789 -2.579,-2.932 -1.589,-4.535c0.419,-0.677 0.285,-0.895 -0.319,-0.521c-0.572,0.353 -1.59,-0.688 -2.263,-2.313c-0.673,-1.624 -1.962,-3.531 -2.866,-4.237c-1.4,-1.094 -1.495,-1.055 -0.642,0.264c0.55,0.851 0.237,0.719 -0.696,-0.294c-0.933,-1.012 -1.945,-1.821 -2.25,-1.797c-2.066,0.164 -2.596,-0.079 -2.061,-0.945c0.363,-0.587 -0.086,-0.721 -1.105,-0.33c-1.256,0.483 -1.497,0.304 -0.898,-0.666c0.522,-0.843 0.431,-1.084 -0.25,-0.663c-0.588,0.363 -1.254,0.107 -1.479,-0.57c-0.226,-0.677 -0.672,-0.229 -0.992,0.995m45.927,21.54c0.278,0.449 -0.328,0.674 -1.346,0.5c-1.068,-0.183 -1.744,0.211 -1.6,0.933c0.137,0.688 -0.2,1.25 -0.75,1.25c-0.55,0 -1,0.927 -1,2.059c0,1.204 0.443,1.785 1.067,1.4c0.64,-0.396 0.94,0.08 0.75,1.191c-0.248,1.449 0.224,1.786 2.183,1.555c1.843,-0.217 2.131,-0.045 1.097,0.654c-1.046,0.707 -0.748,0.909 1.166,0.795c1.413,-0.085 2.386,-0.338 2.162,-0.562c-0.641,-0.642 1.719,-3.121 2.507,-2.634c0.389,0.24 0.506,-0.926 0.262,-2.59c-0.244,-1.665 -1.06,-3.263 -1.813,-3.552c-0.753,-0.289 -1.19,-0.816 -0.971,-1.171c0.22,-0.355 -0.64,-0.645 -1.91,-0.645c-1.27,0 -2.082,0.368 -1.804,0.817m41.354,0.683c-0.768,1.025 -0.905,1.055 -0.433,0.095c0.439,-0.891 0.286,-1.153 -0.419,-0.717c-0.611,0.377 -0.829,1.42 -0.484,2.318c0.418,1.091 0.238,1.392 -0.544,0.909c-0.709,-0.438 -1.17,-0.086 -1.17,0.895c0,0.981 0.461,1.333 1.17,0.895c0.785,-0.485 0.961,-0.179 0.535,0.931c-0.461,1.202 0.064,1.829 1.925,2.296c1.895,0.476 2.211,0.864 1.215,1.495c-0.928,0.588 -0.473,0.857 1.464,0.868c1.545,0.008 2.56,-0.388 2.256,-0.88c-0.305,-0.493 0.119,-1.153 0.941,-1.469c0.822,-0.315 1.494,-1.289 1.494,-2.164c0,-0.874 0.45,-1.312 1,-0.972c0.55,0.34 1,0.141 1,-0.441c0,-0.582 -0.47,-1.059 -1.044,-1.059c-0.574,0 -0.911,-0.788 -0.75,-1.75c0.206,-1.224 -0.262,-1.655 -1.556,-1.433c-1.018,0.174 -1.624,-0.051 -1.346,-0.5c0.925,-1.496 -4.111,-0.842 -5.254,0.683m-16.133,33.416c-0.229,0.229 -1.945,0.591 -3.813,0.804c-3.137,0.358 -3.404,0.662 -3.5,3.989c-0.057,1.981 0.152,3.443 0.464,3.25c0.312,-0.194 1.199,0.524 1.971,1.595c1.869,2.593 3.363,2.453 6.416,-0.599c2.691,-2.692 3.316,-5.86 1.39,-7.05c-0.783,-0.485 -0.882,-0.263 -0.308,0.69c0.72,1.194 0.594,1.2 -0.834,0.042c-0.925,-0.75 -1.434,-1.763 -1.133,-2.25c0.558,-0.902 0.105,-1.228 -0.653,-0.471m-5.917,44.611c-1.449,1.474 -2.257,7.25 -0.897,6.41c0.368,-0.228 0.904,0.48 1.19,1.574c0.707,2.703 4.08,2.535 6.912,-0.345c2.517,-2.56 3.79,-6.399 1.692,-5.102c-0.87,0.537 -1.042,0.255 -0.578,-0.952c0.391,-1.019 0.257,-1.468 -0.33,-1.105c-0.544,0.336 -0.989,0.022 -0.989,-0.698c0,-1.822 -5.153,-1.662 -7,0.218"/>
  <path id="svg_2" fill-rule="evenodd" fill="#7f1e0e" d="m30.059,385.149c-7.45,11.157 -7.101,6.439 -6.815,92.24l0.256,76.835l51.75,0.138c33.926,0.09 51.75,-0.206 51.75,-0.862c-0.002,-2.523 -6.539,-32.722 -10.499,-48.5c-7.768,-30.947 -17.991,-62.586 -30.21,-93.5c-7.99,-20.213 -22.059,-49.508 -23.766,-49.487c-0.564,0.007 -4.506,1.919 -8.76,4.25m223.438,-0.994c-1.066,1.777 -4.103,7.281 -6.749,12.231c-2.646,4.95 -10.276,17.55 -16.954,28c-14.549,22.765 -22.871,37.212 -32.314,56.1c-16.589,33.183 -28.209,66.537 -29.82,85.6l-0.617,7.3l26.876,-0.181c14.781,-0.099 27.627,-0.211 28.546,-0.25c1.021,-0.042 1.929,-1.25 2.338,-3.109c2.417,-11.004 11.236,-33.503 19.92,-50.819c7.004,-13.965 25.139,-45.663 40.226,-70.31c11.526,-18.829 11.582,-18.951 11.102,-24.128c-0.774,-8.353 -4.32,-16.117 -10.32,-22.597c-5.724,-6.183 -16.555,-14.142 -25.117,-18.458l-5.18,-2.611l-1.937,3.232m30.377,91.741c-14.742,25.661 -30.776,56.461 -35.969,69.094c-3.071,7.47 -6.106,17.323 -7.977,25.896l-0.545,2.5l28.705,-0.089l28.706,-0.09l0.265,-30.232c0.145,-16.628 0.145,-43.583 0,-59.901l-0.265,-29.668l-12.92,22.49"/>
  <path id="svg_3" fill-rule="evenodd" fill="#100d07" d="m162.334,14.75c-3.848,4.813 -10.915,14.249 -15.703,20.97c-4.789,6.721 -9.69,12.909 -10.892,13.75c-3.86,2.704 -8.03,1.764 -21.877,-4.93c-7.349,-3.553 -17.585,-7.864 -22.747,-9.579c-13.533,-4.499 -13.308,-5.128 -7.182,20.091c2.731,11.247 6.117,26.147 7.524,33.112c2.825,13.982 2.678,15.333 -2.353,21.73c-8.61,10.946 -11.905,20.698 -19.656,58.183c-7.184,34.737 -13.04,56.532 -25.013,93.086c-12.101,36.946 -13.412,42.599 -14.127,60.926c-0.586,15.025 0.278,23.532 3.416,33.631l1.622,5.22l-2.923,2.197c-6.588,4.953 -16.088,15.675 -18.928,21.363l-2.995,6l-0.276,87.866c-0.205,65.054 0.021,88.225 0.872,89.25c0.97,1.168 25.971,1.384 160.326,1.384c122.472,0 159.455,-0.277 160.378,-1.2c0.914,-0.914 1.2,-21.101 1.2,-84.753c0,-78.871 -0.106,-83.923 -1.886,-90.148c-1.037,-3.627 -2.773,-8.576 -3.856,-10.997c-2.44,-5.45 -9.786,-14.417 -15.053,-18.376l-3.958,-2.974l1.345,-3.812c2.44,-6.917 4.408,-19.821 4.408,-28.909c0,-16.704 -3.268,-31.675 -13.541,-62.037c-12.129,-35.848 -18.352,-59.115 -26.825,-100.294c-6.778,-32.94 -10.297,-42.859 -19.528,-55.053c-4.098,-5.414 -5.106,-7.508 -5.106,-10.612c0,-2.127 3.188,-17.387 7.084,-33.911c3.896,-16.525 6.835,-30.692 6.531,-31.484c-0.304,-0.792 -1.804,-1.435 -3.334,-1.43c-3.985,0.015 -19.809,5.784 -33.865,12.348c-12.269,5.729 -15.068,6.434 -18.423,4.638c-1.032,-0.552 -6.69,-7.64 -12.574,-15.75c-13.55,-18.676 -21.483,-28.203 -23.504,-28.227c-0.872,-0.011 -4.733,3.919 -8.581,8.731m7.379,8.555c-0.275,0.718 -5.336,8.168 -11.246,16.555c-10.893,15.461 -14.153,18.857 -20.739,21.609c-6.943,2.901 -10.941,2.089 -26.936,-5.469c-8.147,-3.85 -15.289,-7 -15.87,-7c-0.581,0 -0.812,0.788 -0.513,1.75c0.3,0.962 2.603,10.975 5.119,22.25c2.515,11.275 4.732,20.985 4.925,21.577c0.22,0.673 4.61,-0.341 11.699,-2.702c35.486,-11.815 76.577,-11.643 111.956,0.47c5.441,1.863 9.892,3.159 9.892,2.88c0,-0.69 9.924,-43.289 10.588,-45.449c0.495,-1.61 0.279,-1.62 -3.279,-0.154c-2.095,0.864 -8.984,4.046 -15.309,7.072c-13.054,6.245 -17.009,7.119 -23.746,5.248c-6.459,-1.795 -13.281,-8.866 -25.254,-26.179c-5.225,-7.555 -9.789,-13.742 -10.143,-13.75c-0.354,-0.007 -0.868,0.574 -1.144,1.292m-0.719,85.413c-7.375,13.901 -25.587,26.46 -56.994,39.305l-11.5,4.703l0.13,28.887c0.098,21.534 0.549,31.432 1.772,38.887c6.306,38.419 23.787,65.504 50.598,78.394c7.159,3.442 7.978,3.605 18,3.589c12.097,-0.02 18.092,-1.782 27.659,-8.132c17.389,-11.541 29.527,-27.973 35.718,-48.351c5.525,-18.186 6.788,-28.971 7.329,-62.59l0.5,-31.089l-6.353,-2.332c-10.037,-3.684 -28.029,-12.357 -37.492,-18.073c-10.061,-6.077 -19.713,-15.194 -23.948,-22.619l-2.967,-5.202l-2.452,4.623m-47.998,50.151c-9.933,3.18 -15.376,8.685 -12.991,13.14c1.381,2.581 1.556,2.559 9.617,-1.213c6.075,-2.843 7.862,-3.209 15.862,-3.25c10.287,-0.053 14.346,1.594 18.265,7.409c4.605,6.834 4.945,12.72 2.646,45.859c-0.638,9.206 -0.613,9.349 2.128,12.21c1.526,1.592 4.797,3.846 7.27,5.009l4.495,2.113l8.335,-2.599c8.14,-2.538 10.377,-4.253 10.377,-7.958c0,-0.849 -1.031,-2.218 -2.29,-3.044c-2.074,-1.358 -2.932,-1.292 -9.058,0.7c-6.198,2.015 -6.994,2.073 -9.46,0.682c-2.417,-1.362 -2.688,-2.075 -2.656,-6.972c0.019,-3 0.626,-10.678 1.349,-17.062c2.719,-24.024 -3.663,-40.481 -17.633,-45.466c-5.402,-1.928 -19.598,-1.689 -26.256,0.442m75.631,-0.401c-4.912,1.751 -11.04,6.658 -11.415,9.141c-0.158,1.048 0.349,2.776 1.127,3.84c1.383,1.892 1.556,1.869 7.788,-1.007c5.495,-2.537 7.544,-2.938 14.873,-2.916c7.533,0.023 9.33,0.413 15.795,3.419c6.658,3.096 7.434,3.254 8.88,1.809c3.764,-3.764 -2.481,-10.573 -12.96,-14.13c-5.863,-1.99 -18.709,-2.073 -24.088,-0.156m-72.255,20.37c-7.899,2.73 -10.548,4.805 -10.182,7.975c0.261,2.263 0.784,2.68 3.31,2.641c1.65,-0.026 3.953,-0.375 5.118,-0.776c1.719,-0.592 2.344,-0.184 3.318,2.167c2.255,5.444 10.367,6.943 14.609,2.7c1.35,-1.35 2.455,-3.375 2.455,-4.5c0,-2.559 0.478,-2.553 4.131,0.048c3.439,2.449 5.869,1.305 5.869,-2.763c0,-7.569 -16.166,-11.8 -28.628,-7.492m73.628,-0.688c-6.787,1.83 -10.329,6.65 -7.614,10.363c1.269,1.735 1.653,1.779 4.254,0.48c1.573,-0.786 3.198,-1.593 3.61,-1.794c0.412,-0.201 0.75,0.593 0.75,1.765c0,3.451 4.684,7.036 9.191,7.036c4.405,0 8.809,-3.47 8.809,-6.942c0,-2.024 0.018,-2.024 4.442,0.126c3.69,1.793 4.705,1.939 6,0.864c8.126,-6.744 -14.557,-15.911 -29.442,-11.898m-111.776,25.35c-0.63,2.75 -1.876,8.825 -2.768,13.5c-2.337,12.25 -6.634,29.029 -12.408,48.454c-8.958,30.139 -10.395,37.825 -10.476,56.046c-0.08,17.739 0.965,22.988 4.72,23.704c2.185,0.418 2.208,0.287 2.235,-12.641c0.03,-15.106 1.259,-21.442 8.642,-44.563c10.077,-31.557 14.446,-54.808 13.434,-71.5c-0.367,-6.05 -1.019,-12.575 -1.45,-14.5l-0.784,-3.5l-1.145,5m168.184,1.048c-0.433,3.274 -0.787,11.127 -0.787,17.452c0.001,17.38 3.613,35.24 13.348,66c2.698,8.525 5.587,18.875 6.419,23c2.131,10.555 2.984,24.702 1.799,29.807c-0.995,4.285 -0.986,4.306 1.656,4c4.226,-0.489 5.534,-5.735 5.563,-22.307c0.028,-16.482 -1.668,-25.759 -10.057,-55c-7.354,-25.636 -11.913,-43.98 -13.918,-56c-2.165,-12.978 -3.029,-14.472 -4.023,-6.952m-97.408,45.895c-1.375,0.817 -3.476,1.502 -4.668,1.522c-4.126,0.067 -5.332,1.122 -5.332,4.667c0,2.664 0.516,3.614 2.344,4.309c4.125,1.568 39.92,1.232 43.868,-0.413c2.287,-0.952 3.243,-4.275 1.748,-6.076c-0.663,-0.799 -2.559,-1.452 -4.214,-1.452c-1.656,0 -4.556,-0.955 -6.445,-2.123c-2.758,-1.705 -4.257,-1.981 -7.618,-1.404c-5.006,0.86 -6.782,0.871 -12.683,0.084c-3.11,-0.414 -5.272,-0.141 -7,0.886m3.119,17.913c-3.515,4.236 2.003,8.153 11.45,8.128c7.224,-0.02 11.734,-2.345 11.242,-5.797c-0.283,-1.988 -0.904,-2.191 -6.811,-2.232c-3.575,-0.024 -8.322,-0.405 -10.548,-0.845c-3.148,-0.623 -4.334,-0.457 -5.333,0.746m-36.569,34.371c-1.039,11.725 -2.611,21.417 -4.029,24.846c-1.966,4.753 -7.37,10.324 -13.211,13.621c-2.921,1.648 -5.31,3.684 -5.31,4.524c0,2.98 9.048,14.149 15.222,18.79c8.132,6.113 15.611,9.835 26.481,13.181c8.219,2.53 10.045,2.711 27.797,2.754c16.829,0.04 19.961,-0.218 27.408,-2.26c19.225,-5.273 33.137,-14.421 41.253,-27.129c3.523,-5.517 3.533,-6.418 0.089,-7.982c-1.512,-0.687 -4.907,-2.891 -7.543,-4.899c-7.798,-5.938 -10.61,-13.727 -12.247,-33.923c-0.367,-4.538 -0.845,-8.25 -1.061,-8.25c-0.216,0 -3.115,2.004 -6.442,4.453c-12.832,9.446 -23.821,13.963 -36.938,15.182c-12.707,1.181 -30.532,-4.888 -43.019,-14.645c-3.025,-2.364 -6.009,-4.69 -6.63,-5.167c-0.807,-0.62 -1.328,1.357 -1.82,6.904m-43.34,51.043c-7.236,2.964 -7.211,2.262 -0.473,13.475c25.956,43.19 94.489,58.808 145.474,33.151c17.228,-8.669 31.408,-21.745 38.167,-35.194c4.365,-8.685 4.343,-8.964 -0.892,-11.208c-2.558,-1.097 -5.002,-1.994 -5.43,-1.994c-0.428,0 -3.356,3.365 -6.507,7.479c-12.807,16.72 -29.108,26.939 -52.219,32.735c-7.484,1.877 -11.574,2.214 -26.83,2.214c-15.243,0 -19.349,-0.338 -26.807,-2.209c-23.432,-5.877 -43.151,-18.89 -54.481,-35.955c-1.922,-2.895 -3.544,-5.22 -3.604,-5.167c-0.059,0.053 -2.939,1.256 -6.398,2.673m-26.445,12.493c-12.092,6.624 -19.411,12.454 -23.706,18.886c-7.45,11.157 -7.101,6.439 -6.815,92.24l0.256,76.835l51.75,0.138c33.926,0.09 51.75,-0.206 51.75,-0.862c-0.002,-2.523 -6.539,-32.722 -10.499,-48.5c-7.768,-30.947 -17.991,-62.586 -30.21,-93.5c-7.99,-20.213 -22.059,-49.508 -23.766,-49.487c-0.564,0.007 -4.506,1.919 -8.76,4.25m223.438,-0.994c-1.066,1.777 -4.103,7.281 -6.749,12.231c-2.646,4.95 -10.276,17.55 -16.954,28c-14.549,22.765 -22.871,37.212 -32.314,56.1c-16.589,33.183 -28.209,66.537 -29.82,85.6l-0.617,7.3l26.876,-0.181c14.781,-0.099 27.627,-0.211 28.546,-0.25c1.021,-0.042 1.929,-1.25 2.338,-3.109c2.417,-11.004 11.236,-33.503 19.92,-50.819c7.004,-13.965 25.139,-45.663 40.226,-70.31c11.526,-18.829 11.582,-18.951 11.102,-24.128c-0.774,-8.353 -4.32,-16.117 -10.32,-22.597c-5.724,-6.183 -16.555,-14.142 -25.117,-18.458l-5.18,-2.611l-1.937,3.232m-176.203,45.968c0,0.248 2.229,6.788 4.954,14.534c13.591,38.636 27.094,86.774 32.041,114.229c1.239,6.875 2.407,13.063 2.597,13.75c0.223,0.808 2.302,1.25 5.877,1.25c3.764,0 5.528,-0.399 5.52,-1.25c-0.03,-3.564 -4.258,-27.998 -6.965,-40.25c-5.684,-25.728 -12.389,-49.336 -21.658,-76.25l-5.596,-16.249l-6.723,-4.47c-6.571,-4.368 -10.047,-6.2 -10.047,-5.294m44.655,24.592c-3.364,3.717 -0.72,10.183 4.152,10.156c3.252,-0.019 4.53,-0.794 6.043,-3.669c1.589,-3.019 1.456,-4.01 -0.85,-6.316c-2.499,-2.499 -7.161,-2.584 -9.345,-0.171m42.902,0.394c-2.095,2.991 -1.96,5.374 0.443,7.777c2.621,2.621 6.418,2.541 8.961,-0.189c2.577,-2.765 2.589,-5.261 0.039,-7.811c-2.718,-2.718 -7.462,-2.606 -9.443,0.223m119.023,20.787c-14.742,25.661 -30.776,56.461 -35.969,69.094c-3.071,7.47 -6.106,17.323 -7.977,25.896l-0.545,2.5l28.705,-0.089l28.706,-0.09l0.265,-30.232c0.145,-16.628 0.145,-43.583 0,-59.901l-0.265,-29.668l-12.92,22.49m-140.335,13.24c-3.466,4.331 -0.676,10.75 4.673,10.75c5.349,0 8.152,-6.817 4.253,-10.345c-2.153,-1.949 -7.497,-2.191 -8.926,-0.405m0,43c-3.466,4.331 -0.676,10.75 4.673,10.75c5.349,0 8.152,-6.817 4.253,-10.345c-2.153,-1.949 -7.497,-2.191 -8.926,-0.405"/></svg>`;
  } else if(rank==='J'){
    return `<svg class="face-svg" viewBox="0 0 327 560" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <path id="svg_1" fill-rule="evenodd" fill="#84200f" d="m194.096,381.972c-6.822,7.441 -14.26,15.553 -16.53,18.028c-2.269,2.475 -20.29,22.275 -40.047,44c-19.756,21.725 -38.643,42.414 -41.97,45.975c-3.327,3.561 -9.41,10.086 -13.518,14.5c-4.108,4.414 -11.915,12.577 -17.349,18.141c-14.607,14.957 -16.832,13.884 28.787,13.884l37.943,0l17.544,-26.133c35.269,-52.534 71.624,-113.768 99.443,-167.492c11.177,-21.584 10.748,-19.771 5.351,-22.629c-5.264,-2.788 -4.982,-2.809 -6.965,0.504m-191.285,8.267c-1.1,0.484 -4.78,1.963 -8.178,3.287c-3.399,1.323 -10.486,4.792 -15.75,7.708l-9.572,5.303l0,95.861l0,95.861l5.013,-0.178l5.014,-0.177l11.736,-12.098c9.95,-10.256 64.707,-68.695 70.477,-75.216c1.87,-2.113 1.833,-2.222 -4.287,-12.5c-19.435,-32.641 -51.482,-97.91 -52.173,-106.259c-0.119,-1.435 -0.231,-2.579 -0.248,-2.541c-0.018,0.037 -0.932,0.464 -2.032,0.949"/>
  <path id="svg_2" fill-rule="evenodd" fill="#caa455" d="m102,54.754c-12.166,0.686 -14.61,3.449 -4.184,4.731c13.512,1.661 45.176,8.028 63.184,12.705c10.725,2.786 20.4,5.195 21.5,5.354c1.1,0.159 2.225,0.395 2.5,0.525c0.275,0.13 0.95,0.323 1.5,0.43c0.55,0.107 1.675,0.488 2.5,0.848c4.907,2.138 25.5,8.462 26.182,8.04c0.45,-0.278 0.818,-0.112 0.818,0.369c0,1.042 12.953,5.803 14.75,5.422c0.688,-0.146 1.25,0.132 1.25,0.618c0,1.15 4.816,3.347 5.296,2.416c2.364,-4.582 -3.824,-15.858 -7.467,-13.606c-0.456,0.282 -0.829,0.07 -0.829,-0.471c0,-2.106 -26.656,-11.271 -49.5,-17.019c-27.815,-6.999 -60.247,-11.335 -77.5,-10.362m148.437,11.496l-2.937,3.25l3.25,-2.937c3.029,-2.738 3.71,-3.563 2.937,-3.563c-0.172,0 -1.635,1.463 -3.25,3.25m29.02,-0.344c1.487,0.581 0.801,0.924 -2.853,1.425c-2.646,0.362 -5.284,0.367 -5.862,0.01c-0.659,-0.408 -0.749,-0.161 -0.24,0.662c0.604,0.977 0.26,1.168 -1.347,0.748c-1.396,-0.365 -1.923,-0.185 -1.492,0.512c0.42,0.68 0.056,0.843 -0.987,0.443c-1.019,-0.391 -1.561,-0.169 -1.414,0.58c0.131,0.668 -0.518,1.22 -1.441,1.227c-1.716,0.013 -3.312,1.124 -3.333,2.32c-0.028,1.624 -2.786,7.101 -3.388,6.729c-0.367,-0.227 -0.652,0.791 -0.634,2.263c0.02,1.575 -0.465,2.577 -1.18,2.437c-0.702,-0.138 -0.973,0.39 -0.643,1.25c0.383,0.999 1.988,1.488 4.882,1.488c2.371,0 5.136,0.267 6.143,0.594c1.524,0.495 1.58,0.413 0.332,-0.484c-1.266,-0.911 -1.184,-1.082 0.527,-1.095c1.116,-0.008 3.003,-0.698 4.196,-1.533c1.192,-0.835 2.754,-1.398 3.472,-1.25c0.788,0.162 1.258,-0.615 1.187,-1.959c-0.065,-1.225 0.237,-2.009 0.67,-1.741c0.433,0.267 1.444,-0.171 2.248,-0.975c0.804,-0.804 1.778,-1.146 2.164,-0.759c0.387,0.386 0.612,0.252 0.501,-0.298c-0.427,-2.114 0.077,-3.592 1.024,-3.007c0.587,0.363 0.721,-0.086 0.33,-1.105c-0.421,-1.096 -0.27,-1.476 0.418,-1.051c0.697,0.431 0.877,-0.096 0.512,-1.492c-0.335,-1.282 -0.166,-1.912 0.418,-1.551c0.539,0.334 0.948,-0.384 0.907,-1.594c-0.079,-2.342 -1.814,-3.559 -5.074,-3.559c-1.963,0 -1.963,0.014 -0.043,0.765m5.467,24.844l-2.424,2.75l2.75,-2.424c1.512,-1.334 2.75,-2.571 2.75,-2.75c0,-0.785 -0.81,-0.146 -3.076,2.424m-28.655,-1.057c0.973,0.254 2.323,0.237 3,-0.037c0.677,-0.274 -0.119,-0.481 -1.769,-0.461c-1.65,0.02 -2.204,0.244 -1.231,0.498m-48.839,55.307c0.275,0 0.981,-0.9 1.57,-2c0.589,-1.1 0.845,-2 0.57,-2c-0.275,0 -0.981,0.9 -1.57,2m0.935,3.121c-0.895,1.673 -0.867,1.955 0.135,1.336c0.898,-0.555 1.084,-0.301 0.636,0.867c-0.349,0.909 -0.303,1.545 0.103,1.414c1.037,-0.335 8.282,7.838 7.574,8.546c-0.319,0.319 0.434,0.315 1.674,-0.009c1.459,-0.382 2.023,-0.214 1.598,0.474c-0.415,0.672 0.087,0.87 1.359,0.537c1.11,-0.29 2.259,-0.918 2.554,-1.395c0.295,-0.478 -0.142,-0.608 -0.97,-0.29c-1.61,0.617 -5.241,-1.443 -5.464,-3.101c-0.074,-0.55 -0.584,-1.056 -1.134,-1.125c-0.55,-0.069 -1.47,-0.181 -2.044,-0.25c-0.574,-0.069 -0.911,-0.902 -0.75,-1.853c0.168,-0.985 -0.35,-1.747 -1.206,-1.774c-0.825,-0.025 -1.438,-0.818 -1.363,-1.761c0.078,-0.972 -0.321,-1.432 -0.92,-1.062c-0.659,0.407 -0.816,0.026 -0.418,-1.011c0.909,-2.371 -0.016,-2.061 -1.364,0.457m46.471,50.547c-0.453,1.396 -0.36,1.503 0.389,0.453c0.716,-1.005 1.081,-0.148 1.344,3.154c0.199,2.494 0.024,4.325 -0.389,4.071c-0.413,-0.255 -0.75,-0.025 -0.75,0.512c0,0.536 0.563,1.202 1.25,1.48c0.688,0.277 0.778,0.54 0.201,0.583c-0.602,0.045 -0.894,1.677 -0.686,3.829c0.244,2.507 0.057,3.308 -0.562,2.415c-0.718,-1.035 -1.048,-0.867 -1.471,0.752c-0.339,1.296 -0.153,1.843 0.491,1.445c0.59,-0.364 0.819,-0.041 0.532,0.749c-0.278,0.764 -0.995,1.282 -1.594,1.151c-0.629,-0.137 -0.821,0.46 -0.455,1.414c0.431,1.124 0.252,1.416 -0.561,0.914c-0.723,-0.447 -1.086,-0.216 -0.92,0.586c0.151,0.728 -0.287,1.212 -0.975,1.074c-0.687,-0.137 -1.137,0.292 -1,0.955c0.138,0.662 -0.312,1.225 -1,1.25c-0.687,0.025 -1.25,0.495 -1.25,1.045c0,1.322 2.307,1.346 3.214,0.033c0.392,-0.568 1.292,-1.033 2,-1.033c0.707,0 1.306,-0.675 1.331,-1.5c0.025,-0.825 0.588,-1.388 1.25,-1.25c0.663,0.137 1.152,-0.088 1.087,-0.5c-0.314,-1.985 0.217,-3.307 1.107,-2.757c0.587,0.363 0.721,-0.086 0.33,-1.105c-0.444,-1.157 -0.281,-1.483 0.5,-1c0.756,0.468 0.952,0.178 0.563,-0.836c-0.328,-0.854 -0.169,-1.552 0.352,-1.552c0.559,0 0.668,-1.85 0.266,-4.5c-0.376,-2.475 -0.304,-4.5 0.159,-4.5c0.462,0 0.834,-0.787 0.826,-1.75c-0.014,-1.51 -0.161,-1.545 -1.079,-0.25c-0.83,1.172 -0.967,0.9 -0.623,-1.25c0.242,-1.512 0.004,-2.75 -0.529,-2.75c-0.532,0 -0.7,-0.698 -0.372,-1.552c0.389,-1.014 0.193,-1.304 -0.563,-0.836c-0.774,0.478 -0.947,0.163 -0.52,-0.948c0.351,-0.915 0.202,-1.664 -0.33,-1.664c-0.533,0 -0.969,0.413 -0.969,0.918m-11,33.511c-1.295,0 -1.633,0.338 -0.986,0.985m-30.05,87.762c-0.02,-0.372 -1.194,0.674 -2.61,2.324c-1.415,1.65 -2.26,2.325 -1.877,1.5c0.383,-0.825 -0.282,-0.375 -1.477,1c-1.195,1.375 -1.876,1.825 -1.513,1c0.364,-0.825 -0.072,-0.6 -0.969,0.5c-0.896,1.1 -2.285,1.866 -3.087,1.703c-0.802,-0.163 -1.724,0.397 -2.049,1.244c-0.325,0.848 -0.994,1.293 -1.487,0.988c-0.492,-0.304 -0.895,-0.028 -0.895,0.613c0,0.643 -0.696,0.899 -1.552,0.57c-0.854,-0.327 -1.306,-0.197 -1.006,0.289c0.659,1.066 -2.248,2.331 -3.532,1.537c-0.501,-0.309 -0.91,-0.037 -0.91,0.604c0,0.641 -0.675,0.907 -1.5,0.59c-0.825,-0.316 -1.5,-0.153 -1.5,0.362c0,0.515 -0.675,0.678 -1.5,0.362c-0.825,-0.317 -1.5,-0.126 -1.5,0.424c0,0.55 -0.698,1.268 -1.552,1.596c-1.004,0.385 -1.303,0.192 -0.845,-0.548c0.464,-0.751 0.259,-0.867 -0.598,-0.337c-0.718,0.443 -2.889,0.948 -4.826,1.122c-1.936,0.174 -3.838,0.829 -4.225,1.455c-0.45,0.729 -1.877,0.882 -3.954,0.426c-2.081,-0.457 -3.028,-0.354 -2.633,0.285c0.4,0.648 -3.786,0.97 -11.874,0.914c-6.871,-0.047 -12.493,-0.498 -12.493,-1.003c0,-0.508 -1.565,-0.625 -3.5,-0.262c-1.925,0.361 -3.5,0.249 -3.5,-0.25c0,-0.499 -1.192,-0.679 -2.649,-0.4c-1.996,0.381 -2.45,0.186 -1.845,-0.794c0.555,-0.897 0.412,-1.057 -0.463,-0.516c-0.738,0.456 -1.631,0.207 -2.139,-0.596c-0.602,-0.95 -0.878,-1 -0.889,-0.159c-0.008,0.67 -0.687,0.96 -1.509,0.645c-0.822,-0.316 -1.249,-0.971 -0.948,-1.457c0.3,-0.486 -0.152,-0.616 -1.006,-0.289c-0.854,0.328 -1.552,0.112 -1.552,-0.48c0,-0.592 -0.748,-0.788 -1.664,-0.437c-1.111,0.427 -1.426,0.254 -0.948,-0.52c0.468,-0.756 0.178,-0.952 -0.836,-0.563c-0.854,0.328 -1.552,0.098 -1.552,-0.511c0,-0.609 -0.337,-1.054 -0.75,-0.989c-1.993,0.315 -3.306,-0.219 -2.75,-1.118c0.34,-0.55 0.141,-1 -0.441,-1c-1.797,0 -2.33,-0.375 -6.395,-4.5c-2.169,-2.2 -3.542,-3.304 -3.053,-2.453c0.489,0.851 -0.097,0.427 -1.301,-0.942c-1.205,-1.369 -1.966,-2.852 -1.691,-3.297c0.274,-0.444 -0.004,-0.808 -0.619,-0.808c-0.615,0 -0.859,-0.419 -0.543,-0.931c0.317,-0.512 0.149,-1.194 -0.372,-1.516c-0.521,-0.322 -1.261,-0.078 -1.644,0.542c-0.383,0.621 -0.132,1.478 0.559,1.905c0.691,0.427 0.947,1.277 0.569,1.888c-0.378,0.612 -0.225,1.112 0.341,1.112c0.565,0 0.74,0.749 0.389,1.664c-0.467,1.216 -0.278,1.441 0.701,0.836c0.987,-0.61 1.167,-0.377 0.681,0.888c-0.362,0.944 -0.303,1.497 0.13,1.229c0.434,-0.268 1.362,0.43 2.063,1.552c1.046,1.676 1.037,1.906 -0.05,1.285c-0.728,-0.415 0.227,0.888 2.122,2.896c3.603,3.816 4.613,4.503 3.526,2.4c-0.355,-0.687 0.283,-0.125 1.419,1.25c1.135,1.375 2.075,2.076 2.087,1.559c0.012,-0.518 0.73,-0.068 1.596,1c0.866,1.067 1.293,1.384 0.948,0.702c-0.411,-0.814 -0.096,-1.035 0.92,-0.645c0.851,0.327 1.301,0.991 1,1.477c-0.3,0.486 0.152,0.616 1.006,0.289c0.856,-0.329 1.552,-0.073 1.552,0.57c0,0.641 0.45,0.888 1,0.548c0.55,-0.34 1,-0.156 1,0.41c0,0.565 0.675,0.768 1.5,0.452c0.826,-0.317 1.5,-0.03 1.5,0.638c0,0.668 0.674,0.955 1.5,0.638c0.825,-0.316 1.5,-0.181 1.5,0.3c0,0.481 0.97,0.621 2.156,0.311c1.514,-0.396 1.936,-0.207 1.417,0.634c-0.536,0.866 -0.025,1.018 1.843,0.549c1.421,-0.357 2.584,-0.228 2.584,0.286c0,0.515 1.35,0.737 3,0.495c1.847,-0.271 3,0.001 3,0.708c0,0.804 1.544,0.943 5.151,0.465c3.767,-0.5 4.96,-0.375 4.441,0.465c-0.491,0.794 0.562,1.149 3.408,1.149c2.265,0 3.867,-0.406 3.561,-0.901c-0.315,-0.51 2.258,-0.776 5.931,-0.612c4.12,0.184 6.264,-0.073 5.873,-0.705c-0.388,-0.629 0.502,-0.751 2.415,-0.33c1.827,0.401 3.299,0.229 3.709,-0.434c0.374,-0.605 1.541,-0.826 2.595,-0.491c1.12,0.355 1.916,0.136 1.916,-0.527c0,-0.702 0.811,-0.878 2.125,-0.46c1.526,0.484 1.914,0.332 1.375,-0.54c-0.545,-0.882 -0.135,-1.019 1.5,-0.5c1.686,0.535 2.053,0.394 1.461,-0.563c-0.558,-0.903 -0.311,-1.093 0.843,-0.651c0.898,0.345 1.902,0.189 2.233,-0.346c0.331,-0.535 1.02,-0.714 1.532,-0.397c0.512,0.316 0.931,0.113 0.931,-0.453c0,-0.565 0.749,-0.74 1.664,-0.389c1.044,0.401 1.419,0.242 1.006,-0.426c-0.786,-1.272 2.056,-2.562 3.575,-1.624c0.631,0.39 0.771,0.183 0.343,-0.508c-0.468,-0.757 0.356,-1.382 2.346,-1.78c1.686,-0.337 3.066,-1.033 3.066,-1.547c0,-0.514 0.403,-0.685 0.895,-0.381c0.493,0.305 1.178,-0.183 1.524,-1.084c0.345,-0.9 0.898,-1.367 1.229,-1.037c0.33,0.331 1.479,-0.392 2.552,-1.607c1.074,-1.214 1.636,-1.532 1.25,-0.707c-0.387,0.825 1.486,-0.975 4.162,-4c2.676,-3.025 6.202,-6.85 7.835,-8.5c3.055,-3.085 4.177,-5.997 2.67,-6.928c-0.47,-0.29 -3.389,2.129 -6.486,5.376m2.806,-1.698l-2.937,3.25l3.25,-2.937c3.029,-2.738 3.71,-3.563 2.937,-3.563c-0.172,0 -1.635,1.462 -3.25,3.25m-161.687,18.066c-0.413,-0.239 -0.75,0.069 -0.75,0.684c0,0.615 -0.375,0.886 -0.833,0.603c-0.993,-0.614 -1.215,1.839 -0.512,5.656c0.279,1.517 0.916,2.506 1.415,2.198c0.499,-0.309 0.611,0.211 0.249,1.155c-0.444,1.157 -0.281,1.483 0.5,1c0.756,-0.468 0.952,-0.178 0.563,0.836c-0.328,0.854 -0.112,1.552 0.48,1.552c0.592,0 0.788,0.748 0.437,1.664c-0.427,1.111 -0.254,1.426 0.52,0.948c0.756,-0.468 0.952,-0.178 0.563,0.836c-0.329,0.856 -0.073,1.552 0.57,1.552c0.641,0 0.888,0.45 0.548,1c-0.34,0.55 -0.115,1 0.5,1c0.615,0 0.861,0.416 0.546,0.925c-0.637,1.032 1.394,6.075 2.448,6.075c0.37,0 0.673,0.626 0.673,1.391c0,2.423 2.529,7.606 3.438,7.044c0.479,-0.296 0.576,0.233 0.214,1.177c-0.444,1.157 -0.281,1.483 0.5,1c0.756,-0.468 0.952,-0.178 0.563,0.836c-0.329,0.856 -0.073,1.552 0.57,1.552c0.641,0 0.888,0.45 0.548,1c-0.34,0.55 -0.115,1 0.5,1c0.615,0 0.84,0.45 0.5,1c-0.34,0.55 -0.156,1 0.41,1c0.565,0 0.77,0.671 0.455,1.492c-0.326,0.85 0.114,1.755 1.026,2.104c0.878,0.338 1.39,0.95 1.136,1.361c-0.684,1.106 3.097,8.086 3.929,7.254c0.391,-0.391 0.62,-0.261 0.509,0.289c-0.466,2.31 0.15,4.247 1.975,6.205c1.067,1.145 1.667,2.355 1.333,2.689c-0.333,0.333 -0.081,0.606 0.56,0.606c0.642,0 1.114,0.337 1.049,0.75c-0.314,1.985 0.217,3.307 1.107,2.757c0.566,-0.35 0.734,0.051 0.393,0.941c-0.347,0.902 -0.063,1.552 0.678,1.552c0.7,0 0.991,0.282 0.647,0.627c-0.849,0.848 2.08,6.373 3.378,6.373c0.568,0 0.755,0.45 0.415,1c-0.34,0.55 -0.115,1 0.5,1c0.615,0 0.84,0.45 0.5,1c-0.34,0.55 -0.115,1 0.5,1c0.615,0 0.862,0.414 0.55,0.919c-0.313,0.506 0.223,1.711 1.191,2.679c0.967,0.968 1.647,1.904 1.509,2.081c-0.772,0.993 -0.072,2.329 0.905,1.726c0.763,-0.472 0.88,-0.271 0.347,0.592c-0.491,0.794 -0.219,1.737 0.694,2.405c1.51,1.103 1.804,1.7 1.804,3.657c0,0.582 0.445,0.784 0.989,0.448c0.565,-0.35 0.735,0.049 0.396,0.933c-0.349,0.908 0.065,1.796 1.006,2.156c0.878,0.338 1.349,1.016 1.044,1.509c-0.304,0.492 -0.05,0.895 0.565,0.895c0.615,0 0.882,0.382 0.594,0.849c-0.289,0.466 0.377,1.816 1.48,3c1.102,1.183 1.649,2.165 1.215,2.183c-0.434,0.017 0.085,0.692 1.152,1.5c1.068,0.807 1.619,1.468 1.224,1.468c-0.925,0 1.996,5.672 3.353,6.511c0.567,0.351 0.908,0.062 0.757,-0.641c-0.151,-0.704 0.4,-1.3 1.225,-1.325c0.825,-0.025 1.5,-0.624 1.5,-1.331c0,-0.708 0.675,-1.704 1.5,-2.214c1.939,-1.198 1.949,-3.155 0.026,-4.824c-1.319,-1.145 -1.323,-1.236 -0.026,-0.676c1.001,0.433 0.923,0.175 -0.234,-0.775c-0.954,-0.782 -1.442,-1.716 -1.084,-2.074c0.358,-0.358 0.051,-0.651 -0.682,-0.651c-0.733,0 -1.04,-0.293 -0.682,-0.651c0.358,-0.358 -0.13,-1.292 -1.084,-2.074c-1.157,-0.95 -1.235,-1.208 -0.234,-0.775c1.001,0.433 0.923,0.175 -0.234,-0.775c-0.954,-0.782 -1.442,-1.716 -1.084,-2.074c0.358,-0.358 0.051,-0.651 -0.682,-0.651c-0.733,0 -1.04,-0.293 -0.682,-0.651c0.358,-0.358 -0.13,-1.292 -1.084,-2.074c-1.157,-0.95 -1.235,-1.208 -0.234,-0.775c1.001,0.433 0.923,0.175 -0.234,-0.775c-0.954,-0.782 -1.442,-1.716 -1.084,-2.074c0.358,-0.358 0.1,-0.651 -0.574,-0.651c-0.674,0 -0.948,-0.45 -0.608,-1c0.34,-0.55 0.157,-1 -0.406,-1c-0.563,0 -1.534,-0.954 -2.159,-2.121c-0.645,-1.206 -0.702,-1.853 -0.131,-1.5c0.551,0.341 -0.384,-1.967 -2.078,-5.13c-1.695,-3.162 -3.686,-6.114 -4.425,-6.56c-0.739,-0.447 -1.082,-1.234 -0.763,-1.75c0.319,-0.517 0.077,-0.939 -0.538,-0.939c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.115,-1 -0.5,-1c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.115,-1 -0.5,-1c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.066,-1 -0.608,-1c-0.674,0 -0.932,-0.293 -0.574,-0.651c0.358,-0.358 -0.13,-1.292 -1.084,-2.074c-0.953,-0.783 -1.171,-1.138 -0.484,-0.79c1.93,0.978 1.484,-0.18 -1,-2.593c-1.237,-1.202 -1.575,-1.829 -0.75,-1.392c0.825,0.437 0.478,-0.199 -0.772,-1.413c-1.25,-1.213 -2.011,-2.629 -1.691,-3.147c0.319,-0.517 0.078,-0.94 -0.537,-0.94c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.115,-1 -0.5,-1c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.115,-1 -0.5,-1c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.115,-1 -0.5,-1c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.115,-1 -0.5,-1c-0.615,0 -0.84,-0.45 -0.5,-1c0.34,-0.55 0.141,-1 -0.441,-1c-0.582,0 -0.97,-0.337 -0.861,-0.75c0.372,-1.407 -1.33,-5.25 -2.324,-5.25c-0.546,0 -0.714,-0.45 -0.374,-1c0.34,-0.55 0.19,-1 -0.334,-1c-0.524,0 -1.22,-0.698 -1.548,-1.552c-0.337,-0.88 -0.172,-1.29 0.382,-0.948c0.553,0.342 0.72,-0.067 0.384,-0.942c-0.327,-0.851 -0.949,-1.327 -1.384,-1.058c-0.435,0.269 -1.057,-0.207 -1.384,-1.058c-0.336,-0.875 -0.169,-1.284 0.384,-0.942c0.554,0.342 0.719,-0.068 0.382,-0.948c-0.328,-0.854 -0.998,-1.552 -1.489,-1.552c-0.491,0 -0.804,-0.337 -0.695,-0.75c0.372,-1.407 -1.33,-5.25 -2.324,-5.25c-0.546,0 -0.714,-0.45 -0.374,-1c0.34,-0.55 0.122,-1 -0.485,-1c-0.606,0 -1.03,-0.562 -0.94,-1.25c0.329,-2.534 -0.101,-3.852 -1.064,-3.257c-0.566,0.35 -0.734,-0.051 -0.393,-0.941c0.329,-0.856 0.073,-1.552 -0.57,-1.552c-0.641,0 -0.888,-0.45 -0.548,-1c0.34,-0.55 0.066,-1 -0.608,-1c-0.674,0 -0.947,-0.279 -0.606,-0.619c0.34,-0.341 -0.061,-1.299 -0.891,-2.129c-0.831,-0.83 -1.264,-2.15 -0.964,-2.933c0.346,-0.902 0.122,-1.161 -0.612,-0.707c-0.774,0.478 -0.947,0.163 -0.52,-0.948c0.351,-0.915 0.54,-1.632 0.42,-1.594c-0.121,0.039 -1.119,0.433 -2.219,0.875m207.236,2.653c-0.329,0.329 -0.328,1.302 0.003,2.164c0.394,1.026 0.202,1.319 -0.558,0.85c-0.78,-0.482 -0.943,-0.156 -0.5,1c0.417,1.087 0.268,1.475 -0.406,1.058c-0.586,-0.362 -1.332,0.037 -1.659,0.888c-0.362,0.943 -0.179,1.29 0.469,0.889c0.584,-0.361 0.12,1.191 -1.032,3.448c-1.151,2.258 -2.561,4.105 -3.132,4.105c-0.572,0 -0.761,0.45 -0.421,1c0.34,0.55 0.115,1 -0.5,1c-0.615,0 -0.869,0.403 -0.565,0.895c0.305,0.493 -0.156,1.168 -1.024,1.501c-0.867,0.333 -1.388,1.167 -1.156,1.855c0.231,0.687 -0.294,1.845 -1.167,2.573c-1.273,1.061 -1.29,1.195 -0.088,0.676c1.001,-0.433 0.923,-0.175 -0.234,0.775c-0.954,0.782 -1.442,1.716 -1.084,2.074c0.358,0.358 0.1,0.651 -0.574,0.651c-0.674,0 -0.948,0.45 -0.608,1c0.34,0.55 0.156,1 -0.41,1c-0.565,0 -0.77,0.671 -0.455,1.492c0.326,0.85 -0.114,1.755 -1.026,2.104c-0.878,0.338 -1.349,1.016 -1.044,1.509c0.304,0.492 0.05,0.895 -0.565,0.895c-0.615,0 -0.869,0.403 -0.565,0.895c0.305,0.493 -0.147,1.164 -1.004,1.493c-0.857,0.329 -1.278,1.051 -0.935,1.605c0.342,0.554 0.119,1.007 -0.496,1.007c-0.615,0 -0.84,0.45 -0.5,1c0.34,0.55 0.115,1 -0.5,1c-0.615,0 -0.84,0.45 -0.5,1c0.34,0.55 0.115,1 -0.5,1c-0.615,0 -0.838,0.453 -0.496,1.007c0.343,0.554 -0.052,1.266 -0.877,1.583c-0.826,0.316 -1.257,1.209 -0.96,1.984c0.297,0.775 -0.179,1.685 -1.058,2.022c-0.878,0.338 -1.349,1.016 -1.044,1.509c0.304,0.492 0.05,0.895 -0.565,0.895c-0.615,0 -0.85,0.434 -0.523,0.964c0.328,0.529 -0.236,1.795 -1.253,2.812c-1.017,1.017 -1.65,2.446 -1.407,3.176c0.264,0.791 -0.014,1.044 -0.687,0.628c-0.702,-0.434 -1.13,0.093 -1.13,1.392c0,1.15 -0.672,2.349 -1.494,2.664c-0.822,0.316 -1.246,0.976 -0.941,1.469c0.304,0.492 0.05,0.895 -0.565,0.895c-0.615,0 -0.869,0.403 -0.565,0.895c0.305,0.493 -0.147,1.164 -1.004,1.493c-0.857,0.329 -1.278,1.051 -0.935,1.605c0.342,0.554 0.248,1.007 -0.21,1.007c-0.994,0 -4.894,7.045 -4.536,8.196c0.137,0.442 -0.275,0.804 -0.917,0.804c-0.641,0 -0.873,0.293 -0.515,0.651c0.358,0.358 -0.13,1.292 -1.084,2.074c-1.157,0.95 -1.235,1.208 -0.234,0.775c1.333,-0.576 1.333,-0.501 0,0.679c-0.825,0.731 -1.645,2.002 -1.822,2.825c-0.177,0.823 -1.527,2.803 -3,4.401c-1.473,1.597 -2.003,2.571 -1.178,2.163c0.825,-0.408 0.375,0.237 -1,1.432c-1.375,1.195 -1.825,1.876 -1,1.513c0.992,-0.437 0.912,-0.179 -0.234,0.762c-0.954,0.782 -1.442,1.716 -1.084,2.074c0.358,0.358 0.051,0.651 -0.682,0.651c-0.733,0 -1.04,0.293 -0.682,0.651c0.358,0.358 -0.13,1.292 -1.084,2.074c-0.953,0.783 -1.107,1.098 -0.34,0.701c0.97,-0.502 0.818,0.27 -0.5,2.538c-1.042,1.792 -2.454,3.481 -3.138,3.752c-0.685,0.272 -0.994,0.9 -0.687,1.396c0.307,0.496 -0.143,1.171 -1,1.5c-0.857,0.329 -1.309,1 -1.004,1.493c0.304,0.492 0.05,0.895 -0.565,0.895c-0.615,0 -0.838,0.453 -0.496,1.007c0.343,0.554 -0.078,1.276 -0.935,1.605c-0.857,0.329 -1.338,0.953 -1.069,1.388c0.269,0.435 -0.212,1.059 -1.069,1.388c-0.857,0.329 -1.278,1.051 -0.935,1.605c0.342,0.554 0.119,1.007 -0.496,1.007c-0.615,0 -0.841,0.448 -0.503,0.996c0.339,0.547 -0.647,2.196 -2.191,3.663c-1.543,1.468 -2.131,2.336 -1.306,1.93c0.825,-0.405 0.626,-0.029 -0.441,0.837c-1.068,0.866 -1.544,1.574 -1.059,1.574c0.485,0 0.009,0.708 -1.059,1.574c-1.067,0.866 -1.266,1.277 -0.441,0.913c0.825,-0.363 0.375,0.268 -1,1.404c-1.375,1.135 -2.076,2.075 -1.559,2.087c0.518,0.012 0.068,0.73 -1,1.596c-1.067,0.866 -1.266,1.283 -0.441,0.926c0.825,-0.357 0.626,0.06 -0.441,0.926c-1.068,0.866 -1.544,1.574 -1.059,1.574c0.485,0 0.009,0.708 -1.059,1.574c-1.067,0.866 -1.266,1.277 -0.441,0.913c0.825,-0.363 0.375,0.318 -1,1.513c-1.375,1.195 -1.825,1.876 -1,1.513c1.333,-0.588 1.333,-0.514 0,0.666c-0.825,0.731 -1.64,2.002 -1.811,2.825c-0.171,0.823 -1.296,2.273 -2.5,3.224c-1.204,0.95 -1.765,1.738 -1.248,1.75c0.518,0.012 0.068,0.73 -1,1.596c-1.067,0.866 -1.266,1.277 -0.441,0.913c0.825,-0.363 0.423,0.217 -0.894,1.289c-1.316,1.072 -2.13,2.375 -1.809,2.896c0.322,0.52 -0.74,2.197 -2.36,3.726c-1.62,1.529 -2.69,3.193 -2.378,3.698c0.312,0.505 -0.133,1.187 -0.99,1.516c-0.857,0.329 -1.322,0.978 -1.035,1.443c0.287,0.464 -0.403,1.34 -1.534,1.945c-1.131,0.605 -1.821,1.481 -1.534,1.945c0.287,0.465 -0.178,1.114 -1.035,1.443c-0.857,0.329 -1.307,1.004 -1,1.5c0.307,0.496 -0.179,1.185 -1.08,1.531c-0.9,0.345 -1.355,0.91 -1.01,1.256c0.345,0.345 -0.153,1.268 -1.107,2.05c-1.146,0.941 -1.226,1.199 -0.234,0.762c0.825,-0.363 0.375,0.268 -1,1.404c-1.375,1.135 -2.05,2.088 -1.5,2.117c0.55,0.029 0.203,0.517 -0.771,1.084c-0.974,0.567 -1.524,1.431 -1.222,1.919c0.302,0.489 -0.376,1.384 -1.507,1.989c-1.131,0.605 -1.821,1.481 -1.534,1.945c0.287,0.465 -0.15,1.103 -0.972,1.419c-0.822,0.315 -1.494,1.514 -1.494,2.664c0,1.149 0.408,1.838 0.907,1.53c0.498,-0.309 0.671,0.34 0.383,1.441c-1.092,4.178 11.668,2.813 14.495,-1.551c1.256,-1.939 2.011,-3.97 1.676,-4.512c-0.336,-0.542 -0.034,-0.862 0.669,-0.711c0.704,0.151 1.356,-0.287 1.45,-0.975c0.093,-0.687 0.226,-1.727 0.295,-2.309c0.069,-0.582 0.528,-0.81 1.02,-0.506c0.806,0.498 2.297,-1.707 2.519,-3.721c0.047,-0.433 0.558,-1.108 1.134,-1.5c1.865,-1.27 5.412,-6.921 4.756,-7.577c-0.351,-0.35 -0.172,-0.637 0.396,-0.637c0.569,0 2.225,-1.8 3.681,-4c1.456,-2.2 2.33,-4 1.942,-4c-0.388,0 0.168,-0.661 1.236,-1.468c1.067,-0.808 1.517,-1.483 1,-1.5c-0.518,-0.018 -0.068,-0.74 1,-1.606c1.067,-0.866 1.334,-1.262 0.591,-0.879c-1.095,0.563 -1.13,0.284 -0.184,-1.483c0.64,-1.197 1.808,-2.424 2.594,-2.725c0.786,-0.302 1.197,-0.924 0.913,-1.382c-0.283,-0.459 0.282,-1.298 1.256,-1.865c0.974,-0.567 1.347,-1.045 0.83,-1.062c-0.518,-0.016 -0.068,-0.738 1,-1.604c1.067,-0.866 1.334,-1.262 0.591,-0.879c-2.063,1.061 0.425,-3.2 2.612,-4.474c0.956,-0.557 1.314,-1.026 0.797,-1.043c-0.518,-0.016 -0.068,-0.738 1,-1.604c1.067,-0.866 1.266,-1.277 0.441,-0.913c-0.825,0.363 -0.375,-0.318 1,-1.513c1.375,-1.195 1.825,-1.876 1,-1.513c-0.825,0.364 -0.626,-0.047 0.441,-0.913c1.068,-0.866 1.544,-1.574 1.059,-1.574c-0.485,0 -0.009,-0.708 1.059,-1.574c1.067,-0.866 1.266,-1.277 0.441,-0.913c-0.825,0.363 -0.375,-0.318 1,-1.513c1.375,-1.195 1.825,-1.836 1,-1.423c-0.825,0.412 -0.237,-0.45 1.306,-1.918c1.544,-1.467 2.528,-3.119 2.187,-3.67c-0.341,-0.552 0.081,-1.272 0.938,-1.601c0.857,-0.329 1.338,-0.953 1.069,-1.388c-0.269,-0.435 0.212,-1.059 1.069,-1.388c0.857,-0.329 1.24,-1.113 0.851,-1.742c-0.396,-0.64 0.347,-2.003 1.686,-3.094c1.317,-1.072 1.767,-1.619 1,-1.215c-0.967,0.51 -0.814,-0.264 0.5,-2.525c1.042,-1.792 2.454,-3.481 3.138,-3.752c0.685,-0.272 1.025,-0.849 0.756,-1.284c-0.269,-0.435 0.212,-1.059 1.069,-1.388c0.857,-0.329 1.278,-1.051 0.935,-1.605c-0.342,-0.554 -0.161,-1.007 0.402,-1.007c0.563,0 1.534,-0.954 2.159,-2.121c0.914,-1.709 0.873,-1.985 -0.215,-1.426c-0.743,0.383 -0.476,-0.013 0.591,-0.879c1.068,-0.866 1.544,-1.574 1.059,-1.574c-0.485,0 -0.009,-0.708 1.059,-1.574c1.067,-0.866 1.379,-1.289 0.691,-0.941c-2.104,1.065 -1.397,-0.441 1.5,-3.196c1.512,-1.439 2.075,-2.284 1.25,-1.878c-0.924,0.454 -0.834,0.191 0.234,-0.686c0.954,-0.782 1.452,-1.705 1.107,-2.05c-0.345,-0.346 0.11,-0.911 1.01,-1.256c0.901,-0.346 1.367,-1.066 1.037,-1.6c-0.33,-0.535 0.357,-1.865 1.528,-2.955c1.171,-1.091 1.824,-2.476 1.452,-3.078c-0.406,-0.657 -0.215,-0.81 0.477,-0.381c1.128,0.696 1.581,-0.527 1.207,-3.255c-0.102,-0.743 0.204,-1.11 0.681,-0.815c0.477,0.295 1.44,-0.382 2.141,-1.504c1.046,-1.675 1.037,-1.919 -0.05,-1.361c-0.728,0.373 -0.602,0.081 0.28,-0.65c0.883,-0.73 1.926,-2.338 2.318,-3.574c0.392,-1.235 1.159,-2.246 1.704,-2.246c0.546,0 0.714,-0.45 0.374,-1c-0.34,-0.55 -0.066,-1 0.608,-1c0.674,0 0.932,-0.293 0.574,-0.651c-0.358,-0.358 0.13,-1.292 1.084,-2.074c0.953,-0.783 1.134,-1.115 0.401,-0.739c-0.988,0.507 -0.917,-0.119 0.276,-2.426c0.885,-1.71 2.073,-3.11 2.642,-3.11c0.568,0 0.755,-0.45 0.415,-1c-0.34,-0.55 -0.141,-1 0.441,-1c0.582,0 1.006,-0.337 0.941,-0.75c-0.314,-1.985 0.217,-3.307 1.107,-2.757c0.565,0.35 0.735,-0.049 0.396,-0.933c-0.349,-0.908 0.065,-1.796 1.006,-2.156c0.878,-0.338 1.349,-1.016 1.044,-1.509c-0.304,-0.492 -0.149,-0.895 0.345,-0.895c1.075,0 3.449,-4.727 3.717,-7.399c0.105,-1.045 0.929,-2.439 1.831,-3.099c0.903,-0.66 1.348,-1.493 0.99,-1.851c-0.358,-0.358 -0.1,-0.651 0.574,-0.651c0.674,0 0.948,-0.45 0.608,-1c-0.34,-0.55 -0.115,-1 0.5,-1c0.615,0 0.862,-0.414 0.55,-0.919c-0.313,-0.506 -0.002,-1.529 0.691,-2.274c0.692,-0.745 1.408,-2.015 1.589,-2.821c0.182,-0.807 0.857,-1.802 1.5,-2.211c0.644,-0.41 0.746,-0.751 0.229,-0.76c-0.518,-0.008 -0.068,-0.723 1,-1.589c1.067,-0.866 1.345,-1.269 0.617,-0.896c-0.842,0.432 -0.561,-0.815 0.771,-3.425c1.151,-2.258 2.61,-4.105 3.24,-4.105c0.63,0 0.868,-0.279 0.527,-0.619c-0.34,-0.341 0.039,-1.277 0.843,-2.081c0.804,-0.804 1.206,-1.875 0.893,-2.381c-0.312,-0.505 -0.204,-0.919 0.241,-0.919c0.445,0 0.809,-1.087 0.809,-2.417c0,-1.329 -0.225,-2.401 -0.5,-2.381c-1.929,0.135 -3.034,-0.338 -2.565,-1.097c0.305,-0.493 -0.142,-1.162 -0.993,-1.489c-0.875,-0.336 -1.284,-0.169 -0.942,0.384c0.342,0.553 -0.067,0.72 -0.942,0.384c-0.851,-0.327 -1.323,-0.954 -1.051,-1.396c0.273,-0.441 -0.517,-0.579 -1.756,-0.308c-1.808,0.396 -1.956,0.283 -0.751,-0.578c0.825,-0.589 1.012,-1.078 0.417,-1.087c-0.596,-0.008 -1.353,0.254 -1.681,0.583m41.746,109.402"/>
  <path id="svg_3" fill-rule="evenodd" fill="#100d07" d="m131.63,9.991c-26.111,3.294 -35.51,10.161 -49.619,36.254l-5.546,10.255l-10.423,0.692c-58.068,3.856 -68.378,45.734 -17.493,71.05l8.048,4.004l1.202,7.635c2.239,14.232 1.399,20.668 -5.317,40.742c-9.101,27.2 -6.279,40.16 11.518,52.908c9.54,6.834 8.01,3.923 16.01,30.469c2.997,9.944 3.477,10.806 9.077,16.286c5.726,5.602 5.913,5.951 5.905,11l-0.008,5.214l-37.242,15.96c-20.483,8.779 -39.662,16.946 -42.621,18.15c-2.958,1.204 -5.764,2.796 -6.234,3.539c-1.736,2.739 -1.082,212.127 0.67,214.628l1.556,2.223l148.221,0c132.533,0 148.456,-0.165 150.443,-1.557l2.223,-1.556l0,-108.453c0,-107.144 -0.024,-108.474 -1.996,-110.163c-1.098,-0.94 -14.616,-7.199 -30.04,-13.909c-35.104,-15.272 -55.659,-25.18 -56.549,-27.258c-0.378,-0.882 -0.908,-9.366 -1.177,-18.854l-0.49,-17.25l6.591,0c38.312,0 60.46,-48.936 34.952,-77.225c-1.642,-1.821 1.214,-3.774 5.524,-3.776c3.525,-0.001 14.352,-6.094 18.602,-10.467c15.297,-15.74 5.094,-37.256 -25.917,-54.653l-6,-3.366l6.5,-0.778c17.953,-2.149 32.188,-16.889 39.605,-41.009c4.896,-15.922 -32.786,-11.433 -50.448,6.01c-5.811,5.74 -8.077,7.561 -6.766,5.441c3.115,-5.041 -6.68,-29.046 -15.671,-38.403c-17.786,-18.512 -58.945,-28.594 -97.09,-23.783m-35.4,44.882c-11.377,2.043 -8.468,3.2 20.27,8.066c20.61,3.49 26.493,4.8 54.5,12.141c18.61,4.878 48.173,14.442 59.903,19.379c7.15,3.009 7.254,2.983 7.391,-1.865c0.458,-16.151 -105.501,-44.286 -142.064,-37.721m176.721,11.489c-5.744,1.549 -11.369,4.999 -13.792,8.459c-1.651,2.358 -6.159,13.235 -6.159,14.861c0,1.058 12.703,-0.531 16.315,-2.04c7.19,-3.004 13.063,-9.793 16.225,-18.756l1.371,-3.886l-4.705,0.067c-2.588,0.038 -6.753,0.62 -9.255,1.295m-187.889,34.184c-10.796,2.465 -12.59,5.368 -14.647,23.704c-0.723,6.445 -0.534,6.605 4.279,3.63c10.679,-6.6 30.031,-1.379 35.134,9.478c3.034,6.454 2.776,11.203 -1.828,33.642c-2.2,10.723 -4,21.18 -4,23.239l0,3.742l10.36,-0.634c12.169,-0.744 15.314,-0.157 16.816,3.14c2.198,4.823 -1.03,7.513 -9.018,7.513c-3.737,0 -9.154,0.701 -12.037,1.557c-14.514,4.31 -19.152,-8.209 -13.127,-35.439c1.628,-7.36 2.719,-13.773 2.424,-14.25c-1.123,-1.818 -3.108,-0.74 -4.67,2.534c-3.115,6.533 -13.917,6.71 -16.849,0.276c-0.997,-2.187 -1.391,-2.319 -4.002,-1.333l-2.897,1.093l0,11.725c0,20.835 19.167,91.151 26.606,97.603c19.423,16.849 67.562,3.527 91.678,-25.37c6.704,-8.035 7.51,-8.417 5.712,-2.713c-8.537,27.084 -39.178,47.317 -71.656,47.317l-12.34,0l0,5.05c0,28.231 60.121,33.9 93.22,8.789l5.72,-4.339l0.03,-48.703l0.03,-48.703l4.797,0.568c12.286,1.455 23.8,-9.26 27.64,-25.723c2.49,-10.673 -2.556,-12.649 -11.334,-4.439c-16.087,15.048 -40.986,-18.42 -38.86,-52.236l0.455,-7.235l-8.099,-3.13c-25.275,-9.766 -78.053,-15.256 -99.537,-10.353m62.938,25.44c-12.438,1.764 -21.364,9.507 -16.532,14.339c1.291,1.291 2.223,1.164 7.715,-1.055c8.43,-3.405 20.088,-2.928 29.82,1.22c12.782,5.449 17.628,2.002 8.982,-6.389c-6.851,-6.648 -18.363,-9.764 -29.985,-8.115m56,5.409c0,13.599 10.281,28.626 19.562,28.59c6.216,-0.024 7.034,-1.411 1.677,-2.844c-7.425,-1.985 -13.047,-8.514 -17.164,-19.932c-3.672,-10.185 -4.075,-10.76 -4.075,-5.814m-128.093,8.931c-4.341,2.29 -4.412,2.41 -4.707,8.003l-0.3,5.679l3.538,-2.402c6.834,-4.637 16.098,-5.407 24.814,-2.063c1.491,0.572 1.748,0.06 1.748,-3.485c0,-7.587 -15.059,-11.027 -25.093,-5.732m66.328,7.865c-8.493,2.88 -11.845,12.536 -4.205,12.114c3.004,-0.165 3.718,0.229 4.787,2.644c3.782,8.543 15.051,5.887 18.484,-4.357c0.167,-0.499 2.476,-0.079 5.13,0.935c4.811,1.837 7.569,0.887 7.569,-2.607c0,-5.853 -22.23,-11.962 -31.765,-8.729m110.765,39.76c0,0.523 0.675,3.543 1.5,6.71c3.436,13.191 1.279,21.756 -7.457,29.61c-5.69,5.116 -4.609,6.562 1.957,2.62c12.333,-7.404 15.551,-20.082 8.668,-34.141c-2.528,-5.163 -4.668,-7.363 -4.668,-4.799m-136.5,33.943c-1.65,0.424 -6.202,0.561 -10.116,0.305c-6.287,-0.413 -7.364,-0.219 -9.25,1.667c-7.07,7.07 6.992,13.67 23.006,10.796c4.598,-0.825 11.06,-1.807 14.36,-2.182c8.843,-1.006 12.621,-4.771 8.25,-8.222c-2.171,-1.714 -21.875,-3.489 -26.25,-2.364m-12.663,21.802c-5.227,6.299 13.644,12.15 21.848,6.775c2.453,-1.607 3.158,-5.832 1.178,-7.056c-2.471,-1.527 -21.72,-1.292 -23.026,0.281m114.445,68.158c-34.088,31.891 -96.279,32.229 -118.851,0.645c-3.113,-4.356 -3.603,-1.674 -0.905,4.962c12.934,31.825 80.595,35.511 115.297,6.282c6.514,-5.487 14.494,-15.291 13.899,-17.077c-0.754,-2.262 -2.505,-1.3 -9.44,5.188m28.503,8.896c-4.536,7.576 -20.38,25.986 -52.689,61.222c-6.822,7.441 -14.26,15.553 -16.53,18.028c-2.269,2.475 -20.29,22.275 -40.047,44c-19.756,21.725 -38.643,42.414 -41.97,45.975c-3.327,3.561 -9.41,10.086 -13.518,14.5c-4.108,4.414 -11.915,12.577 -17.349,18.141c-14.607,14.957 -16.832,13.884 28.787,13.884l37.943,0l17.544,-26.133c35.269,-52.534 71.624,-113.768 99.443,-167.492c11.177,-21.584 10.748,-19.771 5.351,-22.629c-5.264,-2.788 -4.982,-2.809 -6.965,0.504m-185.312,5.621c-1.085,0.754 -5.248,2.549 -9.25,3.988c-8.184,2.944 -10.3,3.947 -21.973,10.422l-8.25,4.577l0,95.839l0,95.84l5.045,-0.179l5.045,-0.178l13.028,-13.491c21.227,-21.981 75.267,-80.129 76.783,-82.621c1.302,-2.14 0.905,-3.175 -5.636,-14.685c-15.509,-27.292 -34.537,-64.374 -46.506,-90.633c-4.923,-10.799 -5.159,-11.053 -8.286,-8.879m201.944,17.379c-26.699,50.942 -65.271,115.611 -98.179,164.605c-18.314,27.266 -18.688,28.645 -7.775,28.645l6.305,0l12.988,-19.75c40.94,-62.255 67.926,-107.365 95.127,-159.018c12.038,-22.859 12.026,-28.791 -0.059,-29.209c-0.372,-0.012 -4.155,6.614 -8.407,14.727"/></svg>`;
  }
  return '';
}

function makeCardWithPips(faceStr, back=false, flip=false){
  const c=document.createElement('div'); c.className='card'+(back?' back':'');
  if(!back){
    const suitG = faceStr.slice(-1);
    const rankG = faceStr.slice(0,1);
    const displayRank = (rankG==='T' ? '10' : rankG);
    const red = isRedSuitChar(suitG);

    const idxTL=document.createElement('div'); idxTL.className='index tl'+(red?' red':'')+(displayRank.length>1?' wide':''); idxTL.innerHTML=`<span class="rank">${displayRank}</span><span class="suit">${suitG}</span>`;
    const idxBR=document.createElement('div'); idxBR.className='index br'+(red?' red':'')+(displayRank.length>1?' wide':''); idxBR.innerHTML=`<span class="rank">${displayRank}</span><span class="suit">${suitG}</span>`;
    c.appendChild(idxTL); c.appendChild(idxBR);

    const rankNum = (rankG==='T'?10:(rankG==='J'||rankG==='Q'||rankG==='K'?null:(rankG==='A'?1:parseInt(rankG))));
    if(rankNum===null){
      const wrap=document.createElement('div'); wrap.innerHTML=svgFace(rankG, suitG);
      c.appendChild(wrap.firstChild);
    }else{
      const container=document.createElement('div'); 
      container.className='pips' + ((rankNum>=9)?' p4':'') + ' rank-' + (rankNum===1? '1':String(rankNum));
      const pipChar = suitG;
      const add = (row,col)=>{
        const p=document.createElement('div'); p.className='pip'+(red?' red':''); p.style.gridRow=row; p.style.gridColumn=col; p.textContent=pipChar; container.appendChild(p);
      };
      if(rankNum===1){ add(3,2); }
      else{
        const L = {
          2:[[2,2],[4,2]],
          3:[[1,2],[3,2],[5,2]],
          4:[[2,1],[2,3],[4,1],[4,3]],
          5:[[1,2],[3,2],[5,2],[2,1],[4,3]],
          6:[[2,1],[2,3],[3,1],[3,3],[4,1],[4,3]],
          7:[[1,2],[2,1],[2,3],[3,2],[4,1],[4,3],[5,2]],
          8:[[1,1],[1,3],[2,1],[2,3],[4,1],[4,3],[5,1],[5,3]]
        };
        const L4 = {
          9:[[1,1],[1,4],[2,1],[2,4],[3,2],[4,1],[4,4],[5,1],[5,4]],
          10:[[1,1],[1,4],[2,1],[2,4],[3,1],[3,4],[4,1],[4,4],[5,1],[5,4]]
        };
        const layout = (rankNum>=9)?L4[rankNum]:L[rankNum];
        layout.forEach(rc=>add(rc[0],rc[1]));
      }
      c.appendChild(container);
    }
  }
  if(flip) c.classList.add('flip');
  return c;
}

function handRank7(cards){
  const ranks=cards.map(c=>c%13), suits=cards.map(c=>Math.floor(c/13));
  const countByRank=new Map(); ranks.forEach(r=>countByRank.set(r,(countByRank.get(r)||0)+1));
  const suitCount=new Map(); suits.forEach(s=>suitCount.set(s,(suitCount.get(s)||0)+1));
  let flushSuit=null; for(const [s,c] of suitCount){if(c>=5){flushSuit=s;break;}}
  function bestStraight(rl){let u=Array.from(new Set(rl)).sort((a,b)=>a-b); if(u.includes(12)) u=[-1,...u];
    let run=1,best=null; for(let i=1;i<u.length;i++){ if(u[i]-u[i-1]===1){run++; if(run>=5) best=u[i];} else if(u[i]!==u[i-1]) run=1; }
    if(best===null)return null; if(best===-1) return [3,2,1,0,-1]; return [best,best-1,best-2,best-3,best-4];
  }
  if(flushSuit!==null){const suited=ranks.filter((r,i)=>suits[i]===flushSuit); const sf=bestStraight(suited);
    if(sf){let tb=sf.map(x=>x===12?14:(x===-1?1:x+2)); return [8,tb];}}
  let groups=Array.from(countByRank.entries()).sort((a,b)=>b[1]-a[1]||b[0]-a[0]);
  if(flushSuit!==null){const fr=ranks.filter((r,i)=>suits[i]===flushSuit).sort((a,b)=>b-a).slice(0,5); return [5, fr.map(r=>r+2)];}
  const st=bestStraight(ranks); if(st){let tb=st.map(x=>x===12?14:(x===-1?1:x+2)); return [4,tb];}
  if(groups[0][1]===4){const four=groups[0][0]; const kick=ranks.filter(r=>r!==four).sort((a,b)=>b-a)[0]; return [7,[four+2,kick+2]];}
  if(groups[0][1]===3){const trips=groups[0][0]; const pair=groups.slice(1).find(g=>g[1]>=2); if(pair) return [6,[trips+2,pair[0]+2]];}
  if(groups[0][1]===3){const trips=groups[0][0]; const kicks=ranks.filter(r=>r!==trips).sort((a,b)=>b-a).slice(0,2); return [3,[trips+2,...kicks.map(k=>k+2)]];}
  const pairs=groups.filter(g=>g[1]===2).map(g=>g[0]);
  if(pairs.length>=2){const [hi,lo]=pairs.slice(0,2); const kick=ranks.filter(r=>r!==hi&&r!==lo).sort((a,b)=>b-a)[0]; return [2,[hi+2,lo+2,kick+2]];}
  if(pairs.length===1){const p=pairs[0]; const ks=ranks.filter(r=>r!==p).sort((a,b)=>b-a).slice(0,3); return [1,[p+2,...ks.map(k=>k+2)]];}
  const top5=ranks.sort((a,b)=>b-a).slice(0,5); return [0,top5.map(r=>r+2)];
}
function classify(rc,tb){const map={8:"straight_flush",7:"four_kind",6:"full_house",5:"flush",4:"straight",3:"three_kind",2:"two_pair",1:"one_pair",0:"high_card"};
  const label=map[rc]; if(label==="straight_flush"&&Math.max(...tb)===14&&Math.min(...tb)>=10) return "royal_flush"; return label;}
function compareHands(a,b){if(a[0]!==b[0]) return a[0]-b[0]; const A=a[1],B=b[1]; for(let i=0;i<Math.min(A.length,B.length);i++){ if(A[i]!==B[i]) return A[i]-B[i]; } return 0; }
function labelTextFromClass(cls){ return cls.replace(/_/g,' ').replace(/\b\w/g,m=>m.toUpperCase()); }

const TRIPS_PAY={royal_flush:100,straight_flush:40,four_kind:30,full_house:8,flush:7,straight:4,three_kind:3};
// Winning Odds (Blind) payouts when player wins
const BLIND_WIN_PAY={
  royal_flush:500,
  straight_flush:50,
  four_kind:10,
  full_house:3,
  flush:1.5,
  straight:1
};
// Bad Beat payouts (when player loses but holds qualifying hand)  pays on Odds bet
const BAD_BEAT_PAY={
  royal_flush:500, // treat royal as straight flush for bad beat
  straight_flush:500,
  four_kind:25,
  full_house:6,
  flush:5,
  straight:4
};
const POCKET_PAY={pair_aces:25,ace_face_suited:20,ace_face_off:10,other_pair:4};

function el(id){return document.getElementById(id)}
function logAdd(html){const L=el('log'); const div=document.createElement('div'); div.innerHTML=html; L.prepend(div)}

const state={
  hands:0,bank:1000,ante:10,trips:0,pocket:0,deck:[],player:[],dealer:[],board:[],
  stage:'waiting',playMult:0,wagers:{Ante:0,Blind:0,Play:0,Trips:0,Pocket:0},
  lastStage:'waiting',actions:{preflop:null,flop:null,river:null},
  sessionStartBank:1000,
  sessionStartTs: Date.now(),
  playerName:'-',
  metrics:{
    followed:0,
    deviated:0,
    totalDelta:0,
    totalProfit:0,
    handRecord:{win:0,loss:0,push:0},
    betProfit:{play:0,trips:0,pocket:0},
    betTotals:{play:0,ante:0,blind:0,trips:0,pocket:0}
  },
  showAdvice:false,
  showPlayerHand:false,
  correctMistakes:false,
  bankHistory:[],   // bankroll after each hand (includes starting point)
  handProfits:[],   // per-hand profit values
  handFollowed:[],  // per-hand WoO adherence (true=followed, false=deviated)
  handHypProfits:[], // per-hand hypothetical profit if WoO followed
  handClasses:[],    // per-hand player's final hand class
  handOutcomes:[],   // per-hand outcome labels
  handBetBreakdown:[] // per-hand profit breakdowns
};

function updateBank(){el('bankVal').textContent=state.bank.toFixed(0)}
function refreshBankrollEditable(){
  const inp = el('bankroll');
  const prompt = el('newHandPrompt');
  const hasHands = state.hands>0;
  if(inp){
    // Disable after first hand is started; enable before any bets are placed
    inp.disabled = hasHands;
  }
  if(prompt){
    prompt.style.display = hasHands ? 'none' : 'block';
    prompt.setAttribute('aria-hidden', hasHands ? 'true' : 'false');
  }
  scheduleMiniPanelsClamp();
}

function formatCurrency(value){
  const rounded = Math.round(Number(value)||0);
  const absVal = Math.abs(rounded);
  const amount = String(absVal);
  return rounded < 0 ? `$(${amount})` : `$${amount}`;
}
const MINI_STAT_ORDER_KEY = 'huhe.miniStatsOrder';
const miniStatDragState = { grid:null, dragging:null };

function initMiniStatDrag(){
  if(miniStatDragState.grid) return;
  var grid = document.querySelector('#miniStatPanel .mini-stat-grid');
  if(!grid) return;
  miniStatDragState.grid = grid;
  grid.setAttribute('role','list');
  if(!grid.hasAttribute('aria-label')) grid.setAttribute('aria-label','Mini stats');
  var items = Array.prototype.slice.call(grid.querySelectorAll('.mini-stat-item'));
  items.forEach(function(item, idx){
    if(!item.dataset.statKey){
      var valueEl = item.querySelector('.mini-stat-value');
      var fallback = valueEl && valueEl.id ? valueEl.id : ('mini-stat-' + idx);
      item.dataset.statKey = fallback;
    }
  });
  applyMiniStatOrder(grid);
  Array.prototype.slice.call(grid.querySelectorAll('.mini-stat-item')).forEach(prepareMiniStatItem);
  grid.addEventListener('dragover', miniStatDragOver);
  grid.addEventListener('drop', miniStatDrop);
  grid.addEventListener('dragenter', function(evt){ if(evt) evt.preventDefault(); });
  persistMiniStatOrder(grid);
}

function applyMiniStatOrder(grid){
  if(!grid) return;
  var stored = null;
  try{ stored = JSON.parse(localStorage.getItem(MINI_STAT_ORDER_KEY)||'null'); }catch(e){ stored = null; }
  if(!Array.isArray(stored) || !stored.length) return;
  var items = Array.prototype.slice.call(grid.querySelectorAll('.mini-stat-item'));
  var byKey = {};
  items.forEach(function(item){ byKey[item.dataset.statKey || ''] = item; });
  stored.forEach(function(key){
    if(byKey[key]){ grid.appendChild(byKey[key]); delete byKey[key]; }
  });
  Object.keys(byKey).forEach(function(key){
    if(byKey[key]) grid.appendChild(byKey[key]);
  });
}

function prepareMiniStatItem(item){
  if(item.dataset.dragReady === '1') return;
  item.dataset.dragReady = '1';
  item.setAttribute('draggable','true');
  item.setAttribute('role','listitem');
  if(!item.hasAttribute('tabindex')) item.setAttribute('tabindex','0');
  item.setAttribute('aria-grabbed','false');
  item.addEventListener('dragstart', miniStatDragStart);
  item.addEventListener('dragend', miniStatDragEnd);
  item.addEventListener('keydown', miniStatKeyDown);
}

function miniStatDragStart(evt){
  miniStatDragState.dragging = this;
  this.classList.add('dragging');
  this.setAttribute('aria-grabbed','true');
  if(evt && evt.dataTransfer){
    evt.dataTransfer.effectAllowed = 'move';
    try{ evt.dataTransfer.setData('text/plain', this.dataset.statKey || ''); }catch(e){}
  }
}

function miniStatDragEnd(){
  this.classList.remove('dragging');
  this.setAttribute('aria-grabbed','false');
  miniStatDragState.dragging = null;
  persistMiniStatOrder(this.parentElement || miniStatDragState.grid);
}

function miniStatDragOver(evt){
  if(evt) evt.preventDefault();
  var grid = miniStatDragState.grid;
  var dragging = miniStatDragState.dragging;
  if(!grid || !dragging) return;
  var clientY = evt && typeof evt.clientY === 'number' ? evt.clientY : null;
  if(clientY === null && evt && evt.touches && evt.touches.length){ clientY = evt.touches[0].clientY; }
  if(clientY === null) return;
  var after = getMiniStatAfterElement(grid, clientY);
  if(!after){
    if(grid.lastElementChild !== dragging) grid.appendChild(dragging);
  }else if(after !== dragging){
    grid.insertBefore(dragging, after);
  }
}

function miniStatDrop(evt){
  if(evt) evt.preventDefault();
  persistMiniStatOrder(miniStatDragState.grid);
}

function getMiniStatAfterElement(container, y){
  var elements = Array.prototype.slice.call(container.querySelectorAll('.mini-stat-item:not(.dragging)'));
  var closest = { offset: Number.NEGATIVE_INFINITY, element: null };
  elements.forEach(function(child){
    var box = child.getBoundingClientRect();
    var offset = y - box.top - box.height / 2;
    if(offset < 0 && offset > closest.offset){ closest = { offset: offset, element: child }; }
  });
  return closest.element;
}

function persistMiniStatOrder(grid){
  if(!grid) return;
  var items = Array.prototype.slice.call(grid.querySelectorAll('.mini-stat-item'));
  var order = items.map(function(item){ return item.dataset.statKey || ''; }).filter(Boolean);
  try{ localStorage.setItem(MINI_STAT_ORDER_KEY, JSON.stringify(order)); }catch(e){}
  if(typeof scheduleMiniPanelsClamp === 'function'){
    try{ scheduleMiniPanelsClamp(); }catch(e){}
  }
}

function miniStatKeyDown(evt){
  var grid = miniStatDragState.grid || this.parentElement;
  if(!grid) return;
  if(evt.key === 'ArrowUp' || evt.key === 'ArrowLeft'){
    evt.preventDefault();
    var prev = this.previousElementSibling;
    if(prev){
      grid.insertBefore(this, prev);
      this.focus();
      persistMiniStatOrder(grid);
    }
  }else if(evt.key === 'ArrowDown' || evt.key === 'ArrowRight'){
    evt.preventDefault();
    var next = this.nextElementSibling;
    if(next){
      grid.insertBefore(next, this);
      this.focus();
      persistMiniStatOrder(grid);
    }
  }
}

if(document.readyState === 'loading'){
  document.addEventListener('DOMContentLoaded', initMiniStatDrag);
}else{
  initMiniStatDrag();
}

function updateMiniStats(){
  const totalEl = document.getElementById('miniStatTotal');
  if(!totalEl) return;
  const totalBetEl = document.getElementById('miniStatTotalBet');
  const baseBetEl = document.getElementById('miniStatBaseBet');
  const baseProfitEl = document.getElementById('miniStatBaseProfit');
  const tripsBetEl = document.getElementById('miniStatTripsBet');
  const tripsEl = document.getElementById('miniStatTrips');
  const pocketBetEl = document.getElementById('miniStatPocketBet');
  const pocketEl = document.getElementById('miniStatPocket');
  const recordEl = document.getElementById('miniStatRecord');
  const followEl = document.getElementById('miniStatFollow');
  const bestEl = document.getElementById('miniStatBest');

  const startBank = Number(state.sessionStartBank||0);
  const currentBank = Number(state.bank||0);
  const totalProfit = currentBank - startBank;
  const metrics = state.metrics || {};
  const betProfit = metrics.betProfit || {play:0,trips:0,pocket:0};
  const betTotals = metrics.betTotals || {play:0,ante:0,blind:0,trips:0,pocket:0};
  const record = metrics.handRecord || {win:0,loss:0,push:0};
  const followed = Number(metrics.followed||0);
  const hands = Number(state.hands||0);

  const playBetTotal = Number(betTotals.play||0);
  const anteBetTotal = Number(betTotals.ante||0);
  const blindBetTotal = Number(betTotals.blind||0);
  const baseBetTotal = playBetTotal + anteBetTotal + blindBetTotal;
  const tripsBetTotal = Number(betTotals.trips||0);
  const pocketBetTotal = Number(betTotals.pocket||0);
  const totalBet = baseBetTotal + tripsBetTotal + pocketBetTotal;

  if(totalEl){ totalEl.textContent = formatCurrency(totalProfit); }
  if(totalBetEl){ totalBetEl.textContent = formatCurrency(totalBet); }
  if(baseBetEl){ baseBetEl.textContent = formatCurrency(baseBetTotal); }
  if(baseProfitEl){ baseProfitEl.textContent = formatCurrency(Number(betProfit.play||0)); }
  if(tripsBetEl){ tripsBetEl.textContent = formatCurrency(tripsBetTotal); }
  if(tripsEl){ tripsEl.textContent = formatCurrency(Number(betProfit.trips||0)); }
  if(pocketBetEl){ pocketBetEl.textContent = formatCurrency(pocketBetTotal); }
  if(pocketEl){ pocketEl.textContent = formatCurrency(Number(betProfit.pocket||0)); }
  if(recordEl){ recordEl.textContent = `${Number(record.win||0)}-${Number(record.loss||0)}-${Number(record.push||0)}`; }
  if(followEl){ followEl.textContent = `${followed}/${hands}`; }

  if(bestEl){
    const classes = Array.isArray(state.handClasses) ? state.handClasses.filter(Boolean) : [];
    if(classes.length){
      const classOrder = {royal_flush:9, straight_flush:8, four_kind:7, full_house:6, flush:5, straight:4, three_kind:3, two_pair:2, one_pair:1, high_card:0};
      let bestClass = null;
      let bestScore = -1;
      for(const cls of classes){
        const score = classOrder[cls] !== undefined ? classOrder[cls] : -1;
        if(score > bestScore){ bestScore = score; bestClass = cls; }
      }
      const count = classes.filter(c=>c===bestClass).length;
      const label = bestClass ? labelTextFromClass(bestClass) : '-';
      bestEl.textContent = count > 0 ? `${label} x ${count}` : label;
    }else{
      bestEl.textContent = '-';
    }
  }
  scheduleMiniPanelsClamp();
}
function setStage(s){state.lastStage=state.stage; state.stage=s; el('stage').textContent=s[0].toUpperCase()+s.slice(1)}
function clearLabels(){ el('dealerLabel').textContent='Dealer'; el('dealerLabel').className='label muted'; el('playerLabel').textContent='You'; el('playerLabel').className='label muted'; }

function renderCards(){
  // If waiting, hide all cards entirely (no backs shown)
  if(state.stage==='waiting'){
    el('playerCards').innerHTML='';
    el('dealerCards').innerHTML='';
    el('boardCards').innerHTML='';
    return;
  }
  const reveal = state.stage==='preflop' ? 0 : state.stage==='flop' ? 3 : (state.stage==='river'||state.stage==='showdown') ? 5 : 0;
  const prevReveal = state.lastStage==='preflop' ? 0 : state.lastStage==='flop' ? 3 : (state.lastStage==='river'||state.lastStage==='showdown') ? 5 : 0;

  const pc=el('playerCards'); pc.innerHTML=''; state.player.forEach(c=>pc.appendChild(makeCardWithPips(uFace(c))));
  const dc=el('dealerCards'); dc.innerHTML='';
  if(state.stage==='showdown'){ state.dealer.forEach(c=>dc.appendChild(makeCardWithPips(uFace(c), false, state.lastStage!=='showdown'))); }
  else { dc.appendChild(makeCardWithPips("",true)); dc.appendChild(makeCardWithPips("",true)); }
  const bc=el('boardCards'); bc.innerHTML='';
  for(let i=0;i<reveal;i++){ const flip = i >= prevReveal; bc.appendChild(makeCardWithPips(uFace(state.board[i]), false, flip)); }
  for(let i=reveal;i<5;i++){ bc.appendChild(makeCardWithPips("",true)); }

  el('anteVal').textContent=state.wagers.Ante; el('blindVal').textContent=state.wagers.Blind; el('playVal').textContent=state.wagers.Play; el('tripsVal').textContent=state.wagers.Trips; el('pocketVal').textContent=state.wagers.Pocket;
  // Update advice after any visible change
  if(typeof renderAdvice==='function') renderAdvice();

  // Optionally show player's current hand label near cards during play
  try{
    const pl = el('playerLabel');
    if(state.stage!=='waiting' && state.stage!=='showdown'){
      if(state.showPlayerHand){
        const visibleBoard = state.board.slice(0, reveal);
        const peNow = handEval([...state.player, ...visibleBoard]);
        pl.textContent = labelTextFromClass(peNow.cls);
        pl.className = 'label muted';
      }else{
        // Default label when toggle is off
        pl.textContent = 'You';
        pl.className = 'label muted';
      }
    }
  }catch(e){}
}
function renderAll(){ renderCards(); }

// Wizard-of-Odds style advice (player-information only)
function computeAdvice(){
  const st=state.stage;
  const hole=state.player; const board=state.board;
  if(hole.length<2) return {stage:'Waiting', action:'', why:'No hand yet'};
  const rA=hole[0]%13, rB=hole[1]%13; const sA=Math.floor(hole[0]/13), sB=Math.floor(hole[1]/13);
  const suited=(sA===sB);
  const hi=Math.max(rA,rB), lo=Math.min(rA,rB); // 12=A..0=2
  const isPair=(rA===rB), isAce=(rA===12||rB===12), isK=(rA===11||rB===11), isQ=(rA===10||rB===10), isJ=(rA===9||rB===9);

  // WoO Preflop 3x (override)
  if(st==='preflop'){
    // Any pair except 22
    if(isPair && rA!==0) return {stage:'Preflop', action:'Raise 3x', why:'Any pair except 22'};
    // Ace with any other card
    if(isAce) return {stage:'Preflop', action:'Raise 3x', why:'Ace with any other card'};
    // King: suited 5+ or offsuit 7+
    if(isK && ( (suited && lo>=3) || (!suited && lo>=5) )) return {stage:'Preflop', action:'Raise 3x', why: suited? 'K with suited 5+' : 'K with offsuit 7+'};
    // Queen: suited 8+ or offsuit 10+
    if(isQ && ( (suited && lo>=6) || (!suited && lo>=8) )) return {stage:'Preflop', action:'Raise 3x', why: suited? 'Q with suited 8+' : 'Q with offsuit 10+'};
    // Jack: suited 10+ only
    if(isJ && suited && lo>=8) return {stage:'Preflop', action:'Raise 3x', why:'J with suited 10+'};
    return {stage:'Preflop', action:'Check', why:'Below 3x preflop thresholds'};
  }

  
  if(st==='flop' && state.playMult===0 && board.length>=3){
    const flop=board.slice(0,3);
    const ranks=[rA,rB,flop[0]%13,flop[1]%13,flop[2]%13];
    const suits=[sA,sB,Math.floor(flop[0]/13),Math.floor(flop[1]/13),Math.floor(flop[2]/13)];
    // WoO flop criteria: Two pair or better; Hidden pair (not pocket 22); Four to a flush with T+ hole card of that suit
    {
      const peNow = handEval([hole[0], hole[1], flop[0], flop[1], flop[2]]);
      const twoPairOrBetter = (peNow.rank >= 2);
      let hiddenPair=false;
      if(peNow.rank===1){
        const rcTmp=new Array(13).fill(0); [rA,rB,flop[0]%13,flop[1]%13,flop[2]%13].forEach(rr=>rcTmp[rr]++);
        const pRank = rcTmp.findIndex(c=>c===2);
        const matchesA = (rA===pRank), matchesB=(rB===pRank);
        if(matchesA || matchesB){
          const isPocket = (rA===rB && rA===pRank);
          hiddenPair = !(isPocket && pRank===0);
        }
      }
      const scTmp=[0,0,0,0]; [sA,sB,Math.floor(flop[0]/13),Math.floor(flop[1]/13),Math.floor(flop[2]/13)].forEach(ss=>scTmp[ss]++);
      let fourFlushWithTPlus=false;
      for(let suit=0;suit<4;suit++){
        if(scTmp[suit] >= 4){
          if( (sA===suit && rA>=8) || (sB===suit && rB>=8) ){ fourFlushWithTPlus=true; break; }
        }
      }
      if(twoPairOrBetter || hiddenPair || fourFlushWithTPlus){
        const whyParts=[];
        if(twoPairOrBetter) whyParts.push('Two pair or better');
        if(hiddenPair) whyParts.push('Hidden pair (not 22)');
        if(fourFlushWithTPlus) whyParts.push('Four-flush with T+ in hand');
        return {stage:'Flop', action:'Raise 2x', why: whyParts.join(' / ')};
      } else {
        return {stage:'Flop', action:'Check', why:'No 2-pair+, hidden pair (not 22), or 4-flush+T'};
      }
    }
    const rc=new Array(13).fill(0); ranks.forEach(r=>rc[r]++);
    const hasPairOrBetter = rc.some(c=>c>=2);
    const sc=[0,0,0,0]; suits.forEach(s=>sc[s]++);
    const hasFourFlush = sc.some(c=>c>=4);
    const uniq=[...new Set(ranks)].sort((a,b)=>a-b);
    const uniqAceLow = uniq.includes(12) ? [-1,...uniq] : uniq.slice();
    let hasOESD=false; for(let i=0;i<uniqAceLow.length-3;i++){ if(uniqAceLow[i+3]-uniqAceLow[i]===3){ hasOESD=true; break; } }
    const reasons=[]; if(hasPairOrBetter) reasons.push('Pair or better'); if(hasFourFlush) reasons.push('Four to a flush'); if(hasOESD) reasons.push('Open-ended straight draw');
    if(reasons.length>0) return {stage:'Flop', action:'Raise 2x', why: reasons.join('  ')};
    return {stage:'Flop', action:'Check', why:'No pair+, four-flush, or OESD'};
  }

  if((st==='river'||st==='showdown') && state.playMult===0 && board.length===5){
    const rec = riverWoORuleDecision();
    return {stage:'River', action: rec.action==='call1' ? 'Call 1x' : 'Fold', why: rec.why};
  }

  return {stage: st[0].toUpperCase()+st.slice(1), action:'', why:'No advice (already raised or not applicable)'};
}

// Map advice action text to internal action id
function _mapAdviceTextToId(txt){
  const t=(String(txt||'').trim().toLowerCase());
  if(t.startsWith('raise 3')) return 'raise3';
  if(t.startsWith('raise 2')) return 'raise2';
  if(t.startsWith('call 1')) return 'call1';
  if(t==='check') return 'check';
  if(t==='fold') return 'fold';
  return '';
}
// One-shot suppressor to avoid re-prompt loop when user chooses Ignore
let _suppressMistakePromptOnce=false;
// Show modal if selected action deviates from advice; return true if modal shown (caller should return early)
function maybePromptStrategyDeviation(selectedId){
  try{
    if(!state.correctMistakes) return false;
    if(_suppressMistakePromptOnce){ _suppressMistakePromptOnce=false; return false; }
    // Do not prompt when no meaningful advice for current stage
    const adv=computeAdvice();
    const recId=_mapAdviceTextToId(adv && adv.action);
    if(!recId || recId===selectedId) return false;
    const modal=el('strategyModal'); const textEl=el('strategyText');
    const ignoreBtn=el('strategyIgnore'); const reviseBtn=el('strategyRevise');
    if(!modal||!textEl||!ignoreBtn||!reviseBtn) return false;
    const stageLabel = adv && adv.stage ? adv.stage : '';
    const why = adv && adv.why ? adv.why : '';
    textEl.innerHTML = `Advised: <b>${adv.action}</b> <span class="muted">(${stageLabel})</span><br/>Why: ${why}`;
    // Wire buttons
    ignoreBtn.onclick = ()=>{
      modal.style.display='none';
      // proceed with originally selected action
      _suppressMistakePromptOnce=true;
      try{ const fn = window && window[selectedId]; if(typeof fn==='function') fn(); }catch(e){}
    };
    reviseBtn.onclick = ()=>{ modal.style.display='none'; };
    modal.style.display='block';
    return true;
  }catch(e){ return false; }
}

function renderAdvice(){
  const wrap=el('adviceWrap'); if(!wrap) return;
  if(!state.showAdvice){ wrap.style.display='none'; return; }
  const adv=computeAdvice();
  wrap.style.display='block';
  el('adviceLine').innerHTML = `Advice: ${adv.action} <span class="muted">(${adv.stage})</span>`;
  el('adviceWhy').textContent = adv.why;
  // Also update button highlight to reflect recommended play
  if(typeof updateAdviceGlow==='function') updateAdviceGlow(adv);
}

// Highlight the recommended action button when advice is shown
function updateAdviceGlow(adv){
  try{
    const primary = document.getElementById('primaryAction');
    const checkBtn = document.getElementById('check');
    const foldBtn = document.getElementById('fold');
    [primary, checkBtn, foldBtn].forEach(b=>{ if(b){ b.classList.remove('adv-glow','glow-raise','glow-call','glow-check','glow-fold'); } });
    if(!state.showAdvice) return;
    if(state.stage==='waiting' || state.stage==='showdown') return;
    const a = (adv && adv.action ? adv.action : (computeAdvice().action||'')).toLowerCase();
    if(a.startsWith('raise')){ if(primary){ primary.classList.add('adv-glow','glow-raise'); } }
    else if(a.startsWith('call')){ if(primary){ primary.classList.add('adv-glow','glow-call'); } }
    else if(a==='check'){ if(checkBtn){ checkBtn.classList.add('adv-glow','glow-check'); } }
    else if(a==='fold'){ if(foldBtn){ foldBtn.classList.add('adv-glow','glow-fold'); } }
  }catch(e){}
}
// Update the single primary action button's label and intended action
function updatePrimaryAction(){
  const btn = document.getElementById('primaryAction');
  if(!btn) return;
  const st = state.stage;
  // default disabled
  let label = '';
  let act = '';
  let enabled = false;
  try{
    if(st==='preflop' && state.playMult===0){
      label = 'Raise 3x'; act='raise3'; enabled=true;
    }else if(st==='flop' && state.playMult===0){
      label = 'Raise 2x'; act='raise2'; enabled=true;
    }else if(st==='river' && state.playMult===0){
      label = 'Call 1x'; act='call1'; enabled=true;
    }
  }catch(e){ /* ignore */ }
  btn.textContent = label;
  btn.dataset.act = act;
  btn.disabled = !enabled;
  // Keep glow in sync when primary action changes
  if(typeof updateAdviceGlow==='function') updateAdviceGlow();
}
function enableButtons(){
  const st=state.stage;
  el('raise3').disabled=!(st==='preflop'&&state.playMult===0);
  el('raise2').disabled=!(st==='flop'&&state.playMult===0);
  el('call1').disabled=!(st==='river'&&state.playMult===0);
  el('check').disabled=!(st==='preflop'||st==='flop');
  el('fold').disabled=!(st==='river'&&state.playMult===0);
  el('newHand').disabled=!(st==='waiting'||st==='showdown');
  // keep the single primary action button in sync
  updatePrimaryAction();
}

const DENOMS=[500,100,25,5,1];
function makeChip(d){ const div=document.createElement('div'); div.className='chip denom-'+d; div.textContent=+d; return div; }
function breakdown(amount){ const out=[]; let rem=Math.abs(amount); for(const d of DENOMS){ while(rem>=d && out.length<12){ out.push(d); rem-=d; } } if(rem>0) out.push(1); return out; }
// options: { stay: boolean, store: array }
function animateChips(fromEl, toEl, amount, options={stay:false, store:null}){
  const parts = breakdown(amount);
  const table = document.getElementById("table");
  const t = table.getBoundingClientRect();
  parts.forEach((d,i)=>{
    const c=makeChip(d);
    const angle = ((Math.random()*24)-12).toFixed(2);
    c.dataset.angle = angle;
    c.style.transform = `rotate(${angle}deg)`;
    const rf=fromEl.getBoundingClientRect(); const rt=toEl.getBoundingClientRect();
    c.style.left = (rf.left - t.left + rf.width/2 - 20) + "px"; c.style.top  = (rf.top - t.top + rf.height/2 - 20) + "px";
    c.style.transition='left .45s ease, top .45s ease, transform .45s ease'; c.style.zIndex=60+i;
    table.appendChild(c);
    requestAnimationFrame(()=>{ c.style.left = (rt.left - t.left + rt.width/2 - 20 + (i%3-1)*8) + "px"; c.style.top  = (rt.top - t.top + rt.height/2 - 20 + (Math.floor(i/3)-1)*8) + "px"; c.style.transform = `rotate(${angle}deg)`; });
    if(options.stay){
      if(options.store){ options.store.push(c); }
    }else{
      setTimeout(()=>{ c.remove(); }, 540);
    }
  });
}

const CHIP_ANIM_DURATION = 520;
function waitMs(ms){ return new Promise(resolve=>setTimeout(resolve, ms)); }
function animateExistingChipsTo(chips, destinationEl){
  return new Promise(resolve=>{
    const list = (chips||[]).filter(chip=>chip && chip.isConnected);
    if(!list.length){
      resolve();
      return;
    }
    if(!destinationEl){
      list.forEach(chip=>{ try{ chip.remove(); }catch(e){} });
      resolve();
      return;
    }
    const table = document.getElementById('table');
    if(!table){
      list.forEach(chip=>{ try{ chip.remove(); }catch(e){} });
      resolve();
      return;
    }
    const t = table.getBoundingClientRect();
    const rt = destinationEl.getBoundingClientRect();
    list.forEach((chip,i)=>{
      const angle = chip.dataset.angle || '0';
      chip.style.transition = 'left .45s ease, top .45s ease, transform .45s ease';
      chip.style.zIndex = 90 + i;
      requestAnimationFrame(()=>{
        chip.style.left = (rt.left - t.left + rt.width/2 - 20 + (i%3-1)*8) + 'px';
        chip.style.top = (rt.top - t.top + rt.height/2 - 20 + (Math.floor(i/3)-1)*8) + 'px';
        chip.style.transform = 'rotate(' + angle + 'deg)';
      });
    });
    setTimeout(()=>{
      list.forEach(chip=>{ try{ chip.remove(); }catch(e){} });
      resolve();
    }, CHIP_ANIM_DURATION);
  });
}

async function settleBetsSequential(result){
  if(!result || !result.betResults) return;
  const order = [
    {key:'trips', store:'trips', circle:'circleTrips'},
    {key:'pocket', store:'pocket', circle:'circlePocket'},
    {key:'ante', store:'ante', circle:'circleAnte'},
    {key:'odds', store:'blind', circle:'circleBlind'},
    {key:'play', store:'play', circle:'circlePlay'}
  ];
  const pot = el('pot');
  for(const item of order){
    const data = result.betResults[item.key];
    if(!data || data.wager<=0) continue;
    const circleEl = el(item.circle);
    if(!circleEl) continue;
    const stack = betChips[item.store] || (betChips[item.store]=[]);
    for(let i=stack.length-1; i>=0; i--){ if(!stack[i] || !stack[i].isConnected) stack.splice(i,1); }
    const bonus = Math.max(0, data.returned - data.wager);
    if(bonus>0 && pot){
      animateChips(pot, circleEl, bonus, {stay:true, store:stack});
      await waitMs(CHIP_ANIM_DURATION);
    }else{
      await waitMs(140);
    }
    const target = el(data.net < 0 ? 'potDealer' : 'potPlayer');
    await animateExistingChipsTo([...stack], target);
    stack.length = 0;
    await waitMs(120);
  }
}

// Persistent betting chips tracking
let betChips = { ante:[], blind:[], play:[], trips:[], pocket:[] };
function repositionBetChips(){
  try{
    const table = document.getElementById("table"); if(!table) return;
    const t = table.getBoundingClientRect();
    const idMap = { ante:"circleAnte", blind:"circleBlind", play:"circlePlay", trips:"circleTrips", pocket:"circlePocket" };
    for(const key of Object.keys(idMap)){
      const target = document.getElementById(idMap[key]); if(!target) continue;
      const rt = target.getBoundingClientRect();
      const baseX = rt.left - t.left + rt.width/2 - 20;
      const baseY = rt.top - t.top + rt.height/2 - 20;
      const arr = betChips[key] || [];
      arr.forEach((chip,i)=>{ if(!chip) return; const angle = chip.dataset.angle || "0"; chip.style.left = (baseX + (i%3-1)*8) + "px"; chip.style.top = (baseY + (Math.floor(i/3)-1)*8) + "px"; chip.style.transform = `rotate(${angle}deg)`; });
    }
  }catch(e){}
}
window.addEventListener("resize", repositionBetChips);
function clearBetChips(){ Object.values(betChips).forEach(arr=>{ arr.forEach(el=>el.remove()); arr.length=0; }); }

function newHand(){
  state.ante=Number(el('ante').value)||0; state.trips=Number(el('trips').value)||0; state.pocket=Number(el('pocket').value)||0;
  const needed=state.ante*2+state.trips+state.pocket; if(state.bank<needed){alert("Not enough bank for Ante+Blind+Trips+Pocket.");return;}
  if(state.hands===0){ state.sessionStartBank = state.bank; if(!state.sessionStartTs) state.sessionStartTs=Date.now(); }
  state.deck=dealDeck(); state.player=state.deck.slice(0,2); state.dealer=state.deck.slice(2,4); state.board=state.deck.slice(4,9);
  state.playMult=0; state.wagers={Ante:state.ante,Blind:state.ante,Play:0,Trips:state.trips,Pocket:state.pocket}; state.actions={preflop:'check',flop:'check',river:null};
  state.bank-=needed; state.hands+=1; el('handCount').textContent=state.hands; el('outcome').textContent=''; clearLabels();
  refreshBankrollEditable();
  setStage('preflop'); updateBank(); renderAll(); enableButtons();
  logAdd(`<span class="muted">Hand #${state.hands} Bets:</span> Ante $${state.ante}, Odds $${state.ante}${state.trips>0?`, Trips $${state.trips}`:""}${state.pocket>0?`, Pocket $${state.pocket}`:""}`);
  // Initialize and place chips onto betting circles
  clearBetChips(); betChips={ ante:[], blind:[], play:[], trips:[], pocket:[] };
  animateChips(el('potPlayer'), el('circleAnte'), state.ante, {stay:true, store:betChips.ante});
  animateChips(el('potDealer'), el('circleBlind'), state.ante, {stay:true, store:betChips.blind});
  if(state.trips>0) animateChips(el('potPlayer'), el('circleTrips'), state.trips, {stay:true, store:betChips.trips});
  if(state.pocket>0) animateChips(el('potPlayer'), el('circlePocket'), state.pocket, {stay:true, store:betChips.pocket});
}
function goFlop(){ setStage('flop'); renderAll(); enableButtons(); }
function goRiver(){ setStage('river'); renderAll(); enableButtons(); }

async function showdown(){
  setStage('showdown');
  renderAll();
  const res = settleAll();
  state.bank += res.playerNet;
  updateBank();
  // Update strategy metrics
  if(res.strategy){
    if(res.strategy.followed) state.metrics.followed++;
    else state.metrics.deviated++;
    state.metrics.totalDelta += res.strategy.delta;
  }
  if(typeof res.profit==='number'){ state.metrics.totalProfit += res.profit; }
  const cmp = res.cmp;
  el('playerLabel').textContent = labelTextFromClass(res.pClass);
  el('dealerLabel').textContent = labelTextFromClass(res.dClass);
  el('playerLabel').className = 'label ' + (cmp>0?'win':cmp<0?'loss':'push');
  el('dealerLabel').className = 'label ' + (cmp<0?'win':cmp>0?'loss':'push');
  logAdd(`${res.playerLogHtml}<br/><span class="muted">Bankroll: ${fmt(state.bank)}</span>`);
  enableButtons();
  await settleBetsSequential(res);
  // Update bankroll graph
  try{ recordHand(res.profit, res.strategy?!!res.strategy.followed:null, res.strategy?Number(res.strategy.hypProfit):null, res.pClass, res.outcome, res.breakdown); }catch(e){}
  // Big result popup
  if(typeof res.profit==='number') showBigResult(res.profit);
}

function raise3(){ if(state.stage!=='preflop'||state.playMult!==0) return; if(maybePromptStrategyDeviation('raise3')) return;
  const amt=state.ante*3; if(state.bank<amt){alert("Not enough bank for 3x raise.");return;}
  state.bank-=amt; state.playMult=3; state.wagers.Play=amt; state.actions.preflop='raise3'; updateBank(); animateChips(el('potPlayer'), el('circlePlay'), amt, {stay:true, store:betChips.play});
  // Append Play bet amount to the most recent log line (Hand #x Bets)
  { const L=el('log'); if(L && L.firstElementChild){ L.firstElementChild.innerHTML += `, Play $${amt}`; } }
  // Reveal flop, wait 1s, then river, wait 1s, then score
  goFlop();
  setTimeout(()=>{ goRiver(); setTimeout(showdown,1000); }, 1000);
}
function raise2(){ if(state.stage!=='flop'||state.playMult!==0) return; if(maybePromptStrategyDeviation('raise2')) return;
  const amt=state.ante*2; if(state.bank<amt){alert("Not enough bank for 2x raise.");return;}
  state.bank-=amt; state.playMult=2; state.wagers.Play=amt; state.actions.flop='raise2'; updateBank(); animateChips(el('potPlayer'), el('circlePlay'), amt, {stay:true, store:betChips.play});
  // Append Play bet amount to the most recent log line (Hand #x Bets)
  { const L=el('log'); if(L && L.firstElementChild){ L.firstElementChild.innerHTML += `, Play $${amt}`; } }
  goRiver(); setTimeout(showdown,1000);
}
function call1(){ if(state.stage!=='river'||state.playMult!==0) return; if(maybePromptStrategyDeviation('call1')) return;
  const amt=state.ante*1; if(state.bank<amt){alert("Not enough bank for 1x call.");return;}
  state.bank-=amt; state.playMult=1; state.wagers.Play=amt; state.actions.river='call1'; updateBank(); animateChips(el('potPlayer'), el('circlePlay'), amt, {stay:true, store:betChips.play});
  // Append Play bet amount to the most recent log line (Hand #x Bets)
  { const L=el('log'); if(L && L.firstElementChild){ L.firstElementChild.innerHTML += `, Play $${amt}`; } }
  setTimeout(showdown,1000);
}
function check(){ if(!(state.stage==='preflop'||state.stage==='flop')) return; if(maybePromptStrategyDeviation('check')) return; if(state.stage==='preflop'){ state.actions.preflop='check'; return goFlop(); } if(state.stage==='flop'){ state.actions.flop='check'; return goRiver(); } }
function fold(){ if(state.stage!=='river'||state.playMult!==0) return; if(maybePromptStrategyDeviation('fold')) return;
  state.actions.river='fold';
  // Move to showdown visuals
  setStage('showdown'); renderAll(); enableButtons(); el('outcome').innerHTML=`<span class="loss">fold</span>`;
  el('playerLabel').textContent='Fold'; el('playerLabel').className='label loss';

  const ante=state.wagers.Ante, blind=state.wagers.Blind, trips=state.wagers.Trips, pocket=state.wagers.Pocket;
  const p7=[...state.player,...state.board], d7=[...state.dealer,...state.board];
  const pe=handEval(p7), de=handEval(d7); const cmp=compareHands([pe.rank,pe.tie],[de.rank,de.tie]);
  const dealerQual = de.rank>=1;

  const tripsPay = trips>0 ? (TRIPS_PAY[pe.cls] ? trips * (TRIPS_PAY[pe.cls] + 1) : 0) : 0;
  const pocketPay = pocket>0 ? pocketBonusPayout(state.player,pocket) : 0;

  const invested=(ante)+(blind)+((trips>0)?trips:0)+((pocket>0)?pocket:0);
  const Net = tripsPay + pocketPay;
  const Profit = Net - invested; // bank already debited at hand start

  state.bank += Net;
  updateBank();

  const rec = recommendWoOGlobal();
  const hyp = settleHypGeneric(pe, de, cmp, dealerQual, ante, blind, trips, pocket, rec.recPlay, rec.recFold);
  const followed = (
    (state.actions.preflop===rec.preflop) &&
    ((rec.preflop==='raise3') || (state.actions.flop===rec.flop)) &&
    ((rec.preflop==='raise3'||rec.flop==='raise2') || (state.actions.river===rec.river))
  );
  const strategyNote = `WoO Chart - ${followed?'<span class="win">Followed</span>':'<span class="loss">Deviated</span>'}; Rec: ${rec.preflop}${rec.flop?`, ${rec.flop}`:''}${rec.river?`, ${rec.river}`:''}; Hypo Net <b>${fmt(hyp.ProfitH)}</b> (Diff ${fmt(hyp.ProfitH-Profit)})`;

  const breakdown = {
    play: -(ante + blind),
    ante: -ante,
    blind: -blind,
    playBet: 0,
    trips: tripsPay - (trips>0?trips:0),
    pocket: pocketPay - (pocket>0?pocket:0),
    betPlay: 0,
    betAnte: ante,
    betBlind: blind,
    betTrips: (trips>0?trips:0),
    betPocket: (pocket>0?pocket:0),
    betTotal: invested
  };

  const outcomeHtml=`<span class="loss">fold</span>`;
  const detail=`Ante ${fmt(0)}, Odds ${fmt(0)}, Play ${fmt(0)}, Trips ${fmt(tripsPay)}, Pocket ${fmt(pocketPay)}, Net <b>${fmt(Profit)}</b> <span class="muted">(You: ${pe.cls}, Dealer: ${de.cls}${dealerQual?" qualifies":", no-qual"})</span><br/><span class="muted">${strategyNote}</span>`;
  logAdd(`Result - ${outcomeHtml}: ${detail}<br/><span class="muted">Bankroll: ${fmt(state.bank)}</span>`);

  showBigResult(Profit);

  if(followed) state.metrics.followed++; else state.metrics.deviated++;
  state.metrics.totalDelta += (hyp.ProfitH - Profit);
  state.metrics.totalProfit += Profit;

  const netAbs = Math.abs(Profit);
  if(netAbs>0){ animateChips(el('pot'), Profit>=0?el('potPlayer'):el('potDealer'), netAbs); }
  setTimeout(clearBetChips, 800);
  try{ recordHand(Profit, !!followed, Number(hyp.ProfitH), pe.cls, 'loss', breakdown); }catch(e){}
}
function handEval(cards){ const r=handRank7(cards); return {rank:r[0], tie:r[1], cls: classify(r[0], r[1])}; }
// Determine if the best 5-card hand involves a hole card in the made component.
// Rules:
// - One pair: one of the paired cards must be a hole.
// - Two pair: at least one of the two pairs must include a hole.
// - Trips: at least one of the trips must include a hole.
// - Straight/Flush/Straight Flush: at least one hole card must be in the 5-card hand.
// - Full house: a hole must participate in either the trips or the pair.
// - Quads: a hole must be one of the four.
function best5HoleInRank(hole, board){
  if(hole.length!==2 || board.length!==5) return false;
  const all=[hole[0], hole[1], board[0], board[1], board[2], board[3], board[4]];
  const best=handRank7(all); // [rc, tb]
  const rc=best[0];
  for(let i=0;i<7;i++){
    for(let j=i+1;j<7;j++){
      const subset=[]; for(let k=0;k<7;k++) if(k!==i && k!==j) subset.push(all[k]);
      const hr=handRank7(subset);
      if(compareHands(hr, best)!==0) continue;
      const includesHole = (subset.includes(hole[0]) || subset.includes(hole[1]));
      if(!includesHole) continue;
      const tb=hr[1];
      switch(rc){
        case 1: { // one pair
          const p = tb[0]-2;
          const h0ok = (hole[0]%13===p) && subset.includes(hole[0]);
          const h1ok = (hole[1]%13===p) && subset.includes(hole[1]);
          if(h0ok||h1ok) return true;
          break;
        }
        case 2: { // two pair
          const p1=tb[0]-2, p2=tb[1]-2;
          const h0ok = (subset.includes(hole[0]) && ((hole[0]%13===p1)||(hole[0]%13===p2)));
          const h1ok = (subset.includes(hole[1]) && ((hole[1]%13===p1)||(hole[1]%13===p2)));
          if(h0ok||h1ok) return true;
          break;
        }
        case 3: { // trips
          const t = tb[0]-2;
          const h0ok = (hole[0]%13===t) && subset.includes(hole[0]);
          const h1ok = (hole[1]%13===t) && subset.includes(hole[1]);
          if(h0ok||h1ok) return true;
          break;
        }
        case 4: // straight
        case 5: // flush
        case 8: // straight flush
          return true; // any hole included in subset means it participates in the made hand
        case 6: { // full house
          const t = tb[0]-2, p = tb[1]-2;
          const h0ok = subset.includes(hole[0]) && ((hole[0]%13===t)||(hole[0]%13===p));
          const h1ok = subset.includes(hole[1]) && ((hole[1]%13===t)||(hole[1]%13===p));
          if(h0ok||h1ok) return true;
          break;
        }
        case 7: { // quads
          const q = tb[0]-2;
          const h0ok = (hole[0]%13===q) && subset.includes(hole[0]);
          const h1ok = (hole[1]%13===q) && subset.includes(hole[1]);
          if(h0ok||h1ok) return true;
          break;
        }
      }
    }
  }
  return false;
}
// Count single-card dealer outs that beat the player's hand, based on known cards
function _dealerOutsDetailed(hole, board){
  // Count single-card outs x using exactly one dealer hole with the board.
  // Returns {win: nWins, tie: nTies} where win means dealer > player.
  if(board.length!==5 || hole.length!==2) return {win:0, tie:0};
  const used=new Array(52).fill(false);
  for(const c of hole) used[c]=true; for(const c of board) used[c]=true;
  const deck=[]; for(let i=0;i<52;i++){ if(!used[i]) deck.push(i); }
  const pe = handEval([hole[0], hole[1], board[0], board[1], board[2], board[3], board[4]]);
  // Helper: best 5-card hand from x + any 4 of the 5 board cards (i.e., using x)
  function bestWithOneHole(x){
    let best=null;
    for(let omit=0; omit<5; omit++){
      const set=[x];
      for(let i=0;i<5;i++){ if(i!==omit) set.push(board[i]); }
      const hr=handRank7(set); // works for 5-card input
      if(!best || compareHands(hr,best)>0) best=hr;
    }
    return best;
  }
  let win=0, tie=0;
  for(const x of deck){
    const de = bestWithOneHole(x);
    const cmp=compareHands([pe.rank, pe.tie], de);
    if(cmp<0) win++; else if(cmp===0) tie++;
  }
  return {win, tie};
}
function dealerOutsBeatCount(hole, board){ const d=_dealerOutsDetailed(hole, board); return d.win; }
// WoO river rule: Call 1x if hidden pair or better, or dealer outs to beat < 21
function riverWoORuleDecision(){
  if(state.board.length!==5) return {action:'fold', why:'River not reached'};
  const hole=state.player, board=state.board;
  const pe = handEval([hole[0], hole[1], board[0], board[1], board[2], board[3], board[4]]);
  const involvesHole = best5HoleInRank(hole, board);
  if(pe.rank>=2 && involvesHole){ return {action:'call1', why:'Two pair+ using hole card'}; }
  if(pe.rank===1 && involvesHole){ return {action:'call1', why:'Hidden pair'}; }
  const d=_dealerOutsDetailed(hole, board);
  const eff = d.win + d.tie*0.5;
  const outsStr = `${eff.toFixed(1)} [${d.win} win, ${d.tie} tie]`;
  if(eff<21){ return {action:'call1', why:`Dealer outs to beat: ${outsStr} (<21)`}; }
  return {action:'fold', why:`Dealer outs to beat: ${outsStr} (>=21)`};
}
// WoO recommendation helper (top-level so fold() can use it too)
// Compute perfect river decision by enumerating all possible dealer two-card combinations
function evRiverDecision(mult=1){
  // Only applicable when all five board cards are known and Play not yet placed
  const ante=state.wagers.Ante, blind=state.wagers.Blind, trips=state.wagers.Trips, pocket=state.wagers.Pocket;
  const p7=[...state.player, ...state.board];
  const pe=handEval(p7);
  // Build remaining deck
  const used=new Array(52).fill(false);
  for(const c of p7) used[c]=true;
  const deck=[]; for(let i=0;i<52;i++){ if(!used[i]) deck.push(i); }
  let sumProfitCall=0, beats=0, ties=0, loses=0, combos=0;
  const playAmt=ante*mult;
  const foldRes=settleHypGeneric(pe, null, 0, false, ante, blind, trips, pocket, 0, true);
  const profitFold=foldRes.ProfitH;
  for(let a=0;a<deck.length;a++){
    for(let b=a+1;b<deck.length;b++){
      const d7=[deck[a], deck[b], ...state.board];
      const de=handEval(d7);
      const cmp=compareHands([pe.rank,pe.tie],[de.rank,de.tie]);
      if(cmp>0) beats++; else if(cmp<0) loses++; else ties++;
      const dealerQual = de.rank>=1;
      const r=settleHypGeneric(pe, de, cmp, dealerQual, ante, blind, trips, pocket, playAmt, false);
      sumProfitCall += r.ProfitH;
      combos++;
    }
  }
  const evCall = sumProfitCall / combos;
  const evFold = profitFold; // constant
  const action = evCall >= evFold ? 'call1' : 'fold';
  // Detect hidden pair (pair using one hole + one board card when board itself is not paired on that rank)
  let hiddenPair=false;
  if(pe.rank===1){
    const pairRank=pe.tie[0]-2;
    const holeRanks=[state.player[0]%13, state.player[1]%13];
    const boardRanks=state.board.map(c=>c%13);
    const boardCount=boardRanks.filter(r=>r===pairRank).length;
    const holeCount=holeRanks.filter(r=>r===pairRank).length;
    if(boardCount===1 && holeCount===1) hiddenPair=true;
  }
  return {action, evCall, evFold, beats, ties, loses, combos, hiddenPair};
}
function recommendWoOGlobal(){
  const hole=state.player;
  const rA=hole[0]%13, rB=hole[1]%13; const sA=Math.floor(hole[0]/13), sB=Math.floor(hole[1]/13);
  const high=Math.max(rA,rB), low=Math.min(rA,rB); const suited=(sA===sB);
  // WoO-inspired Preflop 3x chart
  let preflop='check';
  const isPair=(rA===rB);
  const isAce=(rA===12||rB===12);
  const isK=(rA===11||rB===11);
  const isQ=(rA===10||rB===10);
  const isJ=(rA===9||rB===9);
  const hi=high, lo=low; // 12=A ... 0=2
  // Any pair except 22
  if(isPair && rA!==0) preflop='raise3';
  // Any Ace
  else if(isAce) preflop='raise3';
  // Kx: suited 5+; offsuit 7+
  else if(isK && ((suited && lo>=3) || (!suited && lo>=5))) preflop='raise3';
  // Qx: suited 8+; offsuit 10+
  else if(isQ && ((suited && lo>=6) || (!suited && lo>=8))) preflop='raise3';
  // Jx: suited 10+ only
  else if(isJ && (suited && lo>=8)) preflop='raise3';

  let flopAct=null, riverAct=null;
  if(preflop==='check'){
    const flop=state.board.slice(0,3);
    // WoO flop: Two pair+; Hidden pair (not pocket 22); or 4-flush with T+ in hand
    const ranks = [hole[0]%13, hole[1]%13, flop[0]%13, flop[1]%13, flop[2]%13];
    const suits = [Math.floor(hole[0]/13), Math.floor(hole[1]/13), Math.floor(flop[0]/13), Math.floor(flop[1]/13), Math.floor(flop[2]/13)];
    const peNow = handEval([hole[0], hole[1], flop[0], flop[1], flop[2]]);
    const twoPairOrBetter = (peNow.rank >= 2);
    let hiddenPair=false;
    if(peNow.rank===1){
      const rc=new Array(13).fill(0); ranks.forEach(r=>rc[r]++);
      const pairRank = rc.findIndex(c=>c===2);
      const matchesA = (hole[0]%13===pairRank);
      const matchesB = (hole[1]%13===pairRank);
      if(matchesA || matchesB){
        const isPocket = ((hole[0]%13)===(hole[1]%13) && (hole[0]%13)===pairRank);
        const isPocketDeuces = isPocket && pairRank===0;
        hiddenPair = !isPocketDeuces;
      }
    }
    const suitCount = [0,0,0,0]; suits.forEach(s=>suitCount[s]++);
    let fourFlushWithTPlus=false;
    for(let suit=0;suit<4;suit++){
      if(suitCount[suit] >= 4){
        if( (Math.floor(hole[0]/13)===suit && hole[0]%13>=8) || (Math.floor(hole[1]/13)===suit && hole[1]%13>=8) ){
          fourFlushWithTPlus=true; break;
        }
      }
    }
    flopAct = (twoPairOrBetter||hiddenPair||fourFlushWithTPlus)?'raise2':'check';
    if(flopAct==='check'){
      if(state.board.length===5){
        // River per WoO rule: hidden pair or better OR outs < 21
        const riverRec = riverWoORuleDecision();
        riverAct = riverRec.action;
      }else{
        // Fallback (shouldn't happen here): call with pair or ace-high
        const peNow = handEval([...state.player, ...state.board]);
        const hasPairShowdown = peNow.rank>=1;
        const aceHigh = ( (state.player[0]%13===12) || (state.player[1]%13===12) );
        riverAct = (hasPairShowdown||aceHigh)?'call1':'fold';
      }
    }
  }
  const recPlay = preflop==='raise3' ? state.ante*3 : (flopAct==='raise2' ? state.ante*2 : (riverAct==='call1' ? state.ante*1 : 0));
  const recFold = (preflop==='raise3'||flopAct==='raise2') ? false : (riverAct==='fold');
  return {preflop, flop:flopAct, river:riverAct, recPlay, recFold};
}
// Hypothetical settle helper (standalone)
function settleHypGeneric(pe,de,cmp,dealerQual,ante,blind,trips,pocket, playAmt, doFold){
  // Side bets (hypothetical)
  const tripsPayH = TRIPS_PAY[pe.cls] ? trips * (TRIPS_PAY[pe.cls] + 1) : 0;
  const pocketPayH = pocket?pocketBonusPayout(state.player,pocket):0;
  let AnteH=0, BlindH=0, PlayH=0;
  if(doFold){
    AnteH=0; PlayH=0; BlindH=0;
  }else if(cmp>0){
    PlayH = playAmt>0 ? playAmt*2 : 0;
    AnteH = dealerQual ? ante*2 : ante;
    BlindH = BLIND_WIN_PAY[pe.cls] ? blind*(BLIND_WIN_PAY[pe.cls]+1) : blind;
  }else if(cmp<0){
    PlayH = 0; AnteH = 0;
    BlindH = BAD_BEAT_PAY[pe.cls] ? blind*BAD_BEAT_PAY[pe.cls] : 0;
  }else{
    PlayH = playAmt>0 ? playAmt : 0; AnteH = ante; BlindH = blind;
  }
  const NetH = AnteH+BlindH+PlayH+tripsPayH+pocketPayH;
  const investedH = ante+blind+(playAmt>0?playAmt:0)+(trips>0?trips:0)+(pocket>0?pocket:0);
  const ProfitH = NetH - investedH;
  return {NetH, ProfitH};
}
function settleAll(){
  const ante=state.wagers.Ante, blind=state.wagers.Blind, play=state.wagers.Play, trips=state.wagers.Trips, pocket=state.wagers.Pocket;
  const p7=[...state.player,...state.board], d7=[...state.dealer,...state.board];
  const pe=handEval(p7), de=handEval(d7); const cmp=compareHands([pe.rank,pe.tie],[de.rank,de.tie]);
  const dealerQual=de.rank>=1;
  const tripsPay = TRIPS_PAY[pe.cls] ? trips * (TRIPS_PAY[pe.cls] + 1) : 0;
  const pocketPay=pocket?pocketBonusPayout(state.player,pocket):0;
  let Ante=0,Blind=0,Play=0;
  if(cmp>0){
    // Player wins: Ante/Play pay even money; Odds pays per BLIND_WIN_PAY; otherwise push
    Play = play>0 ? play*2 : 0;
    Ante = dealerQual ? ante*2 : ante; // push if no-qual
    if(BLIND_WIN_PAY[pe.cls]){ Blind = blind * (BLIND_WIN_PAY[pe.cls] + 1); } else { Blind = blind; }
  }else if(cmp<0){
    // Player loses: Wagers already debited; only Bad Beat pays on Odds
    Play = 0; Ante = 0;
    if(BAD_BEAT_PAY[pe.cls]){ Blind = blind * BAD_BEAT_PAY[pe.cls]; } else { Blind = 0; }
  } else { // push
    Play = play>0 ? play : 0;
    Ante = ante;
    Blind = blind;
  }
  const Net=Ante+Blind+Play+tripsPay+pocketPay;
  const invested=(ante)+(blind)+((play>0)?play:0)+((trips>0)?trips:0)+((pocket>0)?pocket:0);
  const Profit=Net-invested;
  const anteNet = Ante - ante;
  const blindNet = Blind - blind;
  const playNet = Play - (play>0?play:0);
  const tripsNet = tripsPay - (trips>0?trips:0);
  const pocketNet = pocketPay - (pocket>0?pocket:0);
  const breakdown = {
    play: anteNet + blindNet + playNet,
    ante: anteNet,
    blind: blindNet,
    playBet: playNet,
    trips: tripsNet,
    pocket: pocketNet,
    betPlay: (play>0?play:0),
    betAnte: ante,
    betBlind: blind,
    betTrips: (trips>0?trips:0),
    betPocket: (pocket>0?pocket:0),
    betTotal: (ante + blind + (play>0?play:0) + (trips>0?trips:0) + (pocket>0?pocket:0))
  };

  const betResults = {
    trips: {wager:(trips>0?trips:0), returned:tripsPay, net:tripsNet},
    pocket: {wager:(pocket>0?pocket:0), returned:pocketPay, net:pocketNet},
    ante: {wager:ante, returned:Ante, net:anteNet},
    odds: {wager:blind, returned:Blind, net:blindNet},
    play: {wager:(play>0?play:0), returned:Play, net:playNet}
  };
  const outcome = cmp>0?'win':(cmp<0?'loss':'push');

  // Wizard of Odds strategy (simplified heuristic): recommend actions and compute hypothetical profit
  function recommendWoO(){
    const hole=state.player;
    const rA=hole[0]%13, rB=hole[1]%13; const sA=Math.floor(hole[0]/13), sB=Math.floor(hole[1]/13);
    const high=Math.max(rA,rB), low=Math.min(rA,rB); const suited=(sA===sB);
    // WoO-inspired Preflop 3x chart
    let preflop='check';
    const isPair=(rA===rB);
    const isAce=(rA===12||rB===12);
    const isK=(rA===11||rB===11);
    const isQ=(rA===10||rB===10);
    const isJ=(rA===9||rB===9);
    const hi=high, lo=low; // 12=A ... 0=2
    // Any pair except 22
    if(isPair && rA!==0) preflop='raise3';
    // Any Ace
    else if(isAce) preflop='raise3';
    // Kx: suited 5+; offsuit 7+
    else if(isK && ((suited && lo>=3) || (!suited && lo>=5))) preflop='raise3';
    // Qx: suited 8+; offsuit 10+
    else if(isQ && ((suited && lo>=6) || (!suited && lo>=8))) preflop='raise3';
    // Jx: suited 10+ only
    else if(isJ && (suited && lo>=8)) preflop='raise3';

    let flopAct=null, riverAct=null;
    if(preflop==='check'){
      const flop=state.board.slice(0,3);
      // WoO flop: Two pair+; Hidden pair (not pocket 22); or 4-flush with T+ in hand
      const ranks = [hole[0]%13, hole[1]%13, flop[0]%13, flop[1]%13, flop[2]%13];
      const suits = [Math.floor(hole[0]/13), Math.floor(hole[1]/13), Math.floor(flop[0]/13), Math.floor(flop[1]/13), Math.floor(flop[2]/13)];
      const peNow = handEval([hole[0], hole[1], flop[0], flop[1], flop[2]]);
      const twoPairOrBetter = (peNow.rank >= 2);
      let hiddenPair=false;
      if(peNow.rank===1){
        const rc=new Array(13).fill(0); ranks.forEach(r=>rc[r]++);
        const pairRank = rc.findIndex(c=>c===2);
        const matchesA = (hole[0]%13===pairRank);
        const matchesB = (hole[1]%13===pairRank);
        if(matchesA || matchesB){
          const isPocket = ((hole[0]%13)===(hole[1]%13) && (hole[0]%13)===pairRank);
          const isPocketDeuces = isPocket && pairRank===0;
          hiddenPair = !isPocketDeuces;
        }
      }
      const suitCount = [0,0,0,0]; suits.forEach(s=>suitCount[s]++);
      let fourFlushWithTPlus=false;
      for(let suit=0;suit<4;suit++){
        if(suitCount[suit] >= 4){
          if( (Math.floor(hole[0]/13)===suit && hole[0]%13>=8) || (Math.floor(hole[1]/13)===suit && hole[1]%13>=8) ){
            fourFlushWithTPlus=true; break;
          }
        }
      }
      flopAct = (twoPairOrBetter||hiddenPair||fourFlushWithTPlus)?'raise2':'check';
      if(flopAct==='check'){
        if(state.board.length===5){
          // River per WoO rule: hidden pair or better OR outs < 21
          const riverRec = riverWoORuleDecision();
          riverAct = riverRec.action;
        }else{
          // Fallback (shouldn't happen here): call with pair or ace-high
          const hasPairShowdown = pe.rank>=1;
          const aceHigh = ( (state.player[0]%13===12) || (state.player[1]%13===12) );
          riverAct = (hasPairShowdown||aceHigh)?'call1':'fold';
        }
      }
    }
    const recPlay = preflop==='raise3' ? state.ante*3 : (flopAct==='raise2' ? state.ante*2 : (riverAct==='call1' ? state.ante*1 : 0));
    const recFold = (preflop==='raise3'||flopAct==='raise2') ? false : (riverAct==='fold');
    return {preflop, flop:flopAct, river:riverAct, recPlay, recFold};
  }

  function settleHyp(playAmt, doFold){
    let AnteH=0, BlindH=0, PlayH=0;
    if(doFold){
      AnteH=0; PlayH=0; BlindH=0;
    }else if(cmp>0){
      PlayH = playAmt>0 ? playAmt*2 : 0;
      AnteH = dealerQual ? ante*2 : ante;
      BlindH = BLIND_WIN_PAY[pe.cls] ? blind*(BLIND_WIN_PAY[pe.cls]+1) : blind;
    }else if(cmp<0){
      PlayH = 0; AnteH = 0;
      BlindH = BAD_BEAT_PAY[pe.cls] ? blind*BAD_BEAT_PAY[pe.cls] : 0;
    }else{
      PlayH = playAmt>0 ? playAmt : 0; AnteH = ante; BlindH = blind;
    }
    const NetH = AnteH+BlindH+PlayH+tripsPay+pocketPay;
    const investedH = ante+blind+(playAmt>0?playAmt:0)+(trips>0?trips:0)+(pocket>0?pocket:0);
    const ProfitH = NetH - investedH;
    return {NetH, ProfitH};
  }

  const rec = recommendWoO();
  const hyp = settleHyp(rec.recPlay, rec.recFold);
  const followed = (
    (state.actions.preflop===rec.preflop) &&
    ((rec.preflop==='raise3') || (state.actions.flop===rec.flop)) &&
    ((rec.preflop==='raise3'||rec.flop==='raise2') || (state.actions.river===rec.river))
  );
  const strategyNote = `WoO Chart - ${followed?'<span class="win">Followed</span>':'<span class="loss">Deviated</span>'}; Rec: ${rec.preflop}${rec.flop?`, ${rec.flop}`:''}${rec.river?`, ${rec.river}`:''}; Hypo Net <b>${fmt(hyp.ProfitH)}</b> (Diff ${fmt(hyp.ProfitH-Profit)})`;
  const ocClass=cmp>0?"win":(cmp<0?"loss":"push");
  const outcomeHtml=`<span class="${ocClass}">${cmp>0?"player win":(cmp<0?"dealer win":"push")}</span>`;
  const detail=`Ante ${fmt(Ante)}, Odds ${fmt(Blind)}, Play ${fmt(Play)}, Trips ${fmt(tripsPay)}, Pocket ${fmt(pocketPay)}, Net <b>${fmt(Profit)}</b> <span class="muted">(You: ${pe.cls}, Dealer: ${de.cls}${dealerQual?" qualifies":", no-qual"})</span><br/><span class="muted">${strategyNote}</span>`;
  return {playerNet:Net, playerOutcomeHtml:outcomeHtml, playerLogHtml:`Result - ${outcomeHtml}: ${detail}`, pClass:pe.cls, dClass:de.cls, cmp, profit:Profit, outcome, breakdown, betResults, strategy:{followed, delta:(hyp.ProfitH-Profit), hypProfit:hyp.ProfitH, rec}};
}
function pocketBonusPayout(hole,wager){
  const r0=RANKS[hole[0]%13], r1=RANKS[hole[1]%13];
  const s0=SUITS[Math.floor(hole[0]/13)], s1=SUITS[Math.floor(hole[1]/13)];
  const pair=(r0===r1); const hasAce=(r0==='A'||r1==='A');
  const otherRank=hasAce?(r0==='A'?r1:r0):null; const suited=(s0===s1);
  if(wager<=0) return 0;
  if(pair&&r0==='A') return wager*(POCKET_PAY.pair_aces + 1);
  if(pair&&r0!=='A') return wager*(POCKET_PAY.other_pair + 1);
  if(hasAce&&otherRank&&['K','Q','J'].includes(otherRank)&&suited) return wager*(POCKET_PAY.ace_face_suited + 1);
  if(hasAce&&otherRank&&['K','Q','J'].includes(otherRank)&&!suited) return wager*(POCKET_PAY.ace_face_off + 1);
  // No qualifying pocket bonus: no return (loss already counted in invested)
  return 0;
}
function fmt(x){ return formatCurrency(x); }

// Bankroll chart setup and rendering
function setupCharts(){
  // Initialize arrays at start
  if(!Array.isArray(state.bankHistory)) state.bankHistory=[];
  if(!Array.isArray(state.handProfits)) state.handProfits=[];
  if(!Array.isArray(state.handFollowed)) state.handFollowed=[];
  if(!Array.isArray(state.handHypProfits)) state.handHypProfits=[];
  if(!Array.isArray(state.handClasses)) state.handClasses=[];
  if(!Array.isArray(state.handOutcomes)) state.handOutcomes=[];
  if(!Array.isArray(state.handBetBreakdown)) state.handBetBreakdown=[];
  if(state.bankHistory.length===0){ state.bankHistory=[state.bank]; }
  const miniWrap = document.getElementById('chartMiniWrap');
  const mini = document.getElementById('chartMini');
  if(miniWrap && mini){
    // Capture initial canvas height (in CSS px) to keep it fixed
    const h0 = Math.round((mini.getBoundingClientRect().height)||162);
    if(h0>0) mini.dataset.h0 = String(h0);
    miniWrap.onclick = openChartModal;
  }
  const closeBtn = document.getElementById('chartClose');
  if(closeBtn){ closeBtn.onclick = closeChartModal; }
  window.addEventListener('resize', ()=>{ drawMiniChart(); if(isChartOpen()) drawLargeChart(); });
  drawMiniChart();
}
function isChartOpen(){ const m=document.getElementById('chartModal'); return m && m.style.display==='block'; }
function openChartModal(){ const m=document.getElementById('chartModal'); if(!m) return; m.style.display='block'; drawLargeChart(); }
function closeChartModal(){ const m=document.getElementById('chartModal'); if(!m) return; m.style.display='none'; }

function recordHand(profit, followed, hypProfit, pClass, outcome, breakdown){
  // Append profit and resulting bank to histories
  if(!Array.isArray(state.handProfits)) state.handProfits=[];
  state.handProfits.push(Number(profit)||0);
  if(Array.isArray(state.handFollowed)) state.handFollowed.push(typeof followed==='boolean'?followed:null);
  if(Array.isArray(state.handHypProfits)) state.handHypProfits.push((hypProfit!==undefined&&hypProfit!==null)?Number(hypProfit):null);
  if(Array.isArray(state.handClasses)) state.handClasses.push(pClass||null);
  if(Array.isArray(state.handOutcomes)) state.handOutcomes.push(outcome||null);
  if(Array.isArray(state.handBetBreakdown)) state.handBetBreakdown.push(breakdown||null);
  state.bankHistory.push(state.bank);
  const metrics = state.metrics || (state.metrics = {followed:0, deviated:0, totalDelta:0, totalProfit:0, handRecord:{win:0,loss:0,push:0}, betProfit:{play:0,trips:0,pocket:0}, betTotals:{play:0,ante:0,blind:0,trips:0,pocket:0}});
  if(!metrics.handRecord) metrics.handRecord = {win:0,loss:0,push:0};
  if(!metrics.betProfit) metrics.betProfit = {play:0,trips:0,pocket:0};
  if(!metrics.betTotals) metrics.betTotals = {play:0,ante:0,blind:0,trips:0,pocket:0};
  if(outcome){
    if(outcome==='win') metrics.handRecord.win += 1;
    else if(outcome==='loss') metrics.handRecord.loss += 1;
    else if(outcome==='push') metrics.handRecord.push += 1;
  }
  if(breakdown && typeof breakdown.play==='number') metrics.betProfit.play += breakdown.play;
  if(breakdown && typeof breakdown.trips==='number') metrics.betProfit.trips += breakdown.trips;
  if(breakdown && typeof breakdown.pocket==='number') metrics.betProfit.pocket += breakdown.pocket;
  if(breakdown && typeof breakdown.betPlay==='number') metrics.betTotals.play += breakdown.betPlay;
  if(breakdown && typeof breakdown.betAnte==='number') metrics.betTotals.ante += breakdown.betAnte;
  if(breakdown && typeof breakdown.betBlind==='number') metrics.betTotals.blind += breakdown.betBlind;
  if(breakdown && typeof breakdown.betTrips==='number') metrics.betTotals.trips += breakdown.betTrips;
  if(breakdown && typeof breakdown.betPocket==='number') metrics.betTotals.pocket += breakdown.betPocket;
  updateMiniStats();
  drawMiniChart(); if(isChartOpen()) drawLargeChart();
}

function getCssColor(varName, fallback){
  const v = getComputedStyle(document.documentElement).getPropertyValue(varName).trim();
  return v || fallback;
}

let miniPanelsClampFrame = null;
let miniPanelsClampInit = false;
let miniPanelsClampObserver = null;

function applyMiniPanelsClamp(){
  try{
    const container = document.getElementById('bankrollBelowTable');
    if(!container) return;
    const panels = container.querySelector('.mini-panels');
    const sticky = document.querySelector('.sticky-actions');
    if(!panels || !sticky) return;

    const stickyRect = sticky.getBoundingClientRect();
    const panelRect = panels.getBoundingClientRect();
    if(!stickyRect || !panelRect) return;

    const gap = Math.floor(stickyRect.top - panelRect.top - 12);
    if(gap <= 0){
      panels.style.removeProperty('max-height');
      panels.removeAttribute('data-max-clamp');
      return;
    }

    const prev = Number(panels.getAttribute('data-max-clamp') || '0');
    if(prev !== gap){
      panels.setAttribute('data-max-clamp', String(gap));
      panels.style.maxHeight = gap + 'px';
    }
    panels.style.overflowY = 'auto';
    panels.style.webkitOverflowScrolling = 'touch';
  }catch(e){}
}

function scheduleMiniPanelsClamp(){
  if(!miniPanelsClampInit){
    miniPanelsClampInit = true;
    window.addEventListener('resize', scheduleMiniPanelsClamp);
    window.addEventListener('load', scheduleMiniPanelsClamp);
  }

  const container = document.getElementById('bankrollBelowTable');
  const panels = container ? container.querySelector('.mini-panels') : null;
  const sticky = document.querySelector('.sticky-actions');

  if(!container || !panels || !sticky){
    return;
  }

  if(miniPanelsClampObserver === null && 'ResizeObserver' in window){
    miniPanelsClampObserver = new ResizeObserver(()=> scheduleMiniPanelsClamp());
    [container, panels, sticky].forEach(el=>{ if(el) miniPanelsClampObserver.observe(el); });
  }

  if(miniPanelsClampFrame !== null){
    return;
  }

  miniPanelsClampFrame = requestAnimationFrame(()=>{
    miniPanelsClampFrame = null;
    applyMiniPanelsClamp();
  });
}

scheduleMiniPanelsClamp();

function drawMiniChart(){
  const c = document.getElementById('chartMini'); if(!c) return;
  const wrap = c.parentElement; if(!wrap) return;
  let wrapExtras = 0;
  try{
    const wrapStyle = getComputedStyle(wrap);
    wrapExtras = (parseFloat(wrapStyle.paddingLeft)||0) + (parseFloat(wrapStyle.paddingRight)||0) + (parseFloat(wrapStyle.borderLeftWidth)||0) + (parseFloat(wrapStyle.borderRightWidth)||0);
  }catch(e){ wrapExtras = 0; }
  if(!Number.isFinite(wrapExtras) || wrapExtras < 0) wrapExtras = 0;
  // Prefer matching the actual table width
  const rowEl = wrap.parentElement; // .chart-row
  const legendEl = document.getElementById('chartLegendMini');
  const tableEl = document.getElementById('table');
  const tableW = tableEl && tableEl.getBoundingClientRect ? Math.round(tableEl.getBoundingClientRect().width || 0) : 0;
  const panelEl = wrap.closest('.chart-panel') || wrap.parentElement;
  const rowW = (panelEl && panelEl.clientWidth) ? panelEl.clientWidth : (wrap.clientWidth || 300);
  let panelInnerW = rowW;
  if(panelEl && panelEl.getBoundingClientRect){
    panelInnerW = Math.round(panelEl.getBoundingClientRect().width || rowW);
    try{
      const pcs = getComputedStyle(panelEl);
      panelInnerW -= (parseFloat(pcs.paddingLeft)||0) + (parseFloat(pcs.paddingRight)||0);
    }catch(e){}
  }
  const viewportW = window.innerWidth || (document.documentElement && document.documentElement.clientWidth) || rowW;
  let cssMax = 0;
  try{
    const cssVal = getComputedStyle(document.documentElement).getPropertyValue('--mini-chart-max-width').trim();
    if(cssVal){
      const parsed = parseFloat(cssVal);
      if(!Number.isNaN(parsed) && parsed > 0){ cssMax = Math.round(parsed); }
    }
  }catch(e){}
  const widthLimits = [];
  const pushLimit = v => { if(Number.isFinite(v) && v > 0) widthLimits.push(v); };
  pushLimit(tableW - wrapExtras);
  pushLimit(panelInnerW - wrapExtras);
  pushLimit(rowW - wrapExtras);
  pushLimit((viewportW||0) - 32 - wrapExtras);
  if(cssMax > 0) pushLimit(cssMax - wrapExtras);
  let maxCandidate;
  if(widthLimits.length){
    maxCandidate = Math.min(...widthLimits);
  }else{
    const fallback = (rowW || 260) - wrapExtras;
    maxCandidate = Number.isFinite(fallback) && fallback > 0 ? fallback : 260;
    if(cssMax > 0){
      maxCandidate = Math.min(maxCandidate, Math.max(0, cssMax - wrapExtras));
    }
    if(viewportW > 0){
      maxCandidate = Math.min(maxCandidate, Math.max(0, viewportW - 32 - wrapExtras));
    }
  }
  if(!Number.isFinite(maxCandidate) || maxCandidate <= 0){
    maxCandidate = Math.max(0, (rowW || 260) - wrapExtras);
  }
  let maxW = Math.max(0, Math.round(maxCandidate));
  if(maxW <= 0){
    const fallbackWidth = Math.max(0, Math.round((rowW || 260) - wrapExtras));
    maxW = fallbackWidth > 0 ? fallbackWidth : 200;
  }
  if(cssMax > 0){
    const cssCap = Math.max(0, Math.round(cssMax - wrapExtras));
    if(cssCap > 0) maxW = Math.min(maxW, cssCap);
  }
  if(panelInnerW > 0){
    const panelCap = Math.max(0, Math.round(panelInnerW - wrapExtras));
    if(panelCap > 0) maxW = Math.min(maxW, panelCap);
  }
  if(rowW > 0){
    const rowCap = Math.max(0, Math.round(rowW - wrapExtras));
    if(rowCap > 0) maxW = Math.min(maxW, rowCap);
  }
  if(viewportW > 0){
    const viewportCap = Math.max(0, Math.round(viewportW - 32 - wrapExtras));
    if(viewportCap > 0) maxW = Math.min(maxW, viewportCap);
  }
  if(maxW < 0 || !Number.isFinite(maxW)) maxW = 0;
  // Start small and grow with hands played (bankHistory excludes starting point)
  const handsPlayed = Math.max(0, ((state.bankHistory||[]).length - 1));
  const FULL_AT = 30; // reach full width by this many hands
  const minW = Math.min(maxW, Math.max(180, Math.round(maxW * 0.35))); // at least 180px or ~35% of table
  const t = Math.min(1, handsPlayed / FULL_AT);
  const wWrap = Math.round(minW + (maxW - minW) * t);
  const targetW = Math.min(wWrap, maxW);
  // Apply wrapper width within available space
  wrap.style.width = targetW + 'px';
  wrap.style.maxWidth = maxW + 'px';
  wrap.style.marginLeft = 'auto';
  wrap.style.marginRight = 'auto';
  wrap.style.overflowX = 'auto';
  wrap.style.overflowY = 'hidden';
  // Compute available vertical space between this chart container and the sticky actions bar
  let availH = 0;
  try{
    const container = document.getElementById('bankrollBelowTable') || rowEl || wrap;
    const sticky = document.querySelector('.sticky-actions');
    const vpH = window.innerHeight || (document.documentElement && document.documentElement.clientHeight) || 800;
    const containerTop = (container && container.getBoundingClientRect) ? container.getBoundingClientRect().top : 0;
    const stickyTop = (sticky && sticky.getBoundingClientRect) ? sticky.getBoundingClientRect().top : vpH;
    // Leave a small gap (12px) above the sticky bar
    availH = Math.max(120, Math.floor(stickyTop - containerTop - 12));
    // Subtract wrapper vertical padding and title height so the canvas fits perfectly
    let padV = 0; let titleH = 0;
    try{
      const cs = getComputedStyle(wrap);
      padV = (parseFloat(cs.paddingTop||'0')||0) + (parseFloat(cs.paddingBottom||'0')||0);
    }catch(e){}
    try{
      const titleEl = wrap.querySelector('.chart-title');
      if(titleEl){ titleH = Math.round(titleEl.getBoundingClientRect().height||0); }
    }catch(e){}
    // Cap legend height to available space and make it scrollable
    try{
      if(legendEl){
        const legendMax = Math.max(120, availH);
        legendEl.style.maxHeight = legendMax + 'px';
        legendEl.style.overflowY = 'auto';
      }
    }catch(e){}
    availH = Math.max(120, availH - padV - titleH);
  }catch(e){ availH = Number(c.dataset.h0)||162; }
  const h = availH || (Number(c.dataset.h0)||162);

  // Determine when to enable horizontal scrolling by letting canvas exceed wrapper
  const profitsCount = Math.max(0, (state.handProfits||[]).length);
  const vw = window.innerWidth || maxW || 1024;
  const overflowAt = vw < 640 ? 50 : (vw < 875 ? 75 : 100);
  const pxPerHand = vw < 640 ? 10 : (vw < 875 ? 12 : 14);
  // Include padding used in drawChartCore
  const L_PAD = 38, R_PAD = 48;
  let wCanvas = wWrap;
  if(profitsCount > overflowAt){
    const desired = L_PAD + R_PAD + Math.round(pxPerHand * Math.max(1, profitsCount));
    wCanvas = Math.max(wWrap, desired);
  }

  sizeCanvas(c, wCanvas, h);
  // Keep the newest games in view by default
  try{ if(wCanvas > wWrap){ wrap.scrollLeft = wrap.scrollWidth; } }catch(e){}
  drawChartCore(c, true);
  scheduleMiniPanelsClamp();
}
function drawLargeChart(){
  const c = document.getElementById('chartLarge'); if(!c) return;
  const wrap = c.parentElement;
  const w = Math.max(300, wrap.clientWidth - 0);
  // Limit large chart height to the viewport width (minus modal insets and header/title)
  const vpW = (window.innerWidth || (document.documentElement && document.documentElement.clientWidth) || 800);
  const vpH = (window.innerHeight || (document.documentElement && document.documentElement.clientHeight) || 800);
  // Modal insets are 24px top + 24px bottom
  const maxInnerH = Math.max(200, Math.min(vpH - 48, vpW));
  let padV = 0, headH = 0, titleH = 0;
  try{
    const inner = document.querySelector('#chartModal .inner');
    if(inner){
      const cs = getComputedStyle(inner);
      padV = (parseFloat(cs.paddingTop||'0')||0) + (parseFloat(cs.paddingBottom||'0')||0);
      const head = inner.querySelector('.head');
      if(head){ headH = Math.round(head.getBoundingClientRect().height||0); }
      const title = inner.querySelector('.chart-title');
      if(title){ titleH = Math.round(title.getBoundingClientRect().height||0); }
    }
  }catch(e){}
  // Target height: fit within inner's capped height; also cap to 540px baseline
  let h = Math.min(540, Math.floor(maxInnerH - padV - headH - titleH - 8));
  if(!isFinite(h) || h < 80) h = 80; // ensure sensible minimum without forcing overflow
  sizeCanvas(c, w, h);
  drawChartCore(c, false);
}
function sizeCanvas(canvas, cssW, cssH){ const dpr= window.devicePixelRatio||1; canvas.width = Math.floor(cssW*dpr); canvas.height=Math.floor(cssH*dpr); canvas.style.width=cssW+'px'; canvas.style.height=cssH+'px'; const ctx=canvas.getContext('2d'); ctx.setTransform(dpr,0,0,dpr,0,0); }

function drawChartCore(canvas, mini){
  const ctx = canvas.getContext('2d'); const W = parseInt(canvas.style.width)||canvas.width; const H = parseInt(canvas.style.height)||canvas.height;
  ctx.clearRect(0,0,W,H);
  const leftPad=38, rightPad=48, topPad=10, bottomPad=18; const cw=W-leftPad-rightPad, ch=H-topPad-bottomPad;
  if(cw<=0||ch<=0) return;
  const lineColor = getCssColor('--accent','#35c48d');
  const gridColor = 'rgba(255,255,255,0.08)';
  const textColor = getCssColor('--text','#ffffff');
  // Bar colors sourced from CSS variables (single source of truth)
  const barWinColor = getCssColor('--bar-win', getCssColor('--win','#2aa66e'));
  const barLoseColor = getCssColor('--bar-loss', getCssColor('--lose','#c94a4a'));
  const barDevWinColor = getCssColor('--bar-dev-win', '#87A89A');
  const barDevLoseColor = getCssColor('--bar-dev-loss', '#B08F8F');
  const hypoColor = getCssColor('--push','#8db6ff');

  const banks = state.bankHistory; const profits = state.handProfits; const followedArr = state.handFollowed||[]; const hypProf = state.handHypProfits||[];
  if(!banks || banks.length<1){ return; }
  const bMin = Math.min(...banks), bMax = Math.max(...banks);
  const pad = Math.max(5, (bMax-bMin)*0.05);
  const y1min = bMin - pad, y1max = bMax + pad;
  const y1 = v => topPad + (y1max - v) * (ch/(y1max - y1min || 1));
  // Profit scale
  const pMinRaw = profits.length?Math.min(0, ...profits): -1;
  const pMaxRaw = profits.length?Math.max(0, ...profits): 1;
  const pPad = Math.max(1, (pMaxRaw-pMinRaw)*0.1);
  const y2min = pMinRaw - pPad, y2max = pMaxRaw + pPad;
  const y2 = v => topPad + (y2max - v) * (ch/(y2max - y2min || 1));
  const y2zero = y2(0);

  // Axes & grid
  ctx.strokeStyle=gridColor; ctx.lineWidth=1;
  // Horizontal grid 3 lines
  for(let i=0;i<=2;i++){ const gy = topPad + (ch*i/2); ctx.beginPath(); ctx.moveTo(leftPad, gy); ctx.lineTo(W-rightPad, gy); ctx.stroke(); }
  // Vertical grid
  const steps = Math.max(2, Math.min(10, banks.length));
  for(let i=0;i<=steps;i++){ const gx = leftPad + (cw*i/steps); ctx.beginPath(); ctx.moveTo(gx, topPad); ctx.lineTo(gx, topPad+ch); ctx.stroke(); }

  // Starting bankroll baseline (mini chart only)
  if(banks && banks.length){
    const yStart = y1(banks[0]);
    ctx.save(); ctx.setLineDash([6,4]);
    ctx.strokeStyle = 'rgba(237,220,255,0.45)'; ctx.lineWidth = 1;
    ctx.beginPath(); ctx.moveTo(leftPad, yStart); ctx.lineTo(W - rightPad, yStart); ctx.stroke();
    ctx.restore();
  }
  // Labels style
  ctx.fillStyle = textColor; ctx.font = (mini?'10px':'12px')+"/1 system-ui,Segoe UI,Arial";
  const midB = (y1min+y1max)/2; ctx.textAlign='left'; ctx.textBaseline='middle';
  ctx.fillText('$'+Math.round(y1max), 4, y1(y1max));
  ctx.fillText('$'+Math.round(midB), 4, y1(midB));
  ctx.fillText('$'+Math.round(y1min), 4, y1(y1min));
  // Right-side profit axis labels: render inside right padding and prefix with $
  ctx.textAlign='left';
  const rx = W - rightPad + 2;
  ctx.fillText('$'+Math.round(y2max), rx, y2(y2max));
  ctx.fillText('$0', rx, y2zero);
  ctx.fillText('$'+Math.round(y2min), rx, y2(y2min));
  // ctx.fillText('0', W-4, y2zero); // duplicate label removed

  // Bankroll line
  if(banks.length>=1){
    ctx.strokeStyle=lineColor; ctx.lineWidth=mini?2:3; ctx.beginPath();
    const n=banks.length; for(let i=0;i<n;i++){ const x = leftPad + (cw*(i/(n-1||1))); const y = y1(banks[i]); if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y); }
    ctx.stroke();
  }
  // Hypothetical bankroll line (WoO followed)
  if(profits.length){
    const start = banks[0]||0; let sum=0; const hb=[start];
    for(let i=0;i<profits.length;i++){ const hp = (hypProf[i]!==null && hypProf[i]!==undefined && isFinite(hypProf[i]))? Number(hypProf[i]) : Number(profits[i]||0); sum += hp; hb.push(start + sum); }
    ctx.strokeStyle=hypoColor; ctx.lineWidth=mini?2:2; ctx.beginPath();
    const m=hb.length; for(let i=0;i<m;i++){ const x = leftPad + (cw*(i/(m-1||1))); const y = y1(hb[i]); if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y); }
    ctx.stroke();
  }
  // Profit bars per hand
  if(profits.length){
    const n=profits.length; const barW = cw/Math.max(n,1)*0.55;
    for(let i=0;i<n;i++){
      const v=profits[i]; const cx= leftPad + (cw*((i+0.5)/Math.max(n,1))); const yv=y2(v);
      const deviated = (followedArr[i]===false);
      ctx.fillStyle = deviated ? (v>=0?barDevWinColor:barDevLoseColor) : (v>=0?barWinColor:barLoseColor);
      const x= cx - barW/2; const y = Math.min(yv, y2zero); const h = Math.abs(yv - y2zero);
      ctx.fillRect(x, y, barW, h);
    }
    // X-axis hand number labels (sparse to avoid clutter)
    ctx.save();
    ctx.fillStyle = textColor; ctx.textAlign='center'; ctx.textBaseline='top';
    const maxLabels = mini ? 8 : 14;
    const step = Math.max(1, Math.ceil(n / maxLabels));
    const yLabel = topPad + ch + 2; // inside bottom padding
    for(let i=0;i<n;i+=step){ const cx= leftPad + (cw*((i+0.5)/Math.max(n,1))); ctx.fillText(String(i+1), cx, yLabel); }
    // Always label last hand if not already labeled
    if((n-1)%step!==0){ const cxLast = leftPad + (cw*((n-0.5)/Math.max(n,1))); ctx.fillText(String(n), cxLast, yLabel); }
    ctx.restore();
  }
}

const miniContainer = document.getElementById('bankrollBelowTable');
const miniSwapBtn = document.getElementById('miniSwapToggle');
let miniViewMode = 'stats';

function setMiniPanels(view){
  miniViewMode = view === 'chart' ? 'chart' : 'stats';
  if(miniSwapBtn){
    const label = miniViewMode === 'chart' ? 'Show stats' : 'Show chart';
    miniSwapBtn.setAttribute('aria-label', label);
    miniSwapBtn.setAttribute('title', label);
  }
  if(!miniContainer) return;
  if(window.innerWidth >= 1100){
    miniContainer.classList.remove('show-stats','show-chart');
    return;
  }
  miniContainer.classList.remove('show-stats','show-chart');
  miniContainer.classList.add(miniViewMode === 'chart' ? 'show-chart' : 'show-stats');
  if(miniViewMode === 'chart'){ drawMiniChart(); }
  scheduleMiniPanelsClamp();
}

function updateMiniLayout(){
  if(!miniContainer) return;
  if(window.innerWidth >= 1100){
    miniContainer.classList.remove('show-stats','show-chart');
  }else{
    setMiniPanels(miniViewMode);
  }
  scheduleMiniPanelsClamp();
}

if(miniSwapBtn){
  miniSwapBtn.addEventListener('click', ()=>{
    const next = miniViewMode === 'stats' ? 'chart' : 'stats';
    setMiniPanels(next);
  });
}
window.addEventListener('resize', updateMiniLayout);
updateMiniLayout();


// IndexedDB helpers for persisting session summaries
async function _openSessionDB(){
  return new Promise((resolve, reject)=>{
    try{
      const req = window.indexedDB.open('HeadsUpHoldEmDB', 1);
      req.onupgradeneeded = (e)=>{
        const db = req.result;
        if(!db.objectStoreNames.contains('sessions')){
          const store = db.createObjectStore('sessions', { keyPath: 'id' });
          store.createIndex('byPlayer', 'player', { unique:false });
        }
      };
      req.onsuccess = ()=> resolve(req.result);
      req.onerror = ()=> reject(req.error||new Error('indexedDB open failed'));
    }catch(err){ reject(err); }
  });
}
async function _nextSessionNo(player){
  const db = await _openSessionDB();
  return new Promise((resolve, reject)=>{
    try{
      const tx = db.transaction('sessions','readonly');
      const store = tx.objectStore('sessions');
      const idx = store.index('byPlayer');
      const req = idx.openCursor(IDBKeyRange.only(player));
      let maxNo = 0;
      req.onsuccess = (e)=>{
        const cur = e.target.result;
        if(cur){
          const v = cur.value && typeof cur.value.sessionNo==='number' ? cur.value.sessionNo : 0;
          if(v>maxNo) maxNo=v; cur.continue();
        }else{ resolve(maxNo+1); }
      };
      req.onerror = ()=> reject(req.error||new Error('cursor failed'));
    }catch(err){ reject(err); }
  });
}
async function saveSessionSummary(summary){
  const player = summary.player || '-';
  if(!summary.sessionNo || !(summary.sessionNo>0)){
    try{ summary.sessionNo = await _nextSessionNo(player); }catch(e){ summary.sessionNo = 1; }
  }
  summary.id = `${player}::${String(summary.sessionNo).padStart(6,'0')}`;
  const db = await _openSessionDB();
  return new Promise((resolve, reject)=>{
    try{
      const tx = db.transaction('sessions','readwrite');
      tx.oncomplete = ()=> resolve(summary);
      tx.onerror = ()=> reject(tx.error||new Error('tx failed'));
      tx.objectStore('sessions').put(summary);
    }catch(err){ reject(err); }
  });
}

// List unique players from DB
async function listPlayers(){
  try{
    const db = await _openSessionDB();
    return new Promise((resolve, reject)=>{
      try{
        const tx = db.transaction('sessions','readonly');
        const idx = tx.objectStore('sessions').index('byPlayer');
        const out = [];
        const req = idx.openKeyCursor(null, 'nextunique');
        req.onsuccess = (e)=>{
          const cur = e.target.result;
          if(cur){ out.push(cur.key); cur.continue(); }
          else resolve(out);
        };
        req.onerror = ()=> reject(req.error||new Error('listPlayers failed'));
      }catch(err){ resolve([]); }
    });
  }catch(e){ return []; }
}

// Get all sessions for a player
async function getSessions(player){
  const db = await _openSessionDB();
  return new Promise((resolve, reject)=>{
    try{
      const tx = db.transaction('sessions','readonly');
      const idx = tx.objectStore('sessions').index('byPlayer');
      const req = idx.getAll(player);
      req.onsuccess = ()=>{
        const arr = Array.isArray(req.result)?req.result:[];
        arr.sort((a,b)=> (a.sessionNo||0) - (b.sessionNo||0));
        resolve(arr);
      };
      req.onerror = ()=> reject(req.error||new Error('getAll failed'));
    }catch(err){ resolve([]); }
  });
}

async function deletePlayer(name){
  if(!name) return 0;
  const db = await _openSessionDB();
  return new Promise((resolve, reject)=>{
    try{
      const tx = db.transaction('sessions','readwrite');
      const store = tx.objectStore('sessions');
      const idx = store.index('byPlayer');
      let removed = 0;
      const req = idx.openCursor(IDBKeyRange.only(name));
      req.onsuccess = (e)=>{
        const cur = e.target.result;
        if(cur){
          try{
            cur.delete();
            removed += 1;
            cur.continue();
          }catch(err){ reject(err); return; }
        }else{ resolve(removed); }
      };
      req.onerror = ()=> reject(req.error||new Error('delete failed'));
      tx.onerror = ()=> reject(tx.error||new Error('delete tx failed'));
    }catch(err){ reject(err); }
  });
}

// Open Player Stats modal for current player
async function openStatsModal(playerOverride){
  const modal = document.getElementById('statsModal');
  const tbody = document.querySelector('#statsTable tbody');
  const empty = document.getElementById('statsEmpty');
  const meta = document.getElementById('statsMeta');
  const statsSummaryEl = document.getElementById('statsSummary');
  const statsTotalsEl = document.getElementById('statsTotals');
  const name = (playerOverride && playerOverride.trim()) || (state.playerName || localStorage.getItem('huhe.playerName') || '-');
  if(meta) meta.textContent = `Player: ${name}`;
  if(tbody) tbody.innerHTML = '';
  if(statsSummaryEl) statsSummaryEl.innerHTML = '';
  if(statsTotalsEl) statsTotalsEl.innerHTML = '';
  if(empty) empty.style.display = 'none';
  try {
    const rows = await getSessions(name);
    if(!rows || rows.length===0){
      if(empty) empty.style.display='block';
      if(statsSummaryEl) statsSummaryEl.innerHTML = '';
      if(statsTotalsEl) statsTotalsEl.innerHTML = '';
    }else{
      if(empty) empty.style.display='none';
      const fmtDT = (ts)=>{ try{ return new Date(ts).toLocaleString(undefined, { year:'numeric', month:'short', day:'numeric', hour:'numeric', minute:'numeric' }); }catch(e){ return '-' ; } };
      const formatPercent = (value, denom)=> denom>0 ? `${((value/denom)*100).toFixed(1)}%` : '0.0%';
      const labelRank = { 'Royal Flush':9, 'Straight Flush':8, 'Four Kind':7, 'Full House':6, 'Flush':5, 'Straight':4, 'Three Kind':3, 'Two Pair':2, 'One Pair':1, 'High Card':0 };
      const frag = document.createDocumentFragment();
      let totalSessions = rows.length;
      let totalHands=0,totalProfit=0,totalBaseBet=0,totalTripsBet=0,totalPocketBet=0,totalTotalBet=0,totalFollowed=0,totalHypo=0,totalWins=0,totalLosses=0,totalPushes=0,totalPlayProfit=0,totalTripsProfit=0,totalPocketProfit=0;
      const bestCounter = {};
      rows.forEach(r=>{
        const wins = Number(r.wins||0);
        const losses = Number(r.losses||0);
        const pushes = Number(r.pushes||0);
        const recordStr = `${wins}-${losses}-${pushes}`;
        const totalBet = Number(r.totalBet||0);
        const baseBet = Number(r.playAnteOddsBet||r.baseBet||0);
        const tripsBet = Number(r.tripsBet||0);
        const pocketBet = Number(r.pocketBet||0);
        const playProfit = Number(r.playProfit||0);
        const tripsProfit = Number(r.tripsProfit||0);
        const pocketProfit = Number(r.pocketProfit||0);
        const profitVal = Number(r.profit||0);
        const hypoVal = Number(r.hypoProfit||0);
        const followedVal = Number(r.wooFollowed||0);
        const handsVal = Number(r.hands||0);
        totalHands += handsVal;
        totalTotalBet += totalBet;
        totalBaseBet += baseBet;
        totalTripsBet += tripsBet;
        totalPocketBet += pocketBet;
        totalProfit += profitVal;
        totalPlayProfit += playProfit;
        totalTripsProfit += tripsProfit;
        totalPocketProfit += pocketProfit;
        totalFollowed += followedVal;
        totalHypo += hypoVal;
        totalWins += wins; totalLosses += losses; totalPushes += pushes;
        const bestLabelSession = r.bestHandLabel || '-';
        const bestCountSession = Number(r.bestHandCount||0) || (bestLabelSession && bestLabelSession !== '-' ? 1 : 0);
        if(bestLabelSession){ bestCounter[bestLabelSession] = (bestCounter[bestLabelSession]||0) + bestCountSession; }
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td style="padding:6px; border-bottom:1px solid #24365d;">${r.sessionNo||'-'}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d; white-space:nowrap;">${fmtDT(r.sessionStart)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">$${r.startBank||0}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">$${r.endBank||0}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${handsVal}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${recordStr}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${formatCurrency(totalBet)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${formatCurrency(baseBet)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${formatCurrency(tripsBet)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${formatCurrency(pocketBet)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${fmt(profitVal)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${fmt(playProfit)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${fmt(tripsProfit)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${fmt(pocketProfit)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${followedVal} / ${handsVal||0}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${fmt(hypoVal)}</td>
          <td style="padding:6px; border-bottom:1px solid #24365d;">${(r.bestHandLabel||'-')} ${bestCountSession>0?("x "+bestCountSession):""}</td>`;
        frag.appendChild(tr);
      });
      if(tbody) tbody.appendChild(frag);
      const avgHands = totalSessions ? totalHands / totalSessions : 0;
      const followRate = totalHands ? (totalFollowed / totalHands) * 100 : 0;
      const followDisplay = totalHands ? `${totalFollowed}/${totalHands} (${followRate.toFixed(1)}%)` : `${totalFollowed}/0 (0.0%)`;
      let bestLabel = '-'; let bestCount = 0; let bestRankScore = -1;
      for(const [label,count] of Object.entries(bestCounter)){
        const rank = labelRank[label] !== undefined ? labelRank[label] : -1;
        if(rank > bestRankScore || (rank === bestRankScore && count > bestCount)){
          bestRankScore = rank;
          bestLabel = label;
          bestCount = count;
        }
      }
      if(bestLabel === '-' && bestCounter['-']){ bestCount = bestCounter['-']; }
      const totalProfitDisplay = `${fmt(totalProfit)} (${formatPercent(totalProfit, totalTotalBet)})`;
      const playProfitDisplay = `${fmt(totalPlayProfit)} (${formatPercent(totalPlayProfit, totalBaseBet)})`;
      const tripsProfitDisplay = `${fmt(totalTripsProfit)} (${formatPercent(totalTripsProfit, totalTripsBet)})`;
      const pocketProfitDisplay = `${fmt(totalPocketProfit)} (${formatPercent(totalPocketProfit, totalPocketBet)})`;
      if(statsTotalsEl){
        statsTotalsEl.innerHTML = `
          <div class="mini-stat-item"><div class="mini-stat-label">Hands</div><div class="mini-stat-value">${totalHands}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Hand Record (W-L-P)</div><div class="mini-stat-value">${totalWins}-${totalLosses}-${totalPushes}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Total Bet</div><div class="mini-stat-value">${formatCurrency(totalTotalBet)}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Total Profit</div><div class="mini-stat-value">${totalProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Play/Ante/Odds Profit</div><div class="mini-stat-value">${playProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Trips Profit</div><div class="mini-stat-value">${tripsProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Pocket Profit</div><div class="mini-stat-value">${pocketProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Followed</div><div class="mini-stat-value">${followDisplay}</div></div>`;
      }
      if(statsSummaryEl){
        statsSummaryEl.innerHTML = `
          <div class="mini-stat-item"><div class="mini-stat-label">Sessions</div><div class="mini-stat-value">${totalSessions}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Total Hands</div><div class="mini-stat-value">${totalHands}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Avg Hands / Session</div><div class="mini-stat-value">${avgHands.toFixed(1)}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Hand Record (W-L-P)</div><div class="mini-stat-value">${totalWins}-${totalLosses}-${totalPushes}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Total Bet</div><div class="mini-stat-value">${formatCurrency(totalTotalBet)}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Play/Ante/Odds Bet</div><div class="mini-stat-value">${formatCurrency(totalBaseBet)}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Trips Bet</div><div class="mini-stat-value">${formatCurrency(totalTripsBet)}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Pocket Bet</div><div class="mini-stat-value">${formatCurrency(totalPocketBet)}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Total Profit</div><div class="mini-stat-value">${totalProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Play/Ante/Odds Profit</div><div class="mini-stat-value">${playProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Trips Profit</div><div class="mini-stat-value">${tripsProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Pocket Profit</div><div class="mini-stat-value">${pocketProfitDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Followed</div><div class="mini-stat-value">${followDisplay}</div></div>
          <div class="mini-stat-item"><div class="mini-stat-label">Best Hand</div><div class="mini-stat-value">${bestLabel} ${bestCount>0?("x "+bestCount):""}</div></div>`;
      }
    }
  }catch(e){ if(empty) empty.style.display='block'; }
  if(modal){ modal.style.display='block'; }
  const closeBtn = document.getElementById('statsClose');
  if(closeBtn){ closeBtn.onclick = ()=>{ if(modal) modal.style.display='none'; }; }
  if(modal){
    const handler = (e)=>{ if(e.target===modal){ modal.style.display='none'; modal.removeEventListener('click', handler, true);} };
    modal.addEventListener('click', handler, true);
  }
}


// Big result popup helper
function showBigResult(amount){
  try{
    const existing=document.getElementById('resultPopup'); if(existing) existing.remove();
  }catch(e){}
  const div=document.createElement('div');
  div.id='resultPopup';
  const cls = amount>0 ? 'win' : amount<0 ? 'loss' : 'push';
  const label = amount>0 ? 'Won' : amount<0 ? 'Lost' : 'Push';
  const abs = Math.abs(Math.round(amount));
  div.className='result-popup '+cls;
  div.innerHTML = `${label} $${abs}`;
  document.body.appendChild(div);
  setTimeout(()=>{ div.style.transition='opacity .4s ease, transform .4s ease'; div.style.opacity='0'; div.style.transform='translate(-50%,-50%) scale(.96)'; }, 1200);
  setTimeout(()=>{ div.remove(); }, 3000);
}

document.getElementById('newHand').addEventListener('click',newHand);
const _viewSessionBtn = document.getElementById('viewSessionStats');
if(_viewSessionBtn){ _viewSessionBtn.addEventListener('click', ()=>{ showReport(); }); }
const _startNewGameBtn = document.getElementById('startNewGame');
if(_startNewGameBtn){ _startNewGameBtn.addEventListener('click', async ()=>{
  const reportModal = document.getElementById('reportModal');
  if(reportModal) reportModal.style.display='none';
  await logSessionAndReset();
}); }
const _endGameExitBtn = document.getElementById('endGameExit');
if(_endGameExitBtn){ _endGameExitBtn.addEventListener('click', async ()=>{
  const reportModal = document.getElementById('reportModal');
  if(reportModal) reportModal.style.display='none';
  await logSessionAndReset({ exitToSplash:true });
}); }
const _viewStatsBtn = document.getElementById('viewStats');
if(_viewStatsBtn){ _viewStatsBtn.addEventListener('click', ()=>{ openStatsModal(); }); }

// Build single primary action button and hide the old four
(function setupPrimaryAction(){
  try{
    const actions = document.querySelector('.sticky-actions .actions');
    const foldBtn = document.getElementById('fold');
    const checkBtn = document.getElementById('check');
    if(actions && !document.getElementById('primaryAction')){
      const btn = document.createElement('button');
      btn.id = 'primaryAction';
      btn.className = 'action';
      btn.textContent = '';
      // Place primary action to the left of Check (swap positions)
      if(checkBtn){ actions.insertBefore(btn, checkBtn); }
      else if(foldBtn){ actions.insertBefore(btn, foldBtn); }
      else { actions.insertBefore(btn, actions.firstChild); }
    }
    ['raise3','raise2','call1'].forEach(id=>{ const b=document.getElementById(id); if(b){ b.style.display='none'; } });
    updatePrimaryAction();
    const pbtn = document.getElementById('primaryAction');
    if(pbtn){
      pbtn.addEventListener('click', ()=>{
        const act = pbtn.dataset.act||'';
        if(act==='raise3') return raise3();
        if(act==='raise2') return raise2();
        if(act==='call1') return call1();
        if(act==='check') return check();
      });
    }
    // Move New Hand button into sticky actions, to the right of Fold
    const newHandBtn = document.getElementById('newHand');
    if(actions && foldBtn && newHandBtn){ newHandBtn.classList.add('action'); actions.appendChild(newHandBtn); }
  }catch(e){}
})();

(function syncStickyActionsToTable(){
  const tableWrap = document.getElementById('tableWrap');
  const sticky = document.querySelector('.sticky-actions');
  if(!tableWrap || !sticky) return;

  let frameId = null;

  const applySizing = ()=>{
    const rect = tableWrap.getBoundingClientRect();
    if(!rect.width) return;
    sticky.style.width = Math.round(rect.width) + 'px';
    sticky.style.left = Math.round(rect.left) + 'px';
    sticky.style.transform = 'none';
    sticky.style.right = 'auto';
    scheduleMiniPanelsClamp();
  };

  const scheduleApply = ()=>{
    if(frameId !== null) return;
    frameId = requestAnimationFrame(()=>{
      frameId = null;
      applySizing();
    });
  };

  scheduleApply();
  window.addEventListener('resize', scheduleApply);
  window.addEventListener('load', scheduleApply);

  if('ResizeObserver' in window){
    const ro = new ResizeObserver(()=> scheduleApply());
    ro.observe(tableWrap);
  }
})();

// Keep legacy listeners (harmless; buttons are hidden)
document.getElementById('raise3').addEventListener('click',raise3);
document.getElementById('raise2').addEventListener('click',raise2);
const _advToggle= document.getElementById('toggleAdvice');
if(_advToggle){
  _advToggle.addEventListener('change', (e)=>{ state.showAdvice = !!e.target.checked; renderAdvice(); updatePrimaryAction(); });
}

// Show Hand Ranking During Play toggle
const _rankToggle = document.getElementById('togglePlayerHand');
if(_rankToggle){
  _rankToggle.addEventListener('change', (e)=>{ state.showPlayerHand = !!e.target.checked; renderCards(); });
}

// Correct Strategy Mistakes toggle
const _correctToggle = document.getElementById('toggleCorrectMistakes');
if(_correctToggle){
  _correctToggle.addEventListener('change', (e)=>{ state.correctMistakes = !!e.target.checked; });
}

document.getElementById('call1').addEventListener('click',call1);
document.getElementById('check').addEventListener('click',check);
document.getElementById('fold').addEventListener('click',fold);

// Move Status block below Log to compact sidebar order
(function moveStatusBelowLog(){
  try{
    const sidebar = document.getElementById('sidebar');
    if(!sidebar) return;
    const h2s = Array.from(sidebar.querySelectorAll('h2'));
    const statusH2 = h2s.find(h=> (h.textContent||'').trim().toLowerCase()==='status');
    const logH2 = h2s.find(h=> (h.textContent||'').trim().toLowerCase()==='log');
    if(!statusH2 || !logH2) return;
    const statusBlock = statusH2.parentElement;
    const logBlock = logH2.parentElement;
    if(!statusBlock || !logBlock) return;
    // Only move if Status currently appears before Log
    if(statusBlock.compareDocumentPosition(logBlock) & Node.DOCUMENT_POSITION_FOLLOWING){
      logBlock.insertAdjacentElement('afterend', statusBlock);
      statusBlock.style.marginTop = '6px';
    }
  }catch(e){}
})();

state.bank=Number(document.getElementById('bankroll').value)||1000; state.sessionStartBank=state.bank; updateBank(); setStage('waiting'); renderAll(); enableButtons(); updateMiniStats();
/// Initialize chart data and hooks
try{ state.sessionStartTs = Date.now(); state.bankHistory=[state.bank]; state.handProfits=[]; state.handFollowed=[]; state.handHypProfits=[]; state.handClasses=[]; setupCharts(); }catch(e){}
// Allow changing starting bankroll before first bet only
try{
  const _bankInp = document.getElementById('bankroll');
  if(_bankInp){
    _bankInp.addEventListener('input', ()=>{
      if(state.hands>0) return; // lock after first hand started
      const v = Number(_bankInp.value);
      if(!isFinite(v)) return;
      state.bank = Math.max(0, Math.floor(v));
      state.sessionStartBank = state.bank; state.sessionStartTs = Date.now();
      updateBank();
      // Reset chart baseline to new starting bank
      state.bankHistory = [state.bank];
      state.handProfits = [];
      state.handFollowed = [];
      state.handHypProfits = [];
      state.handClasses = [];
      state.handOutcomes = [];
      state.handBetBreakdown = [];
      try{ drawMiniChart(); if(isChartOpen()) drawLargeChart(); }catch(e){}
    });
  }
  refreshBankrollEditable();
}catch(e){}

function captureSessionSummary(){
  const startBank = Number(state.sessionStartBank || 0);
  const endBank = Number(state.bank || 0);
  const metrics = state.metrics || {};
  const tot = Number(state.hands || 0);
  const followed = Number(metrics.followed || 0);
  const delta = Number(metrics.totalDelta || 0);
  const profit = endBank - startBank;
  const profitIfWOO = profit + delta;
  const handRecord = metrics.handRecord || {};
  const wins = Number(handRecord.win || 0);
  const losses = Number(handRecord.loss || 0);
  const pushes = Number(handRecord.push || 0);
  const betProfit = metrics.betProfit || {};
  const playProfit = Number(betProfit.play || 0);
  const tripsProfit = Number(betProfit.trips || 0);
  const pocketProfit = Number(betProfit.pocket || 0);
  const betTotals = metrics.betTotals || {};
  const playBetTotal = Number(betTotals.play || 0);
  const anteBetTotal = Number(betTotals.ante || 0);
  const blindBetTotal = Number(betTotals.blind || 0);
  const tripsBetTotal = Number(betTotals.trips || 0);
  const pocketBetTotal = Number(betTotals.pocket || 0);
  const playAnteOddsBet = playBetTotal + anteBetTotal + blindBetTotal;
  const totalBetPlaced = playAnteOddsBet + tripsBetTotal + pocketBetTotal;
  const startTs = state.sessionStartTs || Date.now();
  const endTs = Date.now();
  const profits = Array.isArray(state.handProfits) ? state.handProfits.slice() : [];
  const maxWin = profits.length ? Math.max.apply(null, profits) : 0;
  const maxLoss = profits.length ? Math.min.apply(null, profits) : 0;
  const bankHistory = Array.isArray(state.bankHistory) ? state.bankHistory.slice() : [];
  const maxBank = bankHistory.length ? Math.max.apply(null, bankHistory) : endBank;
  const minBank = bankHistory.length ? Math.min.apply(null, bankHistory) : endBank;
  const maxTotalProfit = maxBank - startBank;
  const maxTotalLoss = minBank - startBank;
  const classOrder = {royal_flush:9, straight_flush:8, four_kind:7, full_house:6, flush:5, straight:4, three_kind:3, two_pair:2, one_pair:1, high_card:0};
  const classes = Array.isArray(state.handClasses) ? state.handClasses : [];
  let bestIdx = -1, bestScore = -1;
  for(let i=0;i<classes.length;i++){
    const c = classes[i]; const sc = (c && classOrder[c]!==undefined) ? classOrder[c] : -1;
    if(sc>bestScore){ bestScore=sc; bestIdx=i; }
  }
  const bestClass = (bestIdx>=0) ? classes[bestIdx] : null;
  const bestLabel = bestClass ? labelTextFromClass(bestClass) : '-';
  const bestCount = bestClass ? classes.filter(c=>c===bestClass).length : 0;
  let winStreak=0, lossStreak=0, maxWinStreak=0, maxLossStreak=0;
  for(const v of profits){
    if(v>0){ winStreak++; lossStreak=0; if(winStreak>maxWinStreak) maxWinStreak=winStreak; }
    else if(v<0){ lossStreak++; winStreak=0; if(lossStreak>maxLossStreak) maxLossStreak=lossStreak; }
    else { winStreak=0; lossStreak=0; }
  }
  const summary = {
    startBank,
    endBank,
    hands: tot,
    profit,
    followed,
    delta,
    profitIfWOO,
    totalBet: totalBetPlaced,
    playAnteOddsBet,
    tripsBet: tripsBetTotal,
    pocketBet: pocketBetTotal,
    wins,
    losses,
    pushes,
    playProfit,
    tripsProfit,
    pocketProfit,
    startTs,
    endTs,
    greatestTotalProfit: maxTotalProfit,
    greatestTotalLoss: maxTotalLoss,
    bestProfitHand: maxWin,
    worstProfitHand: maxLoss,
    mostConsecutiveWins: maxWinStreak,
    mostConsecutiveLosses: maxLossStreak,
    bestHandLabel: bestLabel,
    bestHandCount: bestCount
  };
  const persist = {
    player: state.playerName || '-',
    sessionNo: null,
    sessionStart: startTs,
    sessionEnd: endTs,
    startBank,
    endBank,
    hands: tot,
    profit,
    totalBet: totalBetPlaced,
    playAnteOddsBet,
    tripsBet: tripsBetTotal,
    pocketBet: pocketBetTotal,
    wins,
    losses,
    pushes,
    playProfit,
    tripsProfit,
    pocketProfit,
    wooFollowed: followed,
    hypoProfit: profitIfWOO,
    greatestTotalProfit: maxTotalProfit,
    greatestTotalLoss: maxTotalLoss,
    bestProfitHand: maxWin,
    worstProfitHand: maxLoss,
    mostConsecutiveWins: maxWinStreak,
    mostConsecutiveLosses: maxLossStreak,
    bestHandLabel: bestLabel,
    bestHandCount: bestCount,
    createdAt: new Date().toISOString()
  };
  state._lastSummary = persist;
  summary.persist = persist;
  return summary;
}

function showReport(){
  const modal=el('reportModal'); const sum=el('reportSummary');
  const summary = captureSessionSummary();
  const fmtDT = (ts)=>{ try{ return new Date(ts).toLocaleString(); }catch(e){ return '-'; } };
  const playerName = state.playerName || '-';
  const bestLabel = summary.bestHandLabel || '-';
  const bestCount = summary.bestHandCount || 0;
  const winsCount = Number(summary.wins || 0);
  const lossesCount = Number(summary.losses || 0);
  const pushesCount = Number(summary.pushes || 0);
  const recordStr = `${winsCount}-${lossesCount}-${pushesCount}`;
  const totalBetVal = formatCurrency(summary.totalBet || 0);
  const playAnteOddsBetVal = formatCurrency(summary.playAnteOddsBet || 0);
  const tripsBetVal = formatCurrency(summary.tripsBet || 0);
  const pocketBetVal = formatCurrency(summary.pocketBet || 0);
  const playProfitVal = Number(summary.playProfit || 0);
  const tripsProfitVal = Number(summary.tripsProfit || 0);
  const pocketProfitVal = Number(summary.pocketProfit || 0);
  if(sum){
    sum.innerHTML = `
      <div class="panel" style="padding:4px; grid-column:1 / -1;">Player Name<br/><span style="font-size:12px; color:#b6c6ea;">${playerName}</span></div>
      <div class="panel" style="padding:4px;">Session Start<br/><span style="font-size:12px; color:#b6c6ea;">${fmtDT(summary.startTs)}</span></div>
      <div class="panel" style="padding:4px;">Starting Bankroll<br/><span class="money" style="font-size:18px;">$${summary.startBank}</span></div>
      <div class="panel" style="padding:4px;">Ending Bankroll<br/><span class="money" style="font-size:18px;">$${summary.endBank}</span></div>
      <div class="panel" style="padding:4px;">Hands Played<br/><span class="money" style="font-size:18px;">${summary.hands}</span></div>
      <div class="panel" style="padding:4px;">Total Bet<br/><span class="money" style="font-size:18px;">${totalBetVal}</span></div>
      <div class="panel" style="padding:4px;">Total Profit<br/><span class="money" style="font-size:18px;">${fmt(summary.profit)}</span></div>
      <div class="panel" style="padding:4px;">Play / Ante / Odds Bet<br/><span class="money" style="font-size:18px;">${playAnteOddsBetVal}</span></div>
      <div class="panel" style="padding:4px;">Play / Ante / Odds Profit<br/><span class="money" style="font-size:18px;">${fmt(playProfitVal)}</span></div>
      <div class="panel" style="padding:4px;">Trips Bet<br/><span class="money" style="font-size:18px;">${tripsBetVal}</span></div>
      <div class="panel" style="padding:4px;">Trips Profit<br/><span class="money" style="font-size:18px;">${fmt(tripsProfitVal)}</span></div>
      <div class="panel" style="padding:4px;">Pocket Bet<br/><span class="money" style="font-size:18px;">${pocketBetVal}</span></div>
      <div class="panel" style="padding:4px;">Pocket Profit<br/><span class="money" style="font-size:18px;">${fmt(pocketProfitVal)}</span></div>
      <div class="panel" style="padding:4px;">Hand Record<br/><span class="money" style="font-size:18px;">${recordStr}</span></div>
      <div class="panel" style="padding:4px;">Strategy Followed<br/><span class="money" style="font-size:18px;">${summary.followed} / ${summary.hands}</span></div>
      <div class="panel" style="padding:4px;">Hypo Profit (Using Strategy)<br/><span class="money" style="font-size:18px;">${fmt(summary.profitIfWOO)}</span></div>
      <div class="panel" style="padding:4px;">Greatest Total Profit<br/><span class="money" style="font-size:18px;">${fmt(summary.greatestTotalProfit)}</span></div>
      <div class="panel" style="padding:4px;">Greatest Total Loss<br/><span class="money" style="font-size:18px;">${fmt(summary.greatestTotalLoss)}</span></div>
      <div class="panel" style="padding:4px;">Most Consec Wins<br/><span class="money" style="font-size:18px;">${summary.mostConsecutiveWins}</span></div>
      <div class="panel" style="padding:4px;">Most Consec Losses<br/><span class="money" style="font-size:18px;">${summary.mostConsecutiveLosses}</span></div>
      <div class="panel" style="padding:4px;">Best Hand<br/><span style="font-size:12px; color:#b6c6ea;">${bestLabel}${bestCount>0?` x ${bestCount}`:''}</span></div>`;
  }
  if(modal){ modal.style.display='block'; }
  const closeBtn = el('reportClose');
  if(closeBtn){ closeBtn.onclick = ()=>{ if(modal) modal.style.display='none'; }; }
  const endBtn = el('reportEnd');
  if(endBtn){
    endBtn.onclick = async ()=>{
      if(modal) modal.style.display='none';
      await logSessionAndReset();
    };
  }
}

async function logSessionAndReset(options){
  const opts = options || {};
  const exitToSplash = !!opts.exitToSplash;
  const summary = captureSessionSummary();
  try{
    await saveSessionSummary(summary.persist || {});
  }catch(e){}
  try{
    const bankrollInput = document.getElementById('bankroll');
    const newBank = bankrollInput ? Number(bankrollInput.value)||0 : 0;
    state.bank = newBank;
    updateBank();
    if(bankrollInput){ bankrollInput.disabled = false; }
  }catch(e){}
  state.sessionStartBank = state.bank;
  state.sessionStartTs = Date.now();
  state.bankHistory = [state.bank];
  state.handProfits = [];
  state.handFollowed = [];
  state.handHypProfits = [];
  state.handClasses = [];
  state.handOutcomes = [];
  state.handBetBreakdown = [];
  state.metrics = {
    followed:0,
    deviated:0,
    totalDelta:0,
    totalProfit:0,
    handRecord:{win:0,loss:0,push:0},
    betProfit:{play:0,trips:0,pocket:0},
    betTotals:{play:0,ante:0,blind:0,trips:0,pocket:0}
  };
  state.hands = 0;
  try{ const handCountEl = document.getElementById('handCount'); if(handCountEl) handCountEl.textContent='0'; }catch(e){}
  try{ const logEl = el('log'); if(logEl){ logEl.innerHTML=''; } }catch(e){}
  setStage('waiting');
  renderAll();
  enableButtons();
  clearBetChips();
  try{ drawMiniChart(); if(isChartOpen()) drawLargeChart(); }catch(e){}
  refreshBankrollEditable();
  updateMiniStats();
  state._lastSummary = null;
  if(exitToSplash){
    try{
      const splash = document.getElementById('splashOverlay');
      if(splash){ splash.style.display='flex'; }
      if(document && document.body){ document.body.classList.add('splash-open'); }
    }catch(e){}
  }
}
</script>

<script>
(function(){
  const mq = window.matchMedia('(max-width: 1000px)');
  const body = document.body;
  const btn = document.getElementById('menuToggle');
  const overlay = document.getElementById('sidebarOverlay');
  const sidebar = document.getElementById('sidebar');
  const closeBtn = document.getElementById('sidebarClose');
  const TRAP_SELECTOR = 'a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])';
  let lastFocused = null;

  function getFocusable(){
    if(!sidebar) return [];
    const nodes = Array.from(sidebar.querySelectorAll(TRAP_SELECTOR));
    // Keep elements that are visible or currently focused
    return nodes.filter(n=> (n.offsetParent!==null) || (n === document.activeElement));
  }
  function focusFirst(){
    const els = getFocusable();
    if(els.length>0){ els[0].focus(); }
    else if(closeBtn){ closeBtn.focus(); }
    else if(sidebar){ sidebar.focus(); }
  }
  function trapKeydown(e){
    if(!body.classList.contains('sidebar-open')) return;
    if(e.key === 'Escape'){ e.preventDefault(); closeSidebar(); return; }
    if(e.key !== 'Tab') return;
    const els = getFocusable(); if(els.length===0) return;
    const first = els[0], last = els[els.length-1];
    const active = document.activeElement;
    if(e.shiftKey){
      if(active===first || !sidebar.contains(active)){
        e.preventDefault(); last.focus();
      }
    }else{
      if(active===last || !sidebar.contains(active)){
        e.preventDefault(); first.focus();
      }
    }
  }
  const closeSidebar = ()=>{
    body.classList.remove('sidebar-open');
    if(btn) btn.setAttribute('aria-expanded','false');
    document.removeEventListener('keydown', trapKeydown, true);
    // Restore focus to the menu button for accessibility
    if(btn && mq.matches){ btn.focus(); }
    if(sidebar){ sidebar.removeAttribute('role'); sidebar.removeAttribute('aria-modal'); }
  };
  const openSidebar = ()=>{
    body.classList.add('sidebar-open');
    if(btn) btn.setAttribute('aria-expanded','true');
    lastFocused = document.activeElement;
    document.addEventListener('keydown', trapKeydown, true);
    // Move focus inside the drawer
    setTimeout(focusFirst, 0);
    if(sidebar){ sidebar.setAttribute('role','dialog'); sidebar.setAttribute('aria-modal','true'); }
  };
  const toggleSidebar = ()=>{
    if(body.classList.contains('sidebar-open')) closeSidebar(); else openSidebar();
  };
  if(btn) btn.addEventListener('click', toggleSidebar);
  if(closeBtn) closeBtn.addEventListener('click', closeSidebar);
  if(overlay) overlay.addEventListener('click', closeSidebar);
  // Ensure state is consistent across resizes
  const handleMQ = ()=>{ if(!mq.matches){ closeSidebar(); } };
  mq.addEventListener ? mq.addEventListener('change', handleMQ) : mq.addListener(handleMQ);
  handleMQ();
})();
</script>
<script>
(function(){
  const body = document.body;
  const splash = document.getElementById("splashOverlay");
  const splashClose = document.getElementById("splashClose");
  const splashShowWoo = document.getElementById("splashShowWoo");
  const splashShowRules = document.getElementById("splashShowRules");
  const splashShowVersion = document.getElementById("splashShowVersion");
  const playerModal = document.getElementById('playerModal');
  const playerSel = document.getElementById('playerNameSelect');
  const playerInp = document.getElementById('playerNameInput');
  const playerErr = document.getElementById('playerErr');
  const playerCancel = document.getElementById('playerCancel');
  const playerContinue = document.getElementById('playerContinue');
  const playerViewStats = document.getElementById('playerViewStats');
  const playerDeleteBtn = document.getElementById('playerDelete');
  const woo = document.getElementById("wooModal");
  const wooClose = document.getElementById("wooClose");
  const rules = document.getElementById("rulesModal");
  const rulesClose = document.getElementById("rulesClose");
  const version = document.getElementById("versionModal");
  const versionClose = document.getElementById("versionClose");
  const handLogModal = document.getElementById('handLogModal');
  const handLogClose = document.getElementById('handLogClose');
  const handLogContent = document.getElementById('handLogContent');
  const miniLog = document.getElementById('log');


  function updatePlayerInputState(){
    const selectedVal = playerSel ? playerSel.value : '';
    const isNew = !selectedVal;
    if(playerInp){
      playerInp.disabled = !isNew;
      if(!isNew){ playerInp.value = ''; }
    }
    if(playerViewStats){ playerViewStats.disabled = isNew; }
    if(playerDeleteBtn){ playerDeleteBtn.disabled = isNew; }
  }

  function openHandLog(){
    if(handLogModal){
      const logEl = document.getElementById('log');
      if(handLogContent){ handLogContent.innerHTML = logEl ? logEl.innerHTML : ''; }
      handLogModal.style.display='block';
    }
  }
  function closeHandLog(){
    if(handLogModal){ handLogModal.style.display='none'; }
  }

  function openSplash(){ if(splash){ splash.style.display="flex"; body.classList.add("splash-open"); } }
  function closeSplash(){ if(splash){ splash.style.display="none"; body.classList.remove("splash-open"); } }
  function openPlayer(){ if(playerModal){ playerModal.style.display='block'; populatePlayers(true); } }
  function closePlayer(){ if(playerModal){ playerModal.style.display='none'; } }
  async function populatePlayers(focusAfterLoad){
    try{
      if(!playerSel) return;
      const names = await listPlayers();
      const chosen = (localStorage.getItem('huhe.playerName')||'').trim();
      playerSel.innerHTML = '<option value="">-- new player --</option>' +
        (names||[]).map(n=>`<option value="${String(n).replace(/"/g,'&quot;')}">${n}</option>`).join('');
      if(chosen){
        const opt = Array.from(playerSel.options).find(o=>o.value===chosen);
        if(opt) playerSel.value = chosen;
      }
      if(playerErr) playerErr.textContent = '';
      updatePlayerInputState();
      if(focusAfterLoad){
        setTimeout(()=>{ try{
          if(playerSel && playerSel.value === '' && playerInp && !playerInp.disabled){ playerInp.focus(); }
          else if(playerSel){ playerSel.focus(); }
          else if(playerInp && !playerInp.disabled){ playerInp.focus(); }
        }catch(e){} }, 0);
      }
    }catch(e){}
  }
  function openWoo(){ if(woo){ woo.style.display="block"; } }
  function closeWoo(){ if(woo){ woo.style.display="none"; } }
  function openRules(){ if(rules){ rules.style.display="block"; } }
  function closeRules(){ if(rules){ rules.style.display="none"; } }
  function openVersion(){ if(version){ version.style.display="block"; } }
  function closeVersion(){ if(version){ version.style.display="none"; } }
  async function _openStatsModal_local(playerOverride){
    return openStatsModal(playerOverride);
  }

  if(document.readyState === "loading"){ document.addEventListener("DOMContentLoaded", openSplash); } else { openSplash(); }

  updatePlayerInputState();

  if(splashClose) splashClose.addEventListener("click", function(){ openPlayer(); });
  if(splashShowWoo) splashShowWoo.addEventListener("click", function(){ openWoo(); });
  if(splashShowVersion) splashShowVersion.addEventListener("click", function(){ openVersion(); });
  if(wooClose) wooClose.addEventListener("click", closeWoo);
  if(woo) woo.addEventListener("click", function(e){ if(e.target === woo) closeWoo(); });
  if(splashShowRules) splashShowRules.addEventListener("click", function(){ openRules(); });
  if(rulesClose) rulesClose.addEventListener("click", closeRules);
  if(rules) rules.addEventListener("click", function(e){ if(e.target === rules) closeRules(); });
  if(versionClose) versionClose.addEventListener("click", closeVersion);
  if(version) version.addEventListener("click", function(e){ if(e.target === version) closeVersion(); });

  if(handLogClose) handLogClose.addEventListener('click', closeHandLog);
  if(handLogModal) handLogModal.addEventListener('click', function(e){ if(e.target === handLogModal) closeHandLog(); });
  if(miniLog){
    miniLog.style.cursor = 'pointer';
    if(!miniLog.hasAttribute('tabindex')) miniLog.setAttribute('tabindex','0');
    miniLog.addEventListener('click', function(){ openHandLog(); });
    miniLog.addEventListener('keydown', function(evt){ if(evt.key==='Enter' || evt.key===' '){ evt.preventDefault(); openHandLog(); } });
  }

  if(playerSel) playerSel.addEventListener('change', function(){
    if(playerErr) playerErr.textContent='';
    updatePlayerInputState();
    if(playerSel.value === '' && playerInp && !playerInp.disabled){
      setTimeout(()=>{ try{ playerInp.focus(); }catch(e){} }, 0);
    }
  });
  if(playerViewStats) playerViewStats.addEventListener('click', async function(){
    try{
      const selected = playerSel ? playerSel.value : '';
      if(!selected) return;
      await _openStatsModal_local(selected);
    }catch(e){}
  });
  if(playerDeleteBtn) playerDeleteBtn.addEventListener('click', async function(){
    try{
      const selected = playerSel ? playerSel.value : '';
      if(!selected) return;
      if(typeof window !== 'undefined' && !window.confirm(`Delete player sessions for "${selected}"? This will remove all saved sessions.`)){ return; }
      if(playerErr) playerErr.textContent='';
      if(playerViewStats) playerViewStats.disabled = true;
      playerDeleteBtn.disabled = true;
      await deletePlayer(selected);
      try{
        const stored = (localStorage.getItem('huhe.playerName')||'').trim();
        if(stored === selected){ localStorage.removeItem('huhe.playerName'); }
      }catch(e){}
      if(state.playerName === selected){ state.playerName = '-'; }
      if(playerInp){ playerInp.value=''; }
      await populatePlayers();
      updatePlayerInputState();
      if(playerSel){ playerSel.focus(); }
      if(playerErr){ playerErr.textContent = `Deleted player "${selected}".`; }
    }catch(err){
      if(playerErr){ playerErr.textContent = 'Unable to delete player sessions. Please try again.'; }
      if(playerViewStats){ playerViewStats.disabled = !selected; }
      playerDeleteBtn.disabled = !selected;
    }
  });
  if(playerCancel) playerCancel.addEventListener('click', function(){ closePlayer(); });
  if(playerModal) playerModal.addEventListener('click', function(e){ if(e.target===playerModal) closePlayer(); });
  if(playerContinue) playerContinue.addEventListener('click', async function(){
    try{
      const selected = playerSel ? playerSel.value : '';
      const inputVal = playerInp ? playerInp.value : '';
      const name = (!selected ? inputVal : selected).trim();
      if(!name){ if(playerErr){ playerErr.textContent='Please enter or select a player name.'; } return; }
      state.playerName = name;
      try{ localStorage.setItem('huhe.playerName', name); }catch(e){}
      closePlayer();
      closeSplash();
    }catch(e){}
  });
})();
</script>
</body>
</html>







